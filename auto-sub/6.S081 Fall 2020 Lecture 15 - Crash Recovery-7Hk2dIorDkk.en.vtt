WEBVTT
Kind: captions
Language: en

00:00:00.240 --> 00:00:03.750 align:start position:0%
 
and<00:00:00.480><c> can</c><00:00:00.640><c> everybody</c><00:00:00.960><c> see</c><00:00:01.120><c> my</c><00:00:01.439><c> uh</c><00:00:02.960><c> screen</c>

00:00:03.750 --> 00:00:03.760 align:start position:0%
and can everybody see my uh screen
 

00:00:03.760 --> 00:00:06.950 align:start position:0%
and can everybody see my uh screen
or<00:00:04.240><c> the</c><00:00:04.799><c> whiteboard</c><00:00:05.279><c> that</c><00:00:05.359><c> i</c><00:00:05.520><c> shared</c><00:00:06.160><c> yeah</c>

00:00:06.950 --> 00:00:06.960 align:start position:0%
or the whiteboard that i shared yeah
 

00:00:06.960 --> 00:00:10.709 align:start position:0%
or the whiteboard that i shared yeah
okay<00:00:07.279><c> good</c><00:00:09.280><c> yeah</c><00:00:09.440><c> how</c><00:00:09.920><c> are</c><00:00:10.080><c> people</c><00:00:10.320><c> doing</c><00:00:10.559><c> with</c>

00:00:10.709 --> 00:00:10.719 align:start position:0%
okay good yeah how are people doing with
 

00:00:10.719 --> 00:00:11.030 align:start position:0%
okay good yeah how are people doing with
the

00:00:11.030 --> 00:00:11.040 align:start position:0%
the
 

00:00:11.040 --> 00:00:13.830 align:start position:0%
the
log<00:00:11.360><c> lab</c><00:00:11.679><c> let</c><00:00:11.840><c> me</c><00:00:12.160><c> start</c><00:00:12.400><c> there</c><00:00:12.799><c> and</c><00:00:13.120><c> just</c><00:00:13.519><c> ask</c>

00:00:13.830 --> 00:00:13.840 align:start position:0%
log lab let me start there and just ask
 

00:00:13.840 --> 00:00:15.749 align:start position:0%
log lab let me start there and just ask
if

00:00:15.749 --> 00:00:15.759 align:start position:0%
if
 

00:00:15.759 --> 00:00:18.790 align:start position:0%
if
how<00:00:16.160><c> progress</c><00:00:16.640><c> is</c><00:00:17.199><c> and</c><00:00:17.520><c> whether</c><00:00:17.920><c> it's</c><00:00:18.560><c> more</c>

00:00:18.790 --> 00:00:18.800 align:start position:0%
how progress is and whether it's more
 

00:00:18.800 --> 00:00:19.590 align:start position:0%
how progress is and whether it's more
difficult<00:00:19.199><c> or</c>

00:00:19.590 --> 00:00:19.600 align:start position:0%
difficult or
 

00:00:19.600 --> 00:00:22.710 align:start position:0%
difficult or
it's<00:00:19.920><c> looking</c><00:00:20.320><c> okay</c><00:00:21.760><c> anybody</c><00:00:22.160><c> who</c><00:00:22.240><c> want</c><00:00:22.400><c> to</c>

00:00:22.710 --> 00:00:22.720 align:start position:0%
it's looking okay anybody who want to
 

00:00:22.720 --> 00:00:28.830 align:start position:0%
it's looking okay anybody who want to
sort<00:00:22.880><c> of</c><00:00:22.960><c> report</c><00:00:23.359><c> in</c><00:00:23.439><c> their</c><00:00:23.600><c> experience</c><00:00:24.000><c> so</c>

00:00:28.830 --> 00:00:28.840 align:start position:0%
 
 

00:00:28.840 --> 00:00:30.390 align:start position:0%
 
far

00:00:30.390 --> 00:00:30.400 align:start position:0%
far
 

00:00:30.400 --> 00:00:37.030 align:start position:0%
far
i<00:00:30.640><c> hope</c><00:00:31.199><c> lots</c><00:00:31.439><c> of</c><00:00:31.519><c> people</c><00:00:31.760><c> have</c><00:00:31.920><c> started</c>

00:00:37.030 --> 00:00:37.040 align:start position:0%
 
 

00:00:37.040 --> 00:00:40.150 align:start position:0%
 
are<00:00:37.200><c> you</c><00:00:37.280><c> welcome</c><00:00:39.200><c> yeah</c><00:00:39.360><c> go</c><00:00:39.520><c> ahead</c>

00:00:40.150 --> 00:00:40.160 align:start position:0%
are you welcome yeah go ahead
 

00:00:40.160 --> 00:00:45.190 align:start position:0%
are you welcome yeah go ahead
oh<00:00:40.480><c> sorry</c><00:00:40.719><c> go</c><00:00:40.879><c> ahead</c><00:00:41.840><c> okay</c><00:00:42.079><c> oh</c><00:00:42.320><c> okay</c><00:00:42.840><c> cool</c>

00:00:45.190 --> 00:00:45.200 align:start position:0%
oh sorry go ahead okay oh okay cool
 

00:00:45.200 --> 00:00:48.630 align:start position:0%
oh sorry go ahead okay oh okay cool
i'll<00:00:45.360><c> go</c><00:00:45.600><c> i'll</c><00:00:45.760><c> go</c><00:00:46.079><c> um</c><00:00:47.440><c> the</c><00:00:47.600><c> lock</c><00:00:47.920><c> lab</c>

00:00:48.630 --> 00:00:48.640 align:start position:0%
i'll go i'll go um the lock lab
 

00:00:48.640 --> 00:00:52.790 align:start position:0%
i'll go i'll go um the lock lab
i<00:00:48.800><c> think</c><00:00:48.960><c> the</c><00:00:49.120><c> first</c><00:00:49.440><c> part</c><00:00:49.840><c> the</c><00:00:50.239><c> um</c>

00:00:52.790 --> 00:00:52.800 align:start position:0%
 
 

00:00:52.800 --> 00:00:56.310 align:start position:0%
 
the<00:00:52.960><c> k</c><00:00:53.199><c> lock</c><00:00:54.559><c> was</c>

00:00:56.310 --> 00:00:56.320 align:start position:0%
the k lock was
 

00:00:56.320 --> 00:00:59.590 align:start position:0%
the k lock was
not<00:00:56.559><c> as</c><00:00:56.719><c> bad</c><00:00:57.600><c> well</c><00:00:58.480><c> and</c><00:00:58.559><c> then</c><00:00:58.719><c> the</c><00:00:58.879><c> second</c><00:00:59.280><c> part</c>

00:00:59.590 --> 00:00:59.600 align:start position:0%
not as bad well and then the second part
 

00:00:59.600 --> 00:01:00.549 align:start position:0%
not as bad well and then the second part
um

00:01:00.549 --> 00:01:00.559 align:start position:0%
um
 

00:01:00.559 --> 00:01:02.709 align:start position:0%
um
was<00:01:00.800><c> a</c><00:01:00.879><c> bit</c><00:01:01.120><c> harder</c><00:01:01.760><c> well</c><00:01:02.000><c> it's</c><00:01:02.160><c> a</c><00:01:02.239><c> lot</c><00:01:02.399><c> harder</c>

00:01:02.709 --> 00:01:02.719 align:start position:0%
was a bit harder well it's a lot harder
 

00:01:02.719 --> 00:01:03.590 align:start position:0%
was a bit harder well it's a lot harder
in<00:01:02.800><c> my</c><00:01:02.960><c> opinion</c>

00:01:03.590 --> 00:01:03.600 align:start position:0%
in my opinion
 

00:01:03.600 --> 00:01:10.830 align:start position:0%
in my opinion
yep<00:01:04.080><c> um</c><00:01:06.080><c> you</c><00:01:06.240><c> just</c><00:01:06.400><c> have</c><00:01:06.560><c> to</c><00:01:06.720><c> figure</c><00:01:07.119><c> out</c>

00:01:10.830 --> 00:01:10.840 align:start position:0%
 
 

00:01:10.840 --> 00:01:14.390 align:start position:0%
 
a<00:01:11.680><c> i</c><00:01:11.760><c> guess</c><00:01:12.000><c> the</c><00:01:12.080><c> hard</c><00:01:12.320><c> part</c><00:01:12.560><c> was</c>

00:01:14.390 --> 00:01:14.400 align:start position:0%
a i guess the hard part was
 

00:01:14.400 --> 00:01:17.670 align:start position:0%
a i guess the hard part was
thinking<00:01:14.799><c> of</c><00:01:14.960><c> a</c><00:01:15.040><c> solution</c><00:01:15.600><c> that</c><00:01:15.920><c> um</c><00:01:17.280><c> it's</c><00:01:17.439><c> like</c>

00:01:17.670 --> 00:01:17.680 align:start position:0%
thinking of a solution that um it's like
 

00:01:17.680 --> 00:01:19.749 align:start position:0%
thinking of a solution that um it's like
hey<00:01:17.840><c> this</c><00:01:18.159><c> doesn't</c><00:01:18.560><c> cause</c><00:01:18.799><c> deadlock</c><00:01:19.360><c> but</c><00:01:19.520><c> then</c>

00:01:19.749 --> 00:01:19.759 align:start position:0%
hey this doesn't cause deadlock but then
 

00:01:19.759 --> 00:01:20.789 align:start position:0%
hey this doesn't cause deadlock but then
um

00:01:20.789 --> 00:01:20.799 align:start position:0%
um
 

00:01:20.799 --> 00:01:24.310 align:start position:0%
um
if<00:01:20.960><c> you</c><00:01:21.040><c> think</c><00:01:22.479><c> there</c><00:01:22.640><c> are</c><00:01:22.799><c> cases</c><00:01:23.280><c> where</c><00:01:23.520><c> like</c>

00:01:24.310 --> 00:01:24.320 align:start position:0%
if you think there are cases where like
 

00:01:24.320 --> 00:01:28.070 align:start position:0%
if you think there are cases where like
deadlock<00:01:25.600><c> could</c><00:01:25.840><c> happen</c><00:01:26.240><c> if</c><00:01:26.479><c> you</c><00:01:27.119><c> acquire</c>

00:01:28.070 --> 00:01:28.080 align:start position:0%
deadlock could happen if you acquire
 

00:01:28.080 --> 00:01:30.310 align:start position:0%
deadlock could happen if you acquire
a<00:01:28.240><c> bucket</c><00:01:28.720><c> slot</c><00:01:29.200><c> again</c><00:01:29.520><c> and</c><00:01:29.680><c> all</c><00:01:29.759><c> that</c><00:01:30.000><c> stuff</c>

00:01:30.310 --> 00:01:30.320 align:start position:0%
a bucket slot again and all that stuff
 

00:01:30.320 --> 00:01:32.230 align:start position:0%
a bucket slot again and all that stuff
but

00:01:32.230 --> 00:01:32.240 align:start position:0%
but
 

00:01:32.240 --> 00:01:34.230 align:start position:0%
but
yeah<00:01:32.479><c> just</c><00:01:32.640><c> have</c><00:01:32.799><c> to</c><00:01:32.960><c> think</c><00:01:33.840><c> you</c><00:01:34.000><c> have</c><00:01:34.079><c> to</c>

00:01:34.230 --> 00:01:34.240 align:start position:0%
yeah just have to think you have to
 

00:01:34.240 --> 00:01:35.270 align:start position:0%
yeah just have to think you have to
think<00:01:34.479><c> like</c>

00:01:35.270 --> 00:01:35.280 align:start position:0%
think like
 

00:01:35.280 --> 00:01:37.590 align:start position:0%
think like
about<00:01:35.759><c> extra</c><00:01:36.079><c> cases</c><00:01:36.479><c> and</c><00:01:36.640><c> all</c><00:01:36.720><c> that</c><00:01:36.880><c> stuff</c><00:01:37.200><c> and</c>

00:01:37.590 --> 00:01:37.600 align:start position:0%
about extra cases and all that stuff and
 

00:01:37.600 --> 00:01:39.429 align:start position:0%
about extra cases and all that stuff and
after<00:01:37.920><c> that</c><00:01:38.079><c> it</c><00:01:38.159><c> shouldn't</c><00:01:38.400><c> be</c><00:01:38.640><c> that</c><00:01:38.799><c> bad</c>

00:01:39.429 --> 00:01:39.439 align:start position:0%
after that it shouldn't be that bad
 

00:01:39.439 --> 00:01:41.270 align:start position:0%
after that it shouldn't be that bad
okay<00:01:40.000><c> anybody</c><00:01:40.479><c> else</c><00:01:40.640><c> who</c><00:01:40.799><c> want</c><00:01:40.960><c> to</c><00:01:41.040><c> share</c>

00:01:41.270 --> 00:01:41.280 align:start position:0%
okay anybody else who want to share
 

00:01:41.280 --> 00:01:43.190 align:start position:0%
okay anybody else who want to share
their<00:01:41.520><c> experience</c>

00:01:43.190 --> 00:01:43.200 align:start position:0%
their experience
 

00:01:43.200 --> 00:01:46.389 align:start position:0%
their experience
so<00:01:43.439><c> far</c><00:01:44.159><c> i</c><00:01:44.320><c> wanted</c><00:01:44.560><c> to</c><00:01:44.720><c> ask</c><00:01:45.119><c> uh</c><00:01:45.759><c> are</c><00:01:45.920><c> we</c><00:01:46.079><c> allowed</c>

00:01:46.389 --> 00:01:46.399 align:start position:0%
so far i wanted to ask uh are we allowed
 

00:01:46.399 --> 00:01:48.230 align:start position:0%
so far i wanted to ask uh are we allowed
to<00:01:46.640><c> do</c><00:01:46.880><c> any</c><00:01:47.119><c> part</c><00:01:47.280><c> of</c><00:01:47.439><c> the</c><00:01:47.600><c> lab</c><00:01:47.920><c> like</c>

00:01:48.230 --> 00:01:48.240 align:start position:0%
to do any part of the lab like
 

00:01:48.240 --> 00:01:50.710 align:start position:0%
to do any part of the lab like
lock<00:01:48.560><c> free</c><00:01:49.040><c> because</c><00:01:49.520><c> i</c><00:01:49.680><c> know</c><00:01:49.840><c> like</c><00:01:50.079><c> their</c>

00:01:50.710 --> 00:01:50.720 align:start position:0%
lock free because i know like their
 

00:01:50.720 --> 00:01:52.710 align:start position:0%
lock free because i know like their
first<00:01:51.040><c> part</c><00:01:51.280><c> for</c><00:01:51.439><c> example</c><00:01:51.920><c> is</c><00:01:52.079><c> pretty</c>

00:01:52.710 --> 00:01:52.720 align:start position:0%
first part for example is pretty
 

00:01:52.720 --> 00:01:54.789 align:start position:0%
first part for example is pretty
the<00:01:52.880><c> instructions</c><00:01:53.520><c> said</c><00:01:53.840><c> pretty</c><00:01:54.159><c> clearly</c>

00:01:54.789 --> 00:01:54.799 align:start position:0%
the instructions said pretty clearly
 

00:01:54.799 --> 00:01:57.830 align:start position:0%
the instructions said pretty clearly
like<00:01:55.360><c> make</c><00:01:55.600><c> apparel</c><00:01:56.079><c> memory</c><00:01:56.479><c> allocator</c><00:01:57.119><c> but</c>

00:01:57.830 --> 00:01:57.840 align:start position:0%
like make apparel memory allocator but
 

00:01:57.840 --> 00:02:00.709 align:start position:0%
like make apparel memory allocator but
uh<00:01:58.719><c> can</c><00:01:58.880><c> we</c><00:01:59.040><c> do</c><00:01:59.200><c> it</c><00:01:59.360><c> just</c><00:01:59.600><c> lock</c><00:01:59.920><c> free</c><00:02:00.159><c> and</c><00:02:00.320><c> a</c>

00:02:00.709 --> 00:02:00.719 align:start position:0%
uh can we do it just lock free and a
 

00:02:00.719 --> 00:02:01.350 align:start position:0%
uh can we do it just lock free and a
sing

00:02:01.350 --> 00:02:01.360 align:start position:0%
sing
 

00:02:01.360 --> 00:02:03.830 align:start position:0%
sing
you<00:02:01.439><c> know</c><00:02:02.079><c> just</c><00:02:02.320><c> leave</c><00:02:02.560><c> it</c><00:02:02.719><c> as</c><00:02:02.880><c> it</c><00:02:03.040><c> is</c><00:02:03.439><c> yeah</c>

00:02:03.830 --> 00:02:03.840 align:start position:0%
you know just leave it as it is yeah
 

00:02:03.840 --> 00:02:04.630 align:start position:0%
you know just leave it as it is yeah
you're<00:02:04.000><c> free</c><00:02:04.159><c> to</c><00:02:04.320><c> do</c>

00:02:04.630 --> 00:02:04.640 align:start position:0%
you're free to do
 

00:02:04.640 --> 00:02:07.670 align:start position:0%
you're free to do
uh<00:02:05.200><c> any</c><00:02:05.360><c> solution</c><00:02:05.759><c> that</c><00:02:05.840><c> passes</c><00:02:06.240><c> make</c><00:02:06.479><c> great</c>

00:02:07.670 --> 00:02:07.680 align:start position:0%
uh any solution that passes make great
 

00:02:07.680 --> 00:02:11.750 align:start position:0%
uh any solution that passes make great
uh<00:02:08.080><c> is</c><00:02:08.720><c> fine</c><00:02:10.640><c> lock</c><00:02:10.879><c> free</c>

00:02:11.750 --> 00:02:11.760 align:start position:0%
uh is fine lock free
 

00:02:11.760 --> 00:02:13.670 align:start position:0%
uh is fine lock free
i<00:02:11.840><c> would</c><00:02:12.000><c> be</c><00:02:12.720><c> you</c><00:02:12.879><c> could</c><00:02:13.040><c> certainly</c><00:02:13.360><c> free</c><00:02:13.599><c> to</c>

00:02:13.670 --> 00:02:13.680 align:start position:0%
i would be you could certainly free to
 

00:02:13.680 --> 00:02:14.790 align:start position:0%
i would be you could certainly free to
do<00:02:13.840><c> it</c>

00:02:14.790 --> 00:02:14.800 align:start position:0%
do it
 

00:02:14.800 --> 00:02:16.869 align:start position:0%
do it
i'd<00:02:14.959><c> be</c><00:02:15.120><c> hesitant</c><00:02:15.599><c> to</c><00:02:15.840><c> start</c><00:02:16.080><c> there</c><00:02:16.400><c> if</c><00:02:16.560><c> i</c><00:02:16.640><c> were</c>

00:02:16.869 --> 00:02:16.879 align:start position:0%
i'd be hesitant to start there if i were
 

00:02:16.879 --> 00:02:18.869 align:start position:0%
i'd be hesitant to start there if i were
you<00:02:17.280><c> i</c><00:02:17.520><c> would</c><00:02:17.760><c> start</c><00:02:18.080><c> first</c><00:02:18.400><c> with</c>

00:02:18.869 --> 00:02:18.879 align:start position:0%
you i would start first with
 

00:02:18.879 --> 00:02:21.030 align:start position:0%
you i would start first with
a<00:02:19.200><c> more</c><00:02:19.440><c> fine-grained</c><00:02:20.000><c> lock</c><00:02:20.319><c> implementation</c>

00:02:21.030 --> 00:02:21.040 align:start position:0%
a more fine-grained lock implementation
 

00:02:21.040 --> 00:02:22.470 align:start position:0%
a more fine-grained lock implementation
and<00:02:21.200><c> then</c><00:02:21.520><c> move</c><00:02:21.760><c> to</c><00:02:21.920><c> a</c><00:02:22.000><c> lock</c><00:02:22.239><c> free</c>

00:02:22.470 --> 00:02:22.480 align:start position:0%
and then move to a lock free
 

00:02:22.480 --> 00:02:24.949 align:start position:0%
and then move to a lock free
implementation

00:02:24.949 --> 00:02:24.959 align:start position:0%
implementation
 

00:02:24.959 --> 00:02:26.790 align:start position:0%
implementation
so<00:02:25.120><c> the</c><00:02:25.280><c> re</c><00:02:25.680><c> the</c><00:02:25.840><c> reason</c><00:02:26.080><c> i</c><00:02:26.239><c> started</c><00:02:26.560><c> with</c><00:02:26.720><c> a</c>

00:02:26.790 --> 00:02:26.800 align:start position:0%
so the re the reason i started with a
 

00:02:26.800 --> 00:02:28.790 align:start position:0%
so the re the reason i started with a
lock<00:02:27.040><c> free</c><00:02:27.280><c> is</c><00:02:27.440><c> because</c><00:02:27.760><c> if</c><00:02:27.920><c> you</c><00:02:28.000><c> go</c><00:02:28.239><c> to</c><00:02:28.400><c> a</c><00:02:28.480><c> fine</c>

00:02:28.790 --> 00:02:28.800 align:start position:0%
lock free is because if you go to a fine
 

00:02:28.800 --> 00:02:30.309 align:start position:0%
lock free is because if you go to a fine
grained<00:02:29.200><c> you</c><00:02:29.280><c> need</c><00:02:29.440><c> to</c><00:02:29.599><c> do</c><00:02:29.840><c> all</c><00:02:30.000><c> of</c><00:02:30.080><c> the</c>

00:02:30.309 --> 00:02:30.319 align:start position:0%
grained you need to do all of the
 

00:02:30.319 --> 00:02:31.910 align:start position:0%
grained you need to do all of the
parallel<00:02:30.800><c> stuff</c><00:02:31.040><c> but</c><00:02:31.280><c> if</c><00:02:31.440><c> you</c><00:02:31.519><c> just</c><00:02:31.680><c> go</c>

00:02:31.910 --> 00:02:31.920 align:start position:0%
parallel stuff but if you just go
 

00:02:31.920 --> 00:02:33.670 align:start position:0%
parallel stuff but if you just go
directly<00:02:32.319><c> to</c><00:02:32.400><c> a</c><00:02:32.480><c> lot</c><00:02:32.640><c> free</c><00:02:32.879><c> one</c><00:02:33.120><c> then</c><00:02:33.360><c> you</c><00:02:33.440><c> can</c>

00:02:33.670 --> 00:02:33.680 align:start position:0%
directly to a lot free one then you can
 

00:02:33.680 --> 00:02:34.309 align:start position:0%
directly to a lot free one then you can
keep<00:02:34.000><c> it</c>

00:02:34.309 --> 00:02:34.319 align:start position:0%
keep it
 

00:02:34.319 --> 00:02:36.630 align:start position:0%
keep it
on<00:02:34.480><c> a</c><00:02:34.879><c> single</c><00:02:35.280><c> free</c><00:02:35.519><c> list</c><00:02:35.920><c> and</c><00:02:36.080><c> you</c><00:02:36.239><c> just</c><00:02:36.400><c> need</c>

00:02:36.630 --> 00:02:36.640 align:start position:0%
on a single free list and you just need
 

00:02:36.640 --> 00:02:38.229 align:start position:0%
on a single free list and you just need
to<00:02:37.280><c> you</c><00:02:37.440><c> just</c><00:02:37.599><c> need</c><00:02:37.760><c> to</c>

00:02:38.229 --> 00:02:38.239 align:start position:0%
to you just need to
 

00:02:38.239 --> 00:02:41.509 align:start position:0%
to you just need to
uh<00:02:39.200><c> uh</c><00:02:39.599><c> autonomous</c><00:02:40.400><c> size</c><00:02:40.879><c> the</c>

00:02:41.509 --> 00:02:41.519 align:start position:0%
uh uh autonomous size the
 

00:02:41.519 --> 00:02:43.190 align:start position:0%
uh uh autonomous size the
free<00:02:41.840><c> and</c><00:02:42.000><c> allocate</c><00:02:42.400><c> operations</c><00:02:42.959><c> so</c><00:02:43.120><c> it</c>

00:02:43.190 --> 00:02:43.200 align:start position:0%
free and allocate operations so it
 

00:02:43.200 --> 00:02:45.110 align:start position:0%
free and allocate operations so it
actually<00:02:43.519><c> isn't</c><00:02:43.680><c> that</c><00:02:43.840><c> bad</c>

00:02:45.110 --> 00:02:45.120 align:start position:0%
actually isn't that bad
 

00:02:45.120 --> 00:02:47.270 align:start position:0%
actually isn't that bad
yeah<00:02:45.360><c> i</c><00:02:45.440><c> think</c><00:02:45.760><c> maybe</c><00:02:46.160><c> in</c><00:02:46.879><c> if</c><00:02:47.040><c> there's</c><00:02:47.200><c> a</c>

00:02:47.270 --> 00:02:47.280 align:start position:0%
yeah i think maybe in if there's a
 

00:02:47.280 --> 00:02:48.949 align:start position:0%
yeah i think maybe in if there's a
single<00:02:47.599><c> list</c><00:02:47.840><c> in</c><00:02:47.920><c> the</c><00:02:48.000><c> case</c><00:02:48.239><c> of</c><00:02:48.319><c> the</c><00:02:48.480><c> k</c><00:02:48.640><c> alert</c>

00:02:48.949 --> 00:02:48.959 align:start position:0%
single list in the case of the k alert
 

00:02:48.959 --> 00:02:50.390 align:start position:0%
single list in the case of the k alert
that<00:02:49.040><c> might</c><00:02:49.200><c> be</c><00:02:49.440><c> the</c><00:02:49.599><c> case</c><00:02:49.840><c> i</c><00:02:49.920><c> think</c><00:02:50.160><c> you</c><00:02:50.239><c> know</c>

00:02:50.390 --> 00:02:50.400 align:start position:0%
that might be the case i think you know
 

00:02:50.400 --> 00:02:51.270 align:start position:0%
that might be the case i think you know
the<00:02:50.640><c> uh</c>

00:02:51.270 --> 00:02:51.280 align:start position:0%
the uh
 

00:02:51.280 --> 00:02:52.949 align:start position:0%
the uh
lock<00:02:51.519><c> free</c><00:02:51.760><c> b</c><00:02:51.920><c> alec</c><00:02:52.319><c> is</c><00:02:52.400><c> going</c><00:02:52.480><c> to</c><00:02:52.560><c> be</c><00:02:52.720><c> a</c><00:02:52.800><c> little</c>

00:02:52.949 --> 00:02:52.959 align:start position:0%
lock free b alec is going to be a little
 

00:02:52.959 --> 00:02:54.309 align:start position:0%
lock free b alec is going to be a little
bit<00:02:53.120><c> more</c><00:02:53.360><c> complicated</c>

00:02:54.309 --> 00:02:54.319 align:start position:0%
bit more complicated
 

00:02:54.319 --> 00:02:57.430 align:start position:0%
bit more complicated
yeah<00:02:54.560><c> that</c><00:02:54.959><c> that</c><00:02:55.280><c> i'm</c><00:02:55.599><c> scared</c><00:02:56.000><c> to</c><00:02:56.160><c> do</c><00:02:56.560><c> but</c>

00:02:57.430 --> 00:02:57.440 align:start position:0%
yeah that that i'm scared to do but
 

00:02:57.440 --> 00:03:01.589 align:start position:0%
yeah that that i'm scared to do but
that's<00:02:57.680><c> the</c><00:02:57.840><c> right</c><00:02:58.000><c> reaction</c><00:02:58.400><c> to</c><00:02:58.560><c> have</c>

00:03:01.589 --> 00:03:01.599 align:start position:0%
 
 

00:03:01.599 --> 00:03:04.949 align:start position:0%
 
anybody<00:03:02.840><c> else</c>

00:03:04.949 --> 00:03:04.959 align:start position:0%
anybody else
 

00:03:04.959 --> 00:03:07.830 align:start position:0%
anybody else
i<00:03:05.280><c> found</c><00:03:05.599><c> it</c><00:03:05.760><c> a</c><00:03:05.840><c> bit</c><00:03:06.239><c> hard</c><00:03:06.560><c> to</c><00:03:06.720><c> debug</c><00:03:07.440><c> those</c>

00:03:07.830 --> 00:03:07.840 align:start position:0%
i found it a bit hard to debug those
 

00:03:07.840 --> 00:03:09.270 align:start position:0%
i found it a bit hard to debug those
problems<00:03:08.319><c> because</c><00:03:08.640><c> it's</c><00:03:08.800><c> not</c>

00:03:09.270 --> 00:03:09.280 align:start position:0%
problems because it's not
 

00:03:09.280 --> 00:03:11.110 align:start position:0%
problems because it's not
immediately<00:03:09.920><c> clear</c><00:03:10.239><c> what</c><00:03:10.480><c> is</c><00:03:10.560><c> happening</c><00:03:10.959><c> so</c>

00:03:11.110 --> 00:03:11.120 align:start position:0%
immediately clear what is happening so
 

00:03:11.120 --> 00:03:12.309 align:start position:0%
immediately clear what is happening so
you<00:03:11.280><c> have</c><00:03:11.440><c> to</c>

00:03:12.309 --> 00:03:12.319 align:start position:0%
you have to
 

00:03:12.319 --> 00:03:15.430 align:start position:0%
you have to
go<00:03:12.560><c> and</c><00:03:12.720><c> sit</c><00:03:12.879><c> with</c><00:03:13.120><c> gdb</c><00:03:14.080><c> and</c>

00:03:15.430 --> 00:03:15.440 align:start position:0%
go and sit with gdb and
 

00:03:15.440 --> 00:03:18.949 align:start position:0%
go and sit with gdb and
break<00:03:15.760><c> break</c><00:03:16.159><c> break</c><00:03:16.640><c> and</c><00:03:17.440><c> yeah</c>

00:03:18.949 --> 00:03:18.959 align:start position:0%
break break break and yeah
 

00:03:18.959 --> 00:03:21.670 align:start position:0%
break break break and yeah
yeah<00:03:19.120><c> i</c><00:03:19.200><c> think</c><00:03:19.840><c> the</c><00:03:20.000><c> the</c><00:03:20.239><c> the</c><00:03:21.040><c> one</c><00:03:21.200><c> reason</c><00:03:21.519><c> i'm</c>

00:03:21.670 --> 00:03:21.680 align:start position:0%
yeah i think the the the one reason i'm
 

00:03:21.680 --> 00:03:23.350 align:start position:0%
yeah i think the the the one reason i'm
always<00:03:21.920><c> scared</c><00:03:22.159><c> to</c><00:03:22.239><c> get</c><00:03:22.400><c> these</c><00:03:22.560><c> lock</c><00:03:22.800><c> laps</c><00:03:23.200><c> uh</c>

00:03:23.350 --> 00:03:23.360 align:start position:0%
always scared to get these lock laps uh
 

00:03:23.360 --> 00:03:23.750 align:start position:0%
always scared to get these lock laps uh
so<00:03:23.519><c> the</c>

00:03:23.750 --> 00:03:23.760 align:start position:0%
so the
 

00:03:23.760 --> 00:03:25.670 align:start position:0%
so the
laps<00:03:24.080><c> is</c><00:03:24.239><c> you</c><00:03:24.319><c> know</c><00:03:24.560><c> they're</c><00:03:24.799><c> harder</c><00:03:25.120><c> to</c><00:03:25.200><c> debug</c>

00:03:25.670 --> 00:03:25.680 align:start position:0%
laps is you know they're harder to debug
 

00:03:25.680 --> 00:03:27.350 align:start position:0%
laps is you know they're harder to debug
and<00:03:26.560><c> uh</c>

00:03:27.350 --> 00:03:27.360 align:start position:0%
and uh
 

00:03:27.360 --> 00:03:29.910 align:start position:0%
and uh
and<00:03:27.680><c> you</c><00:03:27.760><c> know</c><00:03:27.920><c> the</c><00:03:28.799><c> bug</c><00:03:29.120><c> may</c><00:03:29.280><c> not</c><00:03:29.440><c> show</c><00:03:29.680><c> up</c><00:03:29.760><c> in</c>

00:03:29.910 --> 00:03:29.920 align:start position:0%
and you know the bug may not show up in
 

00:03:29.920 --> 00:03:31.190 align:start position:0%
and you know the bug may not show up in
every<00:03:30.239><c> run</c>

00:03:31.190 --> 00:03:31.200 align:start position:0%
every run
 

00:03:31.200 --> 00:03:34.390 align:start position:0%
every run
and<00:03:32.000><c> uh</c><00:03:33.280><c> but</c><00:03:33.440><c> hopefully</c><00:03:33.920><c> it</c><00:03:34.080><c> is</c><00:03:34.159><c> very</c>

00:03:34.390 --> 00:03:34.400 align:start position:0%
and uh but hopefully it is very
 

00:03:34.400 --> 00:03:35.350 align:start position:0%
and uh but hopefully it is very
educational<00:03:35.040><c> because</c>

00:03:35.350 --> 00:03:35.360 align:start position:0%
educational because
 

00:03:35.360 --> 00:03:37.350 align:start position:0%
educational because
like<00:03:35.519><c> learning</c><00:03:35.760><c> a</c><00:03:36.000><c> lot</c><00:03:36.159><c> of</c><00:03:36.239><c> programming</c><00:03:36.640><c> walks</c>

00:03:37.350 --> 00:03:37.360 align:start position:0%
like learning a lot of programming walks
 

00:03:37.360 --> 00:03:39.270 align:start position:0%
like learning a lot of programming walks
inside<00:03:37.599><c> of</c><00:03:37.760><c> a</c><00:03:37.840><c> kernel</c><00:03:38.080><c> is</c><00:03:38.560><c> a</c><00:03:38.640><c> real</c><00:03:38.879><c> thing</c>

00:03:39.270 --> 00:03:39.280 align:start position:0%
inside of a kernel is a real thing
 

00:03:39.280 --> 00:03:42.390 align:start position:0%
inside of a kernel is a real thing
and<00:03:40.239><c> uh</c><00:03:40.560><c> but</c><00:03:40.720><c> it</c><00:03:40.879><c> is</c><00:03:41.200><c> definitely</c><00:03:41.760><c> a</c><00:03:42.159><c> core</c>

00:03:42.390 --> 00:03:42.400 align:start position:0%
and uh but it is definitely a core
 

00:03:42.400 --> 00:03:44.149 align:start position:0%
and uh but it is definitely a core
challenge

00:03:44.149 --> 00:03:44.159 align:start position:0%
challenge
 

00:03:44.159 --> 00:03:46.229 align:start position:0%
challenge
one<00:03:44.400><c> one</c><00:03:44.560><c> thing</c><00:03:44.720><c> about</c><00:03:44.959><c> uh</c><00:03:45.200><c> maybe</c><00:03:45.519><c> this</c><00:03:45.680><c> is</c><00:03:45.840><c> a</c>

00:03:46.229 --> 00:03:46.239 align:start position:0%
one one thing about uh maybe this is a
 

00:03:46.239 --> 00:03:48.470 align:start position:0%
one one thing about uh maybe this is a
node<00:03:46.480><c> for</c><00:03:46.640><c> the</c><00:03:47.120><c> the</c>

00:03:48.470 --> 00:03:48.480 align:start position:0%
node for the the
 

00:03:48.480 --> 00:03:50.390 align:start position:0%
node for the the
encouraging<00:03:48.959><c> node</c><00:03:49.200><c> the</c><00:03:49.519><c> next</c><00:03:49.760><c> lab</c><00:03:50.000><c> actually</c>

00:03:50.390 --> 00:03:50.400 align:start position:0%
encouraging node the next lab actually
 

00:03:50.400 --> 00:03:51.910 align:start position:0%
encouraging node the next lab actually
doesn't<00:03:50.640><c> involve</c><00:03:51.360><c> basically</c><00:03:51.760><c> any</c>

00:03:51.910 --> 00:03:51.920 align:start position:0%
doesn't involve basically any
 

00:03:51.920 --> 00:03:53.030 align:start position:0%
doesn't involve basically any
concurrency

00:03:53.030 --> 00:03:53.040 align:start position:0%
concurrency
 

00:03:53.040 --> 00:03:55.190 align:start position:0%
concurrency
uh<00:03:53.680><c> and</c><00:03:54.080><c> so</c><00:03:54.239><c> hopefully</c><00:03:54.560><c> that</c><00:03:54.720><c> will</c><00:03:54.879><c> be</c><00:03:55.040><c> much</c>

00:03:55.190 --> 00:03:55.200 align:start position:0%
uh and so hopefully that will be much
 

00:03:55.200 --> 00:04:00.070 align:start position:0%
uh and so hopefully that will be much
much<00:03:55.439><c> much</c><00:03:55.680><c> more</c><00:03:56.280><c> straightforward</c><00:03:58.840><c> um</c>

00:04:00.070 --> 00:04:00.080 align:start position:0%
much much more straightforward um
 

00:04:00.080 --> 00:04:03.190 align:start position:0%
much much more straightforward um
i<00:04:00.159><c> get</c><00:04:00.640><c> i</c><00:04:00.799><c> guess</c><00:04:01.120><c> how</c><00:04:01.280><c> do</c><00:04:01.439><c> you</c><00:04:02.720><c> how</c><00:04:02.879><c> do</c><00:04:03.040><c> you</c>

00:04:03.190 --> 00:04:03.200 align:start position:0%
i get i guess how do you how do you
 

00:04:03.200 --> 00:04:04.070 align:start position:0%
i get i guess how do you how do you
efficiently

00:04:04.070 --> 00:04:04.080 align:start position:0%
efficiently
 

00:04:04.080 --> 00:04:07.350 align:start position:0%
efficiently
or<00:04:04.560><c> effectively</c><00:04:05.439><c> debug</c><00:04:06.239><c> concurrent</c><00:04:06.799><c> programs</c>

00:04:07.350 --> 00:04:07.360 align:start position:0%
or effectively debug concurrent programs
 

00:04:07.360 --> 00:04:09.270 align:start position:0%
or effectively debug concurrent programs
like<00:04:07.599><c> with</c><00:04:07.840><c> all</c><00:04:08.000><c> those</c><00:04:08.239><c> multiple</c><00:04:08.640><c> threads</c>

00:04:09.270 --> 00:04:09.280 align:start position:0%
like with all those multiple threads
 

00:04:09.280 --> 00:04:13.110 align:start position:0%
like with all those multiple threads
using<00:04:09.680><c> gdp</c><00:04:10.879><c> i</c><00:04:11.120><c> i</c><00:04:11.920><c> use</c><00:04:12.159><c> very</c><00:04:12.400><c> basic</c><00:04:12.720><c> stuff</c>

00:04:13.110 --> 00:04:13.120 align:start position:0%
using gdp i i use very basic stuff
 

00:04:13.120 --> 00:04:16.870 align:start position:0%
using gdp i i use very basic stuff
i<00:04:13.760><c> have</c><00:04:14.239><c> i</c><00:04:14.400><c> use</c><00:04:14.640><c> print</c><00:04:14.879><c> statements</c>

00:04:16.870 --> 00:04:16.880 align:start position:0%
i have i use print statements
 

00:04:16.880 --> 00:04:19.349 align:start position:0%
i have i use print statements
but<00:04:17.120><c> the</c><00:04:17.199><c> main</c><00:04:17.440><c> thing</c><00:04:17.600><c> i</c><00:04:17.759><c> rely</c><00:04:18.160><c> on</c><00:04:18.479><c> is</c><00:04:18.959><c> i</c><00:04:19.199><c> sort</c>

00:04:19.349 --> 00:04:19.359 align:start position:0%
but the main thing i rely on is i sort
 

00:04:19.359 --> 00:04:21.670 align:start position:0%
but the main thing i rely on is i sort
of<00:04:19.680><c> try</c><00:04:19.919><c> to</c><00:04:20.000><c> write</c><00:04:20.239><c> down</c><00:04:20.560><c> or</c><00:04:20.799><c> assertions</c><00:04:21.359><c> for</c>

00:04:21.670 --> 00:04:21.680 align:start position:0%
of try to write down or assertions for
 

00:04:21.680 --> 00:04:23.909 align:start position:0%
of try to write down or assertions for
invariants<00:04:22.160><c> that</c><00:04:22.400><c> i</c><00:04:22.960><c> think</c><00:04:23.360><c> should</c><00:04:23.520><c> be</c><00:04:23.680><c> true</c>

00:04:23.909 --> 00:04:23.919 align:start position:0%
invariants that i think should be true
 

00:04:23.919 --> 00:04:25.510 align:start position:0%
invariants that i think should be true
at<00:04:24.080><c> every</c><00:04:24.400><c> point</c>

00:04:25.510 --> 00:04:25.520 align:start position:0%
at every point
 

00:04:25.520 --> 00:04:27.909 align:start position:0%
at every point
and<00:04:26.240><c> if</c><00:04:26.479><c> the</c><00:04:26.560><c> insertion</c><00:04:27.040><c> goes</c><00:04:27.280><c> off</c><00:04:27.600><c> then</c><00:04:27.840><c> i</c>

00:04:27.909 --> 00:04:27.919 align:start position:0%
and if the insertion goes off then i
 

00:04:27.919 --> 00:04:29.110 align:start position:0%
and if the insertion goes off then i
know<00:04:28.160><c> that</c><00:04:28.400><c> you</c><00:04:28.479><c> know</c><00:04:28.639><c> there</c><00:04:28.800><c> was</c><00:04:28.880><c> something</c>

00:04:29.110 --> 00:04:29.120 align:start position:0%
know that you know there was something
 

00:04:29.120 --> 00:04:30.310 align:start position:0%
know that you know there was something
wrong<00:04:29.360><c> in</c><00:04:29.440><c> my</c><00:04:29.600><c> thinking</c><00:04:30.000><c> or</c>

00:04:30.310 --> 00:04:30.320 align:start position:0%
wrong in my thinking or
 

00:04:30.320 --> 00:04:33.270 align:start position:0%
wrong in my thinking or
the<00:04:30.400><c> assertion</c><00:04:30.800><c> was</c><00:04:31.040><c> wrong</c><00:04:31.919><c> and</c><00:04:32.240><c> then</c><00:04:32.800><c> i</c><00:04:32.960><c> think</c>

00:04:33.270 --> 00:04:33.280 align:start position:0%
the assertion was wrong and then i think
 

00:04:33.280 --> 00:04:34.070 align:start position:0%
the assertion was wrong and then i think
for<00:04:33.440><c> a</c><00:04:33.520><c> while</c>

00:04:34.070 --> 00:04:34.080 align:start position:0%
for a while
 

00:04:34.080 --> 00:04:36.790 align:start position:0%
for a while
and<00:04:34.960><c> i</c><00:04:35.120><c> tried</c><00:04:35.360><c> to</c><00:04:35.440><c> decide</c><00:04:35.840><c> what</c><00:04:36.000><c> it</c><00:04:36.160><c> is</c><00:04:36.560><c> and</c>

00:04:36.790 --> 00:04:36.800 align:start position:0%
and i tried to decide what it is and
 

00:04:36.800 --> 00:04:37.350 align:start position:0%
and i tried to decide what it is and
then

00:04:37.350 --> 00:04:37.360 align:start position:0%
then
 

00:04:37.360 --> 00:04:41.270 align:start position:0%
then
go<00:04:37.520><c> from</c><00:04:37.680><c> there</c><00:04:39.520><c> the</c>

00:04:41.270 --> 00:04:41.280 align:start position:0%
go from there the
 

00:04:41.280 --> 00:04:44.310 align:start position:0%
go from there the
normal<00:04:42.080><c> um</c><00:04:43.280><c> for</c><00:04:43.440><c> many</c><00:04:43.680><c> other</c><00:04:44.000><c> uh</c>

00:04:44.310 --> 00:04:44.320 align:start position:0%
normal um for many other uh
 

00:04:44.320 --> 00:04:47.110 align:start position:0%
normal um for many other uh
settings<00:04:44.800><c> there</c><00:04:45.040><c> are</c><00:04:46.080><c> race</c><00:04:46.400><c> detectors</c><00:04:46.960><c> that</c>

00:04:47.110 --> 00:04:47.120 align:start position:0%
settings there are race detectors that
 

00:04:47.120 --> 00:04:47.909 align:start position:0%
settings there are race detectors that
can<00:04:47.280><c> help</c><00:04:47.440><c> you</c>

00:04:47.909 --> 00:04:47.919 align:start position:0%
can help you
 

00:04:47.919 --> 00:04:51.909 align:start position:0%
can help you
um<00:04:48.960><c> uh</c><00:04:49.680><c> and</c><00:04:50.320><c> again</c><00:04:50.880><c> you</c><00:04:51.040><c> know</c><00:04:51.199><c> basically</c><00:04:51.520><c> flag</c>

00:04:51.909 --> 00:04:51.919 align:start position:0%
um uh and again you know basically flag
 

00:04:51.919 --> 00:04:52.790 align:start position:0%
um uh and again you know basically flag
code<00:04:52.240><c> that</c><00:04:52.400><c> may</c>

00:04:52.790 --> 00:04:52.800 align:start position:0%
code that may
 

00:04:52.800 --> 00:04:55.430 align:start position:0%
code that may
looks<00:04:53.040><c> like</c><00:04:53.440><c> it</c><00:04:53.520><c> might</c><00:04:53.680><c> be</c><00:04:54.240><c> having</c><00:04:54.639><c> problems</c>

00:04:55.430 --> 00:04:55.440 align:start position:0%
looks like it might be having problems
 

00:04:55.440 --> 00:04:56.230 align:start position:0%
looks like it might be having problems
or<00:04:55.919><c> is</c>

00:04:56.230 --> 00:04:56.240 align:start position:0%
or is
 

00:04:56.240 --> 00:04:59.670 align:start position:0%
or is
prone<00:04:56.560><c> to</c><00:04:56.800><c> race</c><00:04:57.040><c> conditions</c><00:04:57.919><c> um</c><00:04:59.199><c> but</c><00:04:59.360><c> that's</c><00:04:59.600><c> a</c>

00:04:59.670 --> 00:04:59.680 align:start position:0%
prone to race conditions um but that's a
 

00:04:59.680 --> 00:05:00.950 align:start position:0%
prone to race conditions um but that's a
whole<00:04:59.840><c> set</c><00:05:00.000><c> of</c><00:05:00.160><c> other</c><00:05:00.320><c> tools</c>

00:05:00.950 --> 00:05:00.960 align:start position:0%
whole set of other tools
 

00:05:00.960 --> 00:05:04.310 align:start position:0%
whole set of other tools
uh<00:05:01.520><c> that</c><00:05:01.680><c> we're</c><00:05:02.000><c> you</c><00:05:02.160><c> know</c><00:05:02.320><c> not</c><00:05:02.560><c> using</c><00:05:03.759><c> uh</c>

00:05:04.310 --> 00:05:04.320 align:start position:0%
uh that we're you know not using uh
 

00:05:04.320 --> 00:05:07.189 align:start position:0%
uh that we're you know not using uh
and<00:05:04.560><c> it's</c><00:05:04.960><c> not</c><00:05:05.120><c> that</c><00:05:06.400><c> good</c><00:05:06.639><c> but</c><00:05:06.880><c> there's</c><00:05:07.199><c> a</c>

00:05:07.189 --> 00:05:07.199 align:start position:0%
and it's not that good but there's a
 

00:05:07.199 --> 00:05:08.710 align:start position:0%
and it's not that good but there's a
little<00:05:07.360><c> bit</c><00:05:07.520><c> of</c><00:05:07.600><c> a</c><00:05:07.680><c> big</c><00:05:07.919><c> step</c><00:05:08.080><c> to</c><00:05:08.240><c> actually</c>

00:05:08.710 --> 00:05:08.720 align:start position:0%
little bit of a big step to actually
 

00:05:08.720 --> 00:05:11.590 align:start position:0%
little bit of a big step to actually
get<00:05:08.880><c> that</c><00:05:09.120><c> all</c><00:05:09.280><c> up</c><00:05:09.440><c> and</c><00:05:09.680><c> going</c><00:05:10.000><c> and</c><00:05:10.080><c> running</c><00:05:11.440><c> so</c>

00:05:11.590 --> 00:05:11.600 align:start position:0%
get that all up and going and running so
 

00:05:11.600 --> 00:05:12.710 align:start position:0%
get that all up and going and running so
that's<00:05:11.840><c> the</c><00:05:12.000><c> other</c>

00:05:12.710 --> 00:05:12.720 align:start position:0%
that's the other
 

00:05:12.720 --> 00:05:16.790 align:start position:0%
that's the other
mechanism<00:05:13.120><c> that</c><00:05:13.280><c> people</c><00:05:13.440><c> use</c><00:05:13.600><c> race</c><00:05:13.840><c> detectors</c>

00:05:16.790 --> 00:05:16.800 align:start position:0%
 
 

00:05:16.800 --> 00:05:18.629 align:start position:0%
 
and<00:05:16.960><c> basically</c><00:05:17.360><c> flag</c><00:05:17.680><c> any</c><00:05:18.160><c> any</c><00:05:18.400><c> shared</c>

00:05:18.629 --> 00:05:18.639 align:start position:0%
and basically flag any any shared
 

00:05:18.639 --> 00:05:19.909 align:start position:0%
and basically flag any any shared
variable<00:05:19.120><c> that</c><00:05:19.360><c> is</c>

00:05:19.909 --> 00:05:19.919 align:start position:0%
variable that is
 

00:05:19.919 --> 00:05:21.749 align:start position:0%
variable that is
updated<00:05:20.400><c> or</c><00:05:20.560><c> red</c><00:05:20.800><c> without</c><00:05:21.199><c> actually</c><00:05:21.440><c> holding</c>

00:05:21.749 --> 00:05:21.759 align:start position:0%
updated or red without actually holding
 

00:05:21.759 --> 00:05:24.310 align:start position:0%
updated or red without actually holding
a<00:05:22.840><c> lock</c>

00:05:24.310 --> 00:05:24.320 align:start position:0%
a lock
 

00:05:24.320 --> 00:05:25.990 align:start position:0%
a lock
no<00:05:24.560><c> that</c><00:05:24.720><c> doesn't</c><00:05:24.960><c> help</c><00:05:25.120><c> you</c><00:05:25.199><c> with</c><00:05:25.360><c> dead</c><00:05:25.520><c> locks</c>

00:05:25.990 --> 00:05:26.000 align:start position:0%
no that doesn't help you with dead locks
 

00:05:26.000 --> 00:05:27.590 align:start position:0%
no that doesn't help you with dead locks
like<00:05:26.160><c> example</c><00:05:26.479><c> in</c><00:05:26.560><c> this</c><00:05:26.800><c> lab</c><00:05:27.280><c> in</c>

00:05:27.590 --> 00:05:27.600 align:start position:0%
like example in this lab in
 

00:05:27.600 --> 00:05:30.230 align:start position:0%
like example in this lab in
uh<00:05:28.160><c> be</c><00:05:28.320><c> cash</c><00:05:28.560><c> lock</c><00:05:28.800><c> you</c><00:05:28.960><c> know</c><00:05:29.120><c> the</c><00:05:29.919><c> you</c><00:05:30.080><c> get</c>

00:05:30.230 --> 00:05:30.240 align:start position:0%
uh be cash lock you know the you get
 

00:05:30.240 --> 00:05:31.110 align:start position:0%
uh be cash lock you know the you get
dead<00:05:30.479><c> locks</c>

00:05:31.110 --> 00:05:31.120 align:start position:0%
dead locks
 

00:05:31.120 --> 00:05:32.870 align:start position:0%
dead locks
deadlocks<00:05:31.520><c> are</c><00:05:31.600><c> tend</c><00:05:31.759><c> to</c><00:05:31.840><c> be</c><00:05:32.080><c> easier</c><00:05:32.400><c> to</c><00:05:32.560><c> debug</c>

00:05:32.870 --> 00:05:32.880 align:start position:0%
deadlocks are tend to be easier to debug
 

00:05:32.880 --> 00:05:34.629 align:start position:0%
deadlocks are tend to be easier to debug
correct<00:05:33.199><c> because</c><00:05:33.440><c> you</c><00:05:33.600><c> can</c><00:05:34.080><c> uh</c>

00:05:34.629 --> 00:05:34.639 align:start position:0%
correct because you can uh
 

00:05:34.639 --> 00:05:36.150 align:start position:0%
correct because you can uh
you<00:05:34.800><c> get</c><00:05:34.960><c> the</c><00:05:35.039><c> panic</c><00:05:35.440><c> and</c><00:05:35.520><c> then</c><00:05:35.680><c> you</c><00:05:35.759><c> can</c><00:05:35.919><c> look</c>

00:05:36.150 --> 00:05:36.160 align:start position:0%
you get the panic and then you can look
 

00:05:36.160 --> 00:05:38.150 align:start position:0%
you get the panic and then you can look
at<00:05:36.479><c> the</c><00:05:36.560><c> gdb</c><00:05:37.120><c> you</c><00:05:37.280><c> know</c><00:05:37.440><c> the</c><00:05:37.520><c> back</c><00:05:37.759><c> trace</c><00:05:38.080><c> and</c>

00:05:38.150 --> 00:05:38.160 align:start position:0%
at the gdb you know the back trace and
 

00:05:38.160 --> 00:05:38.950 align:start position:0%
at the gdb you know the back trace and
see<00:05:38.400><c> actually</c><00:05:38.639><c> what</c>

00:05:38.950 --> 00:05:38.960 align:start position:0%
see actually what
 

00:05:38.960 --> 00:05:44.469 align:start position:0%
see actually what
was<00:05:39.199><c> involved</c><00:05:39.520><c> in</c><00:05:39.680><c> the</c><00:05:40.080><c> deadlock</c>

00:05:44.469 --> 00:05:44.479 align:start position:0%
 
 

00:05:44.479 --> 00:05:49.990 align:start position:0%
 
does<00:05:44.639><c> that</c><00:05:44.720><c> make</c><00:05:44.960><c> sense</c><00:05:47.280><c> thank</c><00:05:47.520><c> you</c>

00:05:49.990 --> 00:05:50.000 align:start position:0%
 
 

00:05:50.000 --> 00:05:52.390 align:start position:0%
 
okay<00:05:51.360><c> another</c><00:05:51.759><c> suggestion</c><00:05:52.160><c> actually</c>

00:05:52.390 --> 00:05:52.400 align:start position:0%
okay another suggestion actually
 

00:05:52.400 --> 00:05:54.310 align:start position:0%
okay another suggestion actually
somebody<00:05:52.800><c> uh</c><00:05:53.039><c> posted</c><00:05:53.440><c> on</c><00:05:53.520><c> the</c><00:05:53.600><c> feedback</c>

00:05:54.310 --> 00:05:54.320 align:start position:0%
somebody uh posted on the feedback
 

00:05:54.320 --> 00:05:56.790 align:start position:0%
somebody uh posted on the feedback
uh<00:05:54.720><c> is</c><00:05:55.199><c> you</c><00:05:55.280><c> know</c><00:05:55.919><c> the</c><00:05:56.000><c> class</c><00:05:56.319><c> is</c><00:05:56.479><c> uh</c><00:05:56.639><c> the</c>

00:05:56.790 --> 00:05:56.800 align:start position:0%
uh is you know the class is uh the
 

00:05:56.800 --> 00:05:57.909 align:start position:0%
uh is you know the class is uh the
tenant<00:05:57.039><c> is</c><00:05:57.199><c> getting</c><00:05:57.440><c> a</c><00:05:57.520><c> little</c><00:05:57.680><c> bit</c>

00:05:57.909 --> 00:05:57.919 align:start position:0%
tenant is getting a little bit
 

00:05:57.919 --> 00:05:58.950 align:start position:0%
tenant is getting a little bit
lower<00:05:58.240><c> than</c><00:05:58.400><c> in</c><00:05:58.479><c> the</c><00:05:58.560><c> beginning</c><00:05:58.800><c> of</c><00:05:58.880><c> the</c>

00:05:58.950 --> 00:05:58.960 align:start position:0%
lower than in the beginning of the
 

00:05:58.960 --> 00:06:00.469 align:start position:0%
lower than in the beginning of the
semester<00:05:59.440><c> and</c><00:05:59.520><c> i</c><00:05:59.600><c> think</c><00:05:59.759><c> we</c><00:05:59.919><c> might</c><00:06:00.080><c> be</c><00:06:00.240><c> small</c>

00:06:00.469 --> 00:06:00.479 align:start position:0%
semester and i think we might be small
 

00:06:00.479 --> 00:06:01.189 align:start position:0%
semester and i think we might be small
enough<00:06:00.800><c> or</c>

00:06:01.189 --> 00:06:01.199 align:start position:0%
enough or
 

00:06:01.199 --> 00:06:03.590 align:start position:0%
enough or
uh<00:06:01.600><c> on</c><00:06:01.759><c> the</c><00:06:01.919><c> size</c><00:06:02.160><c> that</c><00:06:02.240><c> it</c><00:06:02.319><c> may</c><00:06:02.479><c> be</c><00:06:03.280><c> perfectly</c>

00:06:03.590 --> 00:06:03.600 align:start position:0%
uh on the size that it may be perfectly
 

00:06:03.600 --> 00:06:06.230 align:start position:0%
uh on the size that it may be perfectly
fine<00:06:03.840><c> to</c><00:06:03.919><c> actually</c><00:06:04.160><c> have</c><00:06:04.240><c> cameras</c><00:06:04.840><c> on</c>

00:06:06.230 --> 00:06:06.240 align:start position:0%
fine to actually have cameras on
 

00:06:06.240 --> 00:06:08.150 align:start position:0%
fine to actually have cameras on
and<00:06:06.479><c> so</c><00:06:06.720><c> maybe</c><00:06:06.960><c> i</c><00:06:07.039><c> want</c><00:06:07.199><c> to</c><00:06:07.280><c> encourage</c><00:06:07.680><c> you</c><00:06:07.840><c> to</c>

00:06:08.150 --> 00:06:08.160 align:start position:0%
and so maybe i want to encourage you to
 

00:06:08.160 --> 00:06:09.670 align:start position:0%
and so maybe i want to encourage you to
if<00:06:08.319><c> you</c><00:06:08.400><c> ask</c><00:06:08.639><c> a</c><00:06:08.720><c> question</c><00:06:09.120><c> to</c><00:06:09.199><c> turn</c><00:06:09.440><c> on</c><00:06:09.520><c> your</c>

00:06:09.670 --> 00:06:09.680 align:start position:0%
if you ask a question to turn on your
 

00:06:09.680 --> 00:06:10.230 align:start position:0%
if you ask a question to turn on your
camera

00:06:10.230 --> 00:06:10.240 align:start position:0%
camera
 

00:06:10.240 --> 00:06:13.749 align:start position:0%
camera
and<00:06:11.680><c> you</c><00:06:11.840><c> know</c><00:06:12.000><c> it</c><00:06:12.160><c> will</c><00:06:12.400><c> hopefully</c><00:06:13.199><c> improve</c>

00:06:13.749 --> 00:06:13.759 align:start position:0%
and you know it will hopefully improve
 

00:06:13.759 --> 00:06:15.510 align:start position:0%
and you know it will hopefully improve
you<00:06:13.919><c> know</c><00:06:14.080><c> our</c><00:06:14.240><c> experience</c><00:06:14.720><c> as</c><00:06:14.880><c> if</c><00:06:15.120><c> it's</c><00:06:15.440><c> in</c>

00:06:15.510 --> 00:06:15.520 align:start position:0%
you know our experience as if it's in
 

00:06:15.520 --> 00:06:17.270 align:start position:0%
you know our experience as if it's in
the<00:06:15.680><c> classroom</c><00:06:16.080><c> as</c><00:06:16.240><c> opposed</c><00:06:16.479><c> to</c><00:06:16.720><c> in</c><00:06:16.880><c> a</c><00:06:16.960><c> virtual</c>

00:06:17.270 --> 00:06:17.280 align:start position:0%
the classroom as opposed to in a virtual
 

00:06:17.280 --> 00:06:19.029 align:start position:0%
the classroom as opposed to in a virtual
meeting

00:06:19.029 --> 00:06:19.039 align:start position:0%
meeting
 

00:06:19.039 --> 00:06:22.629 align:start position:0%
meeting
um<00:06:19.919><c> and</c><00:06:20.240><c> you</c><00:06:20.400><c> don't</c><00:06:20.639><c> have</c><00:06:20.720><c> to</c><00:06:20.800><c> look</c><00:06:20.960><c> at</c><00:06:21.039><c> me</c>

00:06:22.629 --> 00:06:22.639 align:start position:0%
um and you don't have to look at me
 

00:06:22.639 --> 00:06:25.909 align:start position:0%
um and you don't have to look at me
okay<00:06:24.000><c> um</c><00:06:25.280><c> so</c>

00:06:25.909 --> 00:06:25.919 align:start position:0%
okay um so
 

00:06:25.919 --> 00:06:28.629 align:start position:0%
okay um so
uh<00:06:26.639><c> okay</c><00:06:26.880><c> today's</c><00:06:27.199><c> lecture</c><00:06:27.759><c> uh</c><00:06:28.160><c> so</c><00:06:28.319><c> today's</c>

00:06:28.629 --> 00:06:28.639 align:start position:0%
uh okay today's lecture uh so today's
 

00:06:28.639 --> 00:06:29.830 align:start position:0%
uh okay today's lecture uh so today's
lecture<00:06:29.039><c> is</c><00:06:29.120><c> going</c><00:06:29.199><c> to</c><00:06:29.280><c> be</c><00:06:29.360><c> about</c><00:06:29.600><c> crash</c>

00:06:29.830 --> 00:06:29.840 align:start position:0%
lecture is going to be about crash
 

00:06:29.840 --> 00:06:30.550 align:start position:0%
lecture is going to be about crash
safety

00:06:30.550 --> 00:06:30.560 align:start position:0%
safety
 

00:06:30.560 --> 00:06:32.950 align:start position:0%
safety
uh<00:06:31.120><c> crash</c><00:06:31.280><c> safety</c><00:06:31.600><c> and</c><00:06:31.680><c> file</c><00:06:31.919><c> systems</c><00:06:32.880><c> and</c>

00:06:32.950 --> 00:06:32.960 align:start position:0%
uh crash safety and file systems and
 

00:06:32.960 --> 00:06:34.550 align:start position:0%
uh crash safety and file systems and
this<00:06:33.199><c> is</c><00:06:33.280><c> not</c><00:06:33.440><c> crest</c><00:06:33.680><c> safety</c><00:06:34.080><c> in</c><00:06:34.240><c> in</c>

00:06:34.550 --> 00:06:34.560 align:start position:0%
this is not crest safety in in
 

00:06:34.560 --> 00:06:36.150 align:start position:0%
this is not crest safety in in
the<00:06:34.639><c> most</c><00:06:34.880><c> general</c><00:06:35.199><c> forum</c><00:06:35.520><c> i'm</c><00:06:35.680><c> actually</c>

00:06:36.150 --> 00:06:36.160 align:start position:0%
the most general forum i'm actually
 

00:06:36.160 --> 00:06:39.430 align:start position:0%
the most general forum i'm actually
really<00:06:36.479><c> focusing</c><00:06:36.880><c> on</c><00:06:37.039><c> a</c><00:06:37.440><c> particular</c><00:06:38.000><c> problem</c>

00:06:39.430 --> 00:06:39.440 align:start position:0%
really focusing on a particular problem
 

00:06:39.440 --> 00:06:43.510 align:start position:0%
really focusing on a particular problem
um<00:06:41.919><c> or</c><00:06:42.240><c> a</c><00:06:42.319><c> specific</c><00:06:42.880><c> problem</c>

00:06:43.510 --> 00:06:43.520 align:start position:0%
um or a specific problem
 

00:06:43.520 --> 00:06:47.430 align:start position:0%
um or a specific problem
namely<00:06:44.000><c> that</c><00:06:44.479><c> a</c><00:06:44.639><c> crash</c><00:06:45.280><c> or</c><00:06:45.520><c> a</c><00:06:45.600><c> power</c><00:06:45.919><c> failure</c>

00:06:47.430 --> 00:06:47.440 align:start position:0%
namely that a crash or a power failure
 

00:06:47.440 --> 00:06:52.150 align:start position:0%
namely that a crash or a power failure
can<00:06:47.680><c> lead</c>

00:06:52.150 --> 00:06:52.160 align:start position:0%
 
 

00:06:52.160 --> 00:06:56.950 align:start position:0%
 
the<00:06:52.560><c> on-disk</c><00:06:53.120><c> file</c><00:06:53.360><c> system</c>

00:06:56.950 --> 00:06:56.960 align:start position:0%
 
 

00:06:56.960 --> 00:06:59.350 align:start position:0%
 
to<00:06:57.120><c> be</c><00:06:57.360><c> in</c><00:06:57.440><c> an</c><00:06:57.599><c> inconsistent</c><00:06:58.160><c> state</c><00:06:59.039><c> or</c><00:06:59.199><c> an</c>

00:06:59.350 --> 00:06:59.360 align:start position:0%
to be in an inconsistent state or an
 

00:06:59.360 --> 00:07:03.990 align:start position:0%
to be in an inconsistent state or an
incorrect<00:07:00.840><c> state</c>

00:07:03.990 --> 00:07:04.000 align:start position:0%
 
 

00:07:04.000 --> 00:07:05.510 align:start position:0%
 
and<00:07:04.080><c> what</c><00:07:04.240><c> i</c><00:07:04.319><c> mean</c><00:07:04.560><c> with</c><00:07:04.720><c> an</c><00:07:04.800><c> incorrect</c><00:07:05.199><c> state</c>

00:07:05.510 --> 00:07:05.520 align:start position:0%
and what i mean with an incorrect state
 

00:07:05.520 --> 00:07:07.430 align:start position:0%
and what i mean with an incorrect state
is<00:07:05.680><c> you</c><00:07:05.759><c> know</c><00:07:05.919><c> for</c><00:07:06.000><c> example</c><00:07:06.560><c> a</c><00:07:06.880><c> data</c><00:07:07.120><c> block</c>

00:07:07.430 --> 00:07:07.440 align:start position:0%
is you know for example a data block
 

00:07:07.440 --> 00:07:08.790 align:start position:0%
is you know for example a data block
belongs<00:07:07.840><c> to</c><00:07:08.000><c> two</c><00:07:08.160><c> files</c>

00:07:08.790 --> 00:07:08.800 align:start position:0%
belongs to two files
 

00:07:08.800 --> 00:07:12.550 align:start position:0%
belongs to two files
or<00:07:09.280><c> an</c><00:07:09.440><c> inode</c><00:07:11.360><c> is</c><00:07:11.680><c> allocated</c><00:07:12.080><c> to</c><00:07:12.319><c> two</c>

00:07:12.550 --> 00:07:12.560 align:start position:0%
or an inode is allocated to two
 

00:07:12.560 --> 00:07:14.870 align:start position:0%
or an inode is allocated to two
different<00:07:12.880><c> files</c>

00:07:14.870 --> 00:07:14.880 align:start position:0%
different files
 

00:07:14.880 --> 00:07:17.110 align:start position:0%
different files
and<00:07:15.120><c> so</c><00:07:15.280><c> the</c><00:07:15.440><c> scenario</c><00:07:16.160><c> where</c><00:07:16.560><c> this</c><00:07:16.800><c> problem</c>

00:07:17.110 --> 00:07:17.120 align:start position:0%
and so the scenario where this problem
 

00:07:17.120 --> 00:07:18.629 align:start position:0%
and so the scenario where this problem
might<00:07:17.280><c> sort</c><00:07:17.520><c> of</c><00:07:17.759><c> appear</c>

00:07:18.629 --> 00:07:18.639 align:start position:0%
might sort of appear
 

00:07:18.639 --> 00:07:20.870 align:start position:0%
might sort of appear
is<00:07:18.880><c> let's</c><00:07:19.039><c> say</c><00:07:19.199><c> you</c><00:07:19.360><c> know</c><00:07:19.440><c> you're</c><00:07:19.680><c> running</c><00:07:20.479><c> a</c>

00:07:20.870 --> 00:07:20.880 align:start position:0%
is let's say you know you're running a
 

00:07:20.880 --> 00:07:21.830 align:start position:0%
is let's say you know you're running a
make

00:07:21.830 --> 00:07:21.840 align:start position:0%
make
 

00:07:21.840 --> 00:07:24.070 align:start position:0%
make
uh<00:07:22.319><c> make</c><00:07:22.560><c> a</c><00:07:22.880><c> pretty</c><00:07:23.199><c> file</c><00:07:23.440><c> system</c><00:07:23.840><c> you</c><00:07:23.919><c> know</c>

00:07:24.070 --> 00:07:24.080 align:start position:0%
uh make a pretty file system you know
 

00:07:24.080 --> 00:07:25.670 align:start position:0%
uh make a pretty file system you know
interacts<00:07:24.400><c> with</c><00:07:24.560><c> the</c><00:07:24.639><c> file</c><00:07:24.880><c> system</c>

00:07:25.670 --> 00:07:25.680 align:start position:0%
interacts with the file system
 

00:07:25.680 --> 00:07:28.070 align:start position:0%
interacts with the file system
region<00:07:26.000><c> writes</c><00:07:26.240><c> files</c><00:07:27.120><c> and</c><00:07:27.440><c> somewhere</c><00:07:28.000><c> you</c>

00:07:28.070 --> 00:07:28.080 align:start position:0%
region writes files and somewhere you
 

00:07:28.080 --> 00:07:28.870 align:start position:0%
region writes files and somewhere you
know<00:07:28.319><c> during</c>

00:07:28.870 --> 00:07:28.880 align:start position:0%
know during
 

00:07:28.880 --> 00:07:30.710 align:start position:0%
know during
you<00:07:29.039><c> know</c><00:07:29.199><c> that</c><00:07:29.440><c> thing</c><00:07:29.680><c> a</c><00:07:30.160><c> power</c><00:07:30.400><c> philly</c>

00:07:30.710 --> 00:07:30.720 align:start position:0%
you know that thing a power philly
 

00:07:30.720 --> 00:07:33.830 align:start position:0%
you know that thing a power philly
happens

00:07:33.830 --> 00:07:33.840 align:start position:0%
 
 

00:07:33.840 --> 00:07:35.430 align:start position:0%
 
you<00:07:33.919><c> know</c><00:07:34.160><c> maybe</c><00:07:34.479><c> your</c><00:07:34.639><c> laptop</c><00:07:34.960><c> runs</c><00:07:35.199><c> out</c><00:07:35.360><c> of</c>

00:07:35.430 --> 00:07:35.440 align:start position:0%
you know maybe your laptop runs out of
 

00:07:35.440 --> 00:07:36.870 align:start position:0%
you know maybe your laptop runs out of
battery<00:07:36.240><c> you</c><00:07:36.319><c> know</c><00:07:36.479><c> maybe</c>

00:07:36.870 --> 00:07:36.880 align:start position:0%
battery you know maybe
 

00:07:36.880 --> 00:07:40.390 align:start position:0%
battery you know maybe
the<00:07:37.039><c> power</c><00:07:37.360><c> just</c><00:07:37.599><c> dropped</c><00:07:38.479><c> or</c><00:07:39.440><c> to</c><00:07:39.599><c> your</c><00:07:39.840><c> house</c>

00:07:40.390 --> 00:07:40.400 align:start position:0%
the power just dropped or to your house
 

00:07:40.400 --> 00:07:45.430 align:start position:0%
the power just dropped or to your house
uh<00:07:41.039><c> and</c><00:07:42.000><c> uh</c><00:07:42.639><c> and</c><00:07:42.880><c> you</c><00:07:42.960><c> know</c><00:07:43.120><c> you</c><00:07:43.280><c> reboot</c>

00:07:45.430 --> 00:07:45.440 align:start position:0%
uh and uh and you know you reboot
 

00:07:45.440 --> 00:07:47.510 align:start position:0%
uh and uh and you know you reboot
the<00:07:46.080><c> your</c><00:07:46.240><c> power</c><00:07:46.560><c> comes</c><00:07:46.720><c> back</c><00:07:46.960><c> on</c><00:07:47.199><c> at</c><00:07:47.280><c> some</c>

00:07:47.510 --> 00:07:47.520 align:start position:0%
the your power comes back on at some
 

00:07:47.520 --> 00:07:49.909 align:start position:0%
the your power comes back on at some
point<00:07:48.240><c> you</c><00:07:48.479><c> reboot</c><00:07:48.800><c> the</c><00:07:48.960><c> machine</c>

00:07:49.909 --> 00:07:49.919 align:start position:0%
point you reboot the machine
 

00:07:49.919 --> 00:07:52.950 align:start position:0%
point you reboot the machine
or<00:07:50.240><c> machine</c><00:07:50.479><c> comes</c><00:07:50.720><c> back</c><00:07:50.960><c> up</c><00:07:51.360><c> and</c><00:07:52.240><c> then</c><00:07:52.879><c> you</c>

00:07:52.950 --> 00:07:52.960 align:start position:0%
or machine comes back up and then you
 

00:07:52.960 --> 00:07:54.150 align:start position:0%
or machine comes back up and then you
know<00:07:53.039><c> hopefully</c><00:07:53.440><c> you</c><00:07:53.520><c> get</c><00:07:53.599><c> a</c><00:07:53.680><c> prompt</c><00:07:53.919><c> again</c>

00:07:54.150 --> 00:07:54.160 align:start position:0%
know hopefully you get a prompt again
 

00:07:54.160 --> 00:07:55.670 align:start position:0%
know hopefully you get a prompt again
you<00:07:54.319><c> run</c><00:07:54.560><c> ls</c>

00:07:55.670 --> 00:07:55.680 align:start position:0%
you run ls
 

00:07:55.680 --> 00:07:57.189 align:start position:0%
you run ls
and<00:07:55.919><c> you</c><00:07:56.080><c> hope</c><00:07:56.240><c> basically</c><00:07:56.639><c> that</c><00:07:56.800><c> your</c><00:07:56.960><c> file</c>

00:07:57.189 --> 00:07:57.199 align:start position:0%
and you hope basically that your file
 

00:07:57.199 --> 00:07:59.430 align:start position:0%
and you hope basically that your file
system<00:07:57.520><c> is</c><00:07:57.599><c> in</c><00:07:57.680><c> a</c><00:07:57.759><c> good</c><00:07:58.000><c> state</c>

00:07:59.430 --> 00:07:59.440 align:start position:0%
system is in a good state
 

00:07:59.440 --> 00:08:00.869 align:start position:0%
system is in a good state
in<00:07:59.520><c> the</c><00:07:59.680><c> state</c><00:07:59.840><c> it</c><00:08:00.080><c> actually</c><00:08:00.319><c> can</c><00:08:00.400><c> still</c><00:08:00.639><c> use</c>

00:08:00.869 --> 00:08:00.879 align:start position:0%
in the state it actually can still use
 

00:08:00.879 --> 00:08:03.029 align:start position:0%
in the state it actually can still use
it<00:08:01.759><c> and</c><00:08:01.919><c> so</c><00:08:02.080><c> the</c><00:08:02.160><c> particular</c>

00:08:03.029 --> 00:08:03.039 align:start position:0%
it and so the particular
 

00:08:03.039 --> 00:08:04.629 align:start position:0%
it and so the particular
failures<00:08:03.520><c> or</c><00:08:03.599><c> crashes</c><00:08:04.000><c> that</c><00:08:04.160><c> we're</c><00:08:04.240><c> concerned</c>

00:08:04.629 --> 00:08:04.639 align:start position:0%
failures or crashes that we're concerned
 

00:08:04.639 --> 00:08:06.550 align:start position:0%
failures or crashes that we're concerned
about<00:08:04.960><c> are</c><00:08:05.440><c> basically</c><00:08:05.840><c> power</c><00:08:06.160><c> failures</c>

00:08:06.550 --> 00:08:06.560 align:start position:0%
about are basically power failures
 

00:08:06.560 --> 00:08:08.629 align:start position:0%
about are basically power failures
during<00:08:06.879><c> file</c><00:08:07.120><c> system</c><00:08:07.440><c> operations</c>

00:08:08.629 --> 00:08:08.639 align:start position:0%
during file system operations
 

00:08:08.639 --> 00:08:12.150 align:start position:0%
during file system operations
or<00:08:09.440><c> the</c><00:08:09.599><c> kernel</c><00:08:10.879><c> panics</c><00:08:11.599><c> you</c><00:08:11.680><c> know</c>

00:08:12.150 --> 00:08:12.160 align:start position:0%
or the kernel panics you know
 

00:08:12.160 --> 00:08:13.909 align:start position:0%
or the kernel panics you know
while<00:08:12.479><c> running</c><00:08:12.720><c> some</c><00:08:12.879><c> file</c><00:08:13.120><c> system</c><00:08:13.440><c> operation</c>

00:08:13.909 --> 00:08:13.919 align:start position:0%
while running some file system operation
 

00:08:13.919 --> 00:08:15.749 align:start position:0%
while running some file system operation
you<00:08:14.000><c> know</c><00:08:14.160><c> xv6</c><00:08:14.639><c> is</c><00:08:14.800><c> panics</c><00:08:15.120><c> most</c><00:08:15.360><c> kernels</c><00:08:15.680><c> are</c>

00:08:15.749 --> 00:08:15.759 align:start position:0%
you know xv6 is panics most kernels are
 

00:08:15.759 --> 00:08:17.589 align:start position:0%
you know xv6 is panics most kernels are
panics<00:08:16.160><c> you</c><00:08:16.240><c> know</c><00:08:16.400><c> maybe</c><00:08:16.639><c> there's</c><00:08:16.879><c> some</c>

00:08:17.589 --> 00:08:17.599 align:start position:0%
panics you know maybe there's some
 

00:08:17.599 --> 00:08:19.830 align:start position:0%
panics you know maybe there's some
kernel<00:08:17.919><c> bug</c><00:08:18.240><c> that</c><00:08:18.400><c> causes</c><00:08:18.800><c> a</c><00:08:18.879><c> panic</c><00:08:19.520><c> and</c><00:08:19.599><c> now</c>

00:08:19.830 --> 00:08:19.840 align:start position:0%
kernel bug that causes a panic and now
 

00:08:19.840 --> 00:08:20.790 align:start position:0%
kernel bug that causes a panic and now
suddenly<00:08:20.240><c> your</c><00:08:20.400><c> system</c>

00:08:20.790 --> 00:08:20.800 align:start position:0%
suddenly your system
 

00:08:20.800 --> 00:08:23.189 align:start position:0%
suddenly your system
just<00:08:21.039><c> fails</c><00:08:22.240><c> and</c><00:08:22.479><c> what</c><00:08:22.639><c> you</c><00:08:22.720><c> like</c><00:08:22.879><c> to</c><00:08:22.960><c> be</c><00:08:23.039><c> the</c>

00:08:23.189 --> 00:08:23.199 align:start position:0%
just fails and what you like to be the
 

00:08:23.199 --> 00:08:24.550 align:start position:0%
just fails and what you like to be the
case<00:08:23.360><c> is</c><00:08:23.440><c> that</c><00:08:23.599><c> after</c><00:08:23.840><c> reboot</c><00:08:24.240><c> you</c><00:08:24.240><c> know</c><00:08:24.400><c> you</c>

00:08:24.550 --> 00:08:24.560 align:start position:0%
case is that after reboot you know you
 

00:08:24.560 --> 00:08:26.550 align:start position:0%
case is that after reboot you know you
can<00:08:24.639><c> actually</c><00:08:24.879><c> do</c><00:08:25.039><c> something</c>

00:08:26.550 --> 00:08:26.560 align:start position:0%
can actually do something
 

00:08:26.560 --> 00:08:28.710 align:start position:0%
can actually do something
or<00:08:26.720><c> you</c><00:08:26.800><c> can</c><00:08:26.879><c> still</c><00:08:27.120><c> use</c><00:08:27.360><c> the</c><00:08:27.440><c> file</c><00:08:27.680><c> system</c><00:08:28.479><c> and</c>

00:08:28.710 --> 00:08:28.720 align:start position:0%
or you can still use the file system and
 

00:08:28.720 --> 00:08:29.909 align:start position:0%
or you can still use the file system and
this<00:08:28.879><c> might</c><00:08:29.039><c> be</c><00:08:29.199><c> something</c><00:08:29.599><c> when</c><00:08:29.759><c> you're</c>

00:08:29.909 --> 00:08:29.919 align:start position:0%
this might be something when you're
 

00:08:29.919 --> 00:08:30.550 align:start position:0%
this might be something when you're
thinking<00:08:30.160><c> well</c>

00:08:30.550 --> 00:08:30.560 align:start position:0%
thinking well
 

00:08:30.560 --> 00:08:32.230 align:start position:0%
thinking well
how<00:08:30.720><c> could</c><00:08:30.879><c> that</c><00:08:31.039><c> not</c><00:08:31.280><c> be</c><00:08:31.599><c> right</c><00:08:31.759><c> because</c><00:08:32.159><c> the</c>

00:08:32.230 --> 00:08:32.240 align:start position:0%
how could that not be right because the
 

00:08:32.240 --> 00:08:34.230 align:start position:0%
how could that not be right because the
file<00:08:32.479><c> system</c><00:08:33.360><c> you</c><00:08:33.519><c> know</c><00:08:33.680><c> stored</c><00:08:34.000><c> on</c><00:08:34.159><c> a</c>

00:08:34.230 --> 00:08:34.240 align:start position:0%
file system you know stored on a
 

00:08:34.240 --> 00:08:35.589 align:start position:0%
file system you know stored on a
persistent<00:08:34.719><c> storage</c><00:08:35.039><c> medium</c>

00:08:35.589 --> 00:08:35.599 align:start position:0%
persistent storage medium
 

00:08:35.599 --> 00:08:38.469 align:start position:0%
persistent storage medium
and<00:08:35.839><c> so</c><00:08:36.240><c> if</c><00:08:36.479><c> the</c><00:08:36.560><c> power</c><00:08:36.880><c> fails</c><00:08:37.360><c> you</c><00:08:37.440><c> know</c><00:08:37.680><c> the</c>

00:08:38.469 --> 00:08:38.479 align:start position:0%
and so if the power fails you know the
 

00:08:38.479 --> 00:08:40.070 align:start position:0%
and so if the power fails you know the
medium<00:08:38.959><c> should</c><00:08:39.120><c> be</c><00:08:39.279><c> good</c><00:08:39.519><c> and</c><00:08:39.680><c> so</c><00:08:39.839><c> when</c><00:08:40.000><c> the</c>

00:08:40.070 --> 00:08:40.080 align:start position:0%
medium should be good and so when the
 

00:08:40.080 --> 00:08:41.509 align:start position:0%
medium should be good and so when the
machine<00:08:40.320><c> comes</c><00:08:40.560><c> back</c><00:08:40.800><c> up</c><00:08:40.959><c> you</c><00:08:41.120><c> know</c><00:08:41.279><c> all</c><00:08:41.360><c> the</c>

00:08:41.509 --> 00:08:41.519 align:start position:0%
machine comes back up you know all the
 

00:08:41.519 --> 00:08:42.709 align:start position:0%
machine comes back up you know all the
blocks<00:08:41.760><c> that</c><00:08:41.919><c> you've</c><00:08:42.080><c> written</c><00:08:42.399><c> should</c><00:08:42.560><c> be</c>

00:08:42.709 --> 00:08:42.719 align:start position:0%
blocks that you've written should be
 

00:08:42.719 --> 00:08:43.670 align:start position:0%
blocks that you've written should be
there

00:08:43.670 --> 00:08:43.680 align:start position:0%
there
 

00:08:43.680 --> 00:08:45.509 align:start position:0%
there
and<00:08:44.080><c> we'll</c><00:08:44.240><c> see</c><00:08:44.399><c> that</c><00:08:44.560><c> the</c><00:08:44.720><c> tricky</c><00:08:45.040><c> case</c><00:08:45.360><c> is</c>

00:08:45.509 --> 00:08:45.519 align:start position:0%
and we'll see that the tricky case is
 

00:08:45.519 --> 00:08:49.110 align:start position:0%
and we'll see that the tricky case is
that<00:08:45.920><c> many</c><00:08:46.160><c> file</c><00:08:46.480><c> system</c><00:08:46.800><c> operations</c><00:08:47.360><c> have</c>

00:08:49.110 --> 00:08:49.120 align:start position:0%
that many file system operations have
 

00:08:49.120 --> 00:08:53.190 align:start position:0%
that many file system operations have
multi-step<00:08:49.920><c> operations</c><00:08:51.200><c> and</c><00:08:52.080><c> really</c><00:08:52.480><c> what</c><00:08:52.720><c> is</c>

00:08:53.190 --> 00:08:53.200 align:start position:0%
multi-step operations and really what is
 

00:08:53.200 --> 00:08:55.350 align:start position:0%
multi-step operations and really what is
important<00:08:53.680><c> in</c><00:08:53.760><c> those</c><00:08:54.000><c> mold</c><00:08:54.240><c> and</c><00:08:54.399><c> if</c><00:08:54.480><c> we</c><00:08:54.959><c> if</c><00:08:55.120><c> we</c>

00:08:55.350 --> 00:08:55.360 align:start position:0%
important in those mold and if we if we
 

00:08:55.360 --> 00:08:56.310 align:start position:0%
important in those mold and if we if we
crash<00:08:55.920><c> just</c>

00:08:56.310 --> 00:08:56.320 align:start position:0%
crash just
 

00:08:56.320 --> 00:08:58.710 align:start position:0%
crash just
in<00:08:56.399><c> the</c><00:08:56.560><c> wrong</c><00:08:57.279><c> place</c><00:08:57.760><c> in</c><00:08:57.920><c> these</c><00:08:58.080><c> multi-step</c>

00:08:58.710 --> 00:08:58.720 align:start position:0%
in the wrong place in these multi-step
 

00:08:58.720 --> 00:08:59.509 align:start position:0%
in the wrong place in these multi-step
operations

00:08:59.509 --> 00:08:59.519 align:start position:0%
operations
 

00:08:59.519 --> 00:09:01.269 align:start position:0%
operations
the<00:08:59.680><c> file</c><00:08:59.920><c> system</c><00:09:00.240><c> actually</c><00:09:00.560><c> may</c><00:09:00.880><c> end</c><00:09:01.040><c> up</c>

00:09:01.269 --> 00:09:01.279 align:start position:0%
the file system actually may end up
 

00:09:01.279 --> 00:09:03.110 align:start position:0%
the file system actually may end up
being<00:09:01.519><c> on</c><00:09:01.680><c> disk</c><00:09:02.080><c> inconsistent</c><00:09:02.800><c> for</c>

00:09:03.110 --> 00:09:03.120 align:start position:0%
being on disk inconsistent for
 

00:09:03.120 --> 00:09:04.949 align:start position:0%
being on disk inconsistent for
that<00:09:03.360><c> short</c><00:09:03.600><c> period</c><00:09:04.000><c> of</c><00:09:04.080><c> time</c><00:09:04.560><c> and</c><00:09:04.720><c> if</c><00:09:04.800><c> the</c>

00:09:04.949 --> 00:09:04.959 align:start position:0%
that short period of time and if the
 

00:09:04.959 --> 00:09:06.710 align:start position:0%
that short period of time and if the
power<00:09:05.200><c> flow</c><00:09:05.600><c> just</c><00:09:05.839><c> happened</c><00:09:06.240><c> there</c>

00:09:06.710 --> 00:09:06.720 align:start position:0%
power flow just happened there
 

00:09:06.720 --> 00:09:08.790 align:start position:0%
power flow just happened there
you<00:09:06.880><c> know</c><00:09:07.040><c> something</c><00:09:07.279><c> bad</c><00:09:07.440><c> could</c><00:09:07.680><c> happen</c><00:09:08.640><c> and</c>

00:09:08.790 --> 00:09:08.800 align:start position:0%
you know something bad could happen and
 

00:09:08.800 --> 00:09:10.470 align:start position:0%
you know something bad could happen and
so<00:09:08.959><c> that</c><00:09:09.279><c> is</c><00:09:09.360><c> sort</c><00:09:09.519><c> of</c><00:09:09.600><c> the</c><00:09:09.839><c> problem</c><00:09:10.240><c> that</c>

00:09:10.470 --> 00:09:10.480 align:start position:0%
so that is sort of the problem that
 

00:09:10.480 --> 00:09:12.070 align:start position:0%
so that is sort of the problem that
we're<00:09:10.880><c> uh</c>

00:09:12.070 --> 00:09:12.080 align:start position:0%
we're uh
 

00:09:12.080 --> 00:09:14.630 align:start position:0%
we're uh
focusing<00:09:12.560><c> on</c><00:09:12.720><c> uh</c><00:09:12.959><c> today</c><00:09:13.839><c> and</c><00:09:14.000><c> so</c><00:09:14.240><c> this</c><00:09:14.480><c> is</c>

00:09:14.630 --> 00:09:14.640 align:start position:0%
focusing on uh today and so this is
 

00:09:14.640 --> 00:09:15.910 align:start position:0%
focusing on uh today and so this is
different<00:09:14.959><c> from</c><00:09:15.120><c> the</c><00:09:15.279><c> problem</c><00:09:15.600><c> that</c><00:09:15.839><c> for</c>

00:09:15.910 --> 00:09:15.920 align:start position:0%
different from the problem that for
 

00:09:15.920 --> 00:09:17.269 align:start position:0%
different from the problem that for
example<00:09:16.240><c> whatever</c><00:09:16.720><c> you</c><00:09:16.800><c> know</c><00:09:17.040><c> there's</c><00:09:17.200><c> a</c>

00:09:17.269 --> 00:09:17.279 align:start position:0%
example whatever you know there's a
 

00:09:17.279 --> 00:09:19.110 align:start position:0%
example whatever you know there's a
power<00:09:17.600><c> failure</c><00:09:18.080><c> and</c><00:09:18.240><c> your</c><00:09:18.560><c> disc</c><00:09:18.880><c> you</c><00:09:18.959><c> know</c>

00:09:19.110 --> 00:09:19.120 align:start position:0%
power failure and your disc you know
 

00:09:19.120 --> 00:09:19.910 align:start position:0%
power failure and your disc you know
caught<00:09:19.440><c> fire</c>

00:09:19.910 --> 00:09:19.920 align:start position:0%
caught fire
 

00:09:19.920 --> 00:09:22.230 align:start position:0%
caught fire
and<00:09:20.080><c> so</c><00:09:20.800><c> there's</c><00:09:21.040><c> nothing</c><00:09:21.279><c> there</c><00:09:21.519><c> anymore</c><00:09:22.000><c> and</c>

00:09:22.230 --> 00:09:22.240 align:start position:0%
and so there's nothing there anymore and
 

00:09:22.240 --> 00:09:23.269 align:start position:0%
and so there's nothing there anymore and
so<00:09:22.480><c> you</c><00:09:22.560><c> need</c><00:09:22.720><c> to</c>

00:09:23.269 --> 00:09:23.279 align:start position:0%
so you need to
 

00:09:23.279 --> 00:09:25.269 align:start position:0%
so you need to
in<00:09:23.360><c> that</c><00:09:23.600><c> case</c><00:09:23.920><c> you</c><00:09:24.000><c> know</c><00:09:24.160><c> you</c><00:09:24.240><c> need</c><00:09:24.399><c> to</c><00:09:25.120><c> you</c>

00:09:25.269 --> 00:09:25.279 align:start position:0%
in that case you know you need to you
 

00:09:25.279 --> 00:09:26.470 align:start position:0%
in that case you know you need to you
need<00:09:25.519><c> there's</c><00:09:25.760><c> a</c><00:09:25.839><c> completely</c><00:09:26.240><c> different</c>

00:09:26.470 --> 00:09:26.480 align:start position:0%
need there's a completely different
 

00:09:26.480 --> 00:09:27.910 align:start position:0%
need there's a completely different
problem<00:09:26.720><c> that</c><00:09:26.880><c> has</c><00:09:27.120><c> different</c><00:09:27.360><c> solutions</c>

00:09:27.910 --> 00:09:27.920 align:start position:0%
problem that has different solutions
 

00:09:27.920 --> 00:09:29.670 align:start position:0%
problem that has different solutions
you<00:09:28.000><c> know</c><00:09:28.080><c> for</c><00:09:28.240><c> example</c><00:09:28.640><c> you</c><00:09:28.880><c> have</c><00:09:28.959><c> to</c><00:09:29.279><c> go</c><00:09:29.519><c> back</c>

00:09:29.670 --> 00:09:29.680 align:start position:0%
you know for example you have to go back
 

00:09:29.680 --> 00:09:31.030 align:start position:0%
you know for example you have to go back
to<00:09:29.839><c> a</c><00:09:30.000><c> backup</c>

00:09:31.030 --> 00:09:31.040 align:start position:0%
to a backup
 

00:09:31.040 --> 00:09:32.790 align:start position:0%
to a backup
of<00:09:31.279><c> your</c><00:09:31.440><c> file</c><00:09:31.680><c> system</c><00:09:32.080><c> you</c><00:09:32.160><c> know</c><00:09:32.320><c> reinstall</c>

00:09:32.790 --> 00:09:32.800 align:start position:0%
of your file system you know reinstall
 

00:09:32.800 --> 00:09:35.190 align:start position:0%
of your file system you know reinstall
your<00:09:32.959><c> file</c><00:09:33.200><c> system</c><00:09:33.600><c> etc</c><00:09:33.920><c> etc</c>

00:09:35.190 --> 00:09:35.200 align:start position:0%
your file system etc etc
 

00:09:35.200 --> 00:09:36.550 align:start position:0%
your file system etc etc
so<00:09:35.360><c> that's</c><00:09:35.600><c> the</c><00:09:35.680><c> problem</c><00:09:35.920><c> we're</c><00:09:36.080><c> not</c><00:09:36.320><c> worried</c>

00:09:36.550 --> 00:09:36.560 align:start position:0%
so that's the problem we're not worried
 

00:09:36.560 --> 00:09:38.070 align:start position:0%
so that's the problem we're not worried
about<00:09:36.880><c> we're</c><00:09:37.040><c> really</c><00:09:37.360><c> worried</c><00:09:37.680><c> about</c><00:09:37.920><c> the</c>

00:09:38.070 --> 00:09:38.080 align:start position:0%
about we're really worried about the
 

00:09:38.080 --> 00:09:39.990 align:start position:0%
about we're really worried about the
specific<00:09:38.560><c> problem</c><00:09:39.040><c> of</c>

00:09:39.990 --> 00:09:40.000 align:start position:0%
specific problem of
 

00:09:40.000 --> 00:09:43.030 align:start position:0%
specific problem of
failure<00:09:40.480><c> happening</c><00:09:41.120><c> right</c><00:09:41.760><c> during</c><00:09:42.480><c> a</c>

00:09:43.030 --> 00:09:43.040 align:start position:0%
failure happening right during a
 

00:09:43.040 --> 00:09:46.310 align:start position:0%
failure happening right during a
multi-step<00:09:43.600><c> operation</c>

00:09:46.310 --> 00:09:46.320 align:start position:0%
 
 

00:09:46.320 --> 00:09:48.870 align:start position:0%
 
okay<00:09:46.560><c> and</c><00:09:46.640><c> the</c><00:09:46.800><c> solution</c><00:09:48.080><c> for</c><00:09:48.240><c> that</c><00:09:48.399><c> specific</c>

00:09:48.870 --> 00:09:48.880 align:start position:0%
okay and the solution for that specific
 

00:09:48.880 --> 00:09:51.030 align:start position:0%
okay and the solution for that specific
problem<00:09:49.120><c> that</c><00:09:49.200><c> we're</c><00:09:49.279><c> going</c><00:09:49.360><c> to</c><00:09:49.519><c> be</c><00:09:49.600><c> exploring</c>

00:09:51.030 --> 00:09:51.040 align:start position:0%
problem that we're going to be exploring
 

00:09:51.040 --> 00:09:53.430 align:start position:0%
problem that we're going to be exploring
is<00:09:51.120><c> something</c><00:09:51.440><c> that</c><00:09:51.680><c> is</c><00:09:52.080><c> called</c><00:09:52.480><c> logging</c><00:09:53.200><c> and</c>

00:09:53.430 --> 00:09:53.440 align:start position:0%
is something that is called logging and
 

00:09:53.440 --> 00:09:55.110 align:start position:0%
is something that is called logging and
this<00:09:53.600><c> is</c><00:09:53.680><c> a</c><00:09:53.920><c> very</c><00:09:54.160><c> popular</c>

00:09:55.110 --> 00:09:55.120 align:start position:0%
this is a very popular
 

00:09:55.120 --> 00:09:59.430 align:start position:0%
this is a very popular
uh<00:09:56.240><c> solution</c><00:09:56.880><c> uh</c><00:09:57.600><c> originally</c><00:09:58.160><c> uh</c>

00:09:59.430 --> 00:09:59.440 align:start position:0%
uh solution uh originally uh
 

00:09:59.440 --> 00:10:01.430 align:start position:0%
uh solution uh originally uh
coming<00:09:59.760><c> out</c><00:09:59.839><c> of</c><00:09:59.920><c> the</c><00:10:00.000><c> database</c><00:10:00.480><c> world</c><00:10:01.200><c> but</c><00:10:01.360><c> a</c>

00:10:01.430 --> 00:10:01.440 align:start position:0%
coming out of the database world but a
 

00:10:01.440 --> 00:10:02.710 align:start position:0%
coming out of the database world but a
lot<00:10:01.600><c> of</c><00:10:01.680><c> file</c><00:10:02.000><c> systems</c>

00:10:02.710 --> 00:10:02.720 align:start position:0%
lot of file systems
 

00:10:02.720 --> 00:10:05.910 align:start position:0%
lot of file systems
use<00:10:03.040><c> logging</c><00:10:03.760><c> these</c><00:10:04.000><c> days</c>

00:10:05.910 --> 00:10:05.920 align:start position:0%
use logging these days
 

00:10:05.920 --> 00:10:07.910 align:start position:0%
use logging these days
we're<00:10:06.079><c> going</c><00:10:06.240><c> to</c><00:10:06.640><c> it's</c><00:10:06.800><c> a</c><00:10:06.880><c> very</c><00:10:07.440><c> one</c><00:10:07.680><c> reason</c>

00:10:07.910 --> 00:10:07.920 align:start position:0%
we're going to it's a very one reason
 

00:10:07.920 --> 00:10:09.430 align:start position:0%
we're going to it's a very one reason
it's<00:10:08.079><c> popular</c><00:10:08.720><c> because</c><00:10:08.959><c> it's</c><00:10:09.120><c> a</c><00:10:09.200><c> very</c>

00:10:09.430 --> 00:10:09.440 align:start position:0%
it's popular because it's a very
 

00:10:09.440 --> 00:10:12.150 align:start position:0%
it's popular because it's a very
principled<00:10:09.920><c> solution</c>

00:10:12.150 --> 00:10:12.160 align:start position:0%
principled solution
 

00:10:12.160 --> 00:10:14.150 align:start position:0%
principled solution
and<00:10:12.320><c> we're</c><00:10:12.480><c> going</c><00:10:12.640><c> to</c><00:10:13.040><c> see</c><00:10:13.200><c> the</c><00:10:13.360><c> instantiation</c>

00:10:14.150 --> 00:10:14.160 align:start position:0%
and we're going to see the instantiation
 

00:10:14.160 --> 00:10:15.190 align:start position:0%
and we're going to see the instantiation
of<00:10:14.480><c> logging</c>

00:10:15.190 --> 00:10:15.200 align:start position:0%
of logging
 

00:10:15.200 --> 00:10:18.230 align:start position:0%
of logging
in<00:10:15.519><c> xc6</c><00:10:16.560><c> and</c><00:10:16.720><c> of</c><00:10:16.800><c> course</c><00:10:17.040><c> xp6</c><00:10:17.519><c> has</c><00:10:17.680><c> a</c><00:10:17.920><c> very</c>

00:10:18.230 --> 00:10:18.240 align:start position:0%
in xc6 and of course xp6 has a very
 

00:10:18.240 --> 00:10:19.910 align:start position:0%
in xc6 and of course xp6 has a very
simple<00:10:18.560><c> implementation</c><00:10:19.200><c> like</c><00:10:19.360><c> a</c><00:10:19.519><c> bare</c>

00:10:19.910 --> 00:10:19.920 align:start position:0%
simple implementation like a bare
 

00:10:19.920 --> 00:10:20.630 align:start position:0%
simple implementation like a bare
minimal

00:10:20.630 --> 00:10:20.640 align:start position:0%
minimal
 

00:10:20.640 --> 00:10:22.949 align:start position:0%
minimal
uh<00:10:21.120><c> implementation</c><00:10:21.760><c> of</c><00:10:21.920><c> logging</c><00:10:22.480><c> just</c><00:10:22.640><c> to</c>

00:10:22.949 --> 00:10:22.959 align:start position:0%
uh implementation of logging just to
 

00:10:22.959 --> 00:10:25.190 align:start position:0%
uh implementation of logging just to
demonstrate<00:10:23.519><c> you</c><00:10:23.680><c> know</c><00:10:23.760><c> the</c><00:10:23.920><c> key</c><00:10:24.160><c> ideas</c>

00:10:25.190 --> 00:10:25.200 align:start position:0%
demonstrate you know the key ideas
 

00:10:25.200 --> 00:10:28.389 align:start position:0%
demonstrate you know the key ideas
um<00:10:26.000><c> and</c><00:10:26.160><c> even</c><00:10:26.399><c> that</c><00:10:26.720><c> sort</c><00:10:26.880><c> of</c><00:10:27.440><c> uh</c><00:10:27.760><c> very</c><00:10:28.079><c> bare</c>

00:10:28.389 --> 00:10:28.399 align:start position:0%
um and even that sort of uh very bare
 

00:10:28.399 --> 00:10:30.150 align:start position:0%
um and even that sort of uh very bare
bone<00:10:28.800><c> uh</c><00:10:29.040><c> log</c><00:10:29.279><c> implementation</c><00:10:29.760><c> actually</c><00:10:30.000><c> has</c>

00:10:30.150 --> 00:10:30.160 align:start position:0%
bone uh log implementation actually has
 

00:10:30.160 --> 00:10:31.350 align:start position:0%
bone uh log implementation actually has
some<00:10:30.320><c> subtle</c><00:10:30.640><c> issues</c><00:10:30.880><c> that</c><00:10:31.040><c> we're</c><00:10:31.200><c> going</c><00:10:31.279><c> to</c>

00:10:31.350 --> 00:10:31.360 align:start position:0%
some subtle issues that we're going to
 

00:10:31.360 --> 00:10:31.990 align:start position:0%
some subtle issues that we're going to
be

00:10:31.990 --> 00:10:32.000 align:start position:0%
be
 

00:10:32.000 --> 00:10:33.910 align:start position:0%
be
talking<00:10:32.320><c> about</c><00:10:32.800><c> and</c><00:10:33.040><c> that's</c><00:10:33.279><c> why</c><00:10:33.440><c> it's</c><00:10:33.600><c> worth</c>

00:10:33.910 --> 00:10:33.920 align:start position:0%
talking about and that's why it's worth
 

00:10:33.920 --> 00:10:36.069 align:start position:0%
talking about and that's why it's worth
kind<00:10:34.160><c> of</c><00:10:34.240><c> studying</c><00:10:34.560><c> it</c>

00:10:36.069 --> 00:10:36.079 align:start position:0%
kind of studying it
 

00:10:36.079 --> 00:10:38.150 align:start position:0%
kind of studying it
one<00:10:36.720><c> downside</c><00:10:37.200><c> to</c><00:10:37.360><c> this</c><00:10:37.600><c> we'll</c><00:10:37.760><c> see</c><00:10:37.920><c> if</c><00:10:38.000><c> the</c>

00:10:38.150 --> 00:10:38.160 align:start position:0%
one downside to this we'll see if the
 

00:10:38.160 --> 00:10:40.069 align:start position:0%
one downside to this we'll see if the
xv6<00:10:38.640><c> solution</c><00:10:39.040><c> is</c><00:10:39.120><c> because</c><00:10:39.360><c> of</c><00:10:39.519><c> simplicity</c>

00:10:40.069 --> 00:10:40.079 align:start position:0%
xv6 solution is because of simplicity
 

00:10:40.079 --> 00:10:40.949 align:start position:0%
xv6 solution is because of simplicity
its<00:10:40.240><c> performance</c>

00:10:40.949 --> 00:10:40.959 align:start position:0%
its performance
 

00:10:40.959 --> 00:10:43.750 align:start position:0%
its performance
is<00:10:41.120><c> also</c><00:10:41.440><c> not</c><00:10:41.600><c> so</c><00:10:41.760><c> great</c><00:10:42.880><c> even</c><00:10:43.120><c> though</c><00:10:43.360><c> locking</c>

00:10:43.750 --> 00:10:43.760 align:start position:0%
is also not so great even though locking
 

00:10:43.760 --> 00:10:45.190 align:start position:0%
is also not so great even though locking
systems<00:10:44.079><c> in</c><00:10:44.240><c> principle</c><00:10:44.640><c> can</c><00:10:44.800><c> get</c><00:10:45.040><c> good</c>

00:10:45.190 --> 00:10:45.200 align:start position:0%
systems in principle can get good
 

00:10:45.200 --> 00:10:46.230 align:start position:0%
systems in principle can get good
performance

00:10:46.230 --> 00:10:46.240 align:start position:0%
performance
 

00:10:46.240 --> 00:10:49.030 align:start position:0%
performance
and<00:10:46.399><c> so</c><00:10:46.560><c> what</c><00:10:46.720><c> we'll</c><00:10:46.880><c> do</c><00:10:48.160><c> next</c><00:10:48.480><c> week</c><00:10:48.880><c> is</c>

00:10:49.030 --> 00:10:49.040 align:start position:0%
and so what we'll do next week is
 

00:10:49.040 --> 00:10:49.910 align:start position:0%
and so what we'll do next week is
actually<00:10:49.440><c> look</c>

00:10:49.910 --> 00:10:49.920 align:start position:0%
actually look
 

00:10:49.920 --> 00:10:52.470 align:start position:0%
actually look
uh<00:10:50.640><c> how</c><00:10:50.959><c> to</c><00:10:51.120><c> implement</c><00:10:51.519><c> a</c><00:10:51.600><c> high</c><00:10:51.760><c> performance</c>

00:10:52.470 --> 00:10:52.480 align:start position:0%
uh how to implement a high performance
 

00:10:52.480 --> 00:10:53.590 align:start position:0%
uh how to implement a high performance
logging<00:10:52.880><c> system</c>

00:10:53.590 --> 00:10:53.600 align:start position:0%
logging system
 

00:10:53.600 --> 00:10:56.470 align:start position:0%
logging system
by<00:10:53.839><c> studying</c><00:10:54.480><c> the</c><00:10:54.800><c> logging</c><00:10:55.200><c> system</c><00:10:55.600><c> that</c><00:10:56.160><c> the</c>

00:10:56.470 --> 00:10:56.480 align:start position:0%
by studying the logging system that the
 

00:10:56.480 --> 00:10:59.430 align:start position:0%
by studying the logging system that the
linux<00:10:56.880><c> ext3</c><00:10:57.519><c> file</c><00:10:57.839><c> system</c><00:10:58.160><c> uses</c>

00:10:59.430 --> 00:10:59.440 align:start position:0%
linux ext3 file system uses
 

00:10:59.440 --> 00:11:03.190 align:start position:0%
linux ext3 file system uses
uh<00:10:59.839><c> but</c><00:11:00.000><c> that's</c><00:11:00.320><c> next</c><00:11:00.560><c> week</c><00:11:02.399><c> another</c>

00:11:03.190 --> 00:11:03.200 align:start position:0%
uh but that's next week another
 

00:11:03.200 --> 00:11:05.509 align:start position:0%
uh but that's next week another
maybe<00:11:03.600><c> small</c><00:11:04.640><c> point</c><00:11:04.880><c> one</c><00:11:05.120><c> i</c><00:11:05.200><c> want</c><00:11:05.279><c> to</c><00:11:05.360><c> make</c>

00:11:05.509 --> 00:11:05.519 align:start position:0%
maybe small point one i want to make
 

00:11:05.519 --> 00:11:07.430 align:start position:0%
maybe small point one i want to make
today<00:11:05.920><c> is</c><00:11:06.079><c> that</c><00:11:06.240><c> this</c><00:11:06.480><c> is</c><00:11:06.640><c> our</c><00:11:06.880><c> last</c>

00:11:07.430 --> 00:11:07.440 align:start position:0%
today is that this is our last
 

00:11:07.440 --> 00:11:10.550 align:start position:0%
today is that this is our last
xv6<00:11:08.000><c> lecture</c><00:11:08.880><c> uh</c><00:11:09.279><c> and</c><00:11:09.519><c> from</c><00:11:09.760><c> now</c><00:11:10.000><c> on</c><00:11:10.399><c> we're</c>

00:11:10.550 --> 00:11:10.560 align:start position:0%
xv6 lecture uh and from now on we're
 

00:11:10.560 --> 00:11:12.389 align:start position:0%
xv6 lecture uh and from now on we're
going<00:11:10.640><c> to</c><00:11:10.720><c> be</c><00:11:10.880><c> switching</c><00:11:11.440><c> to</c>

00:11:12.389 --> 00:11:12.399 align:start position:0%
going to be switching to
 

00:11:12.399 --> 00:11:15.350 align:start position:0%
going to be switching to
uh<00:11:13.120><c> papers</c><00:11:14.160><c> because</c><00:11:14.480><c> in</c><00:11:14.560><c> some</c><00:11:14.800><c> ways</c><00:11:15.120><c> what</c>

00:11:15.350 --> 00:11:15.360 align:start position:0%
uh papers because in some ways what
 

00:11:15.360 --> 00:11:17.030 align:start position:0%
uh papers because in some ways what
we've<00:11:15.600><c> done</c><00:11:15.839><c> is</c><00:11:16.000><c> we</c><00:11:16.240><c> sort</c><00:11:16.399><c> of</c><00:11:16.480><c> covered</c><00:11:16.880><c> you</c>

00:11:17.030 --> 00:11:17.040 align:start position:0%
we've done is we sort of covered you
 

00:11:17.040 --> 00:11:18.630 align:start position:0%
we've done is we sort of covered you
know<00:11:17.200><c> the</c><00:11:17.360><c> basic</c><00:11:17.839><c> concepts</c>

00:11:18.630 --> 00:11:18.640 align:start position:0%
know the basic concepts
 

00:11:18.640 --> 00:11:19.990 align:start position:0%
know the basic concepts
and<00:11:18.800><c> we</c><00:11:18.959><c> can</c><00:11:19.120><c> start</c><00:11:19.360><c> looking</c><00:11:19.600><c> at</c><00:11:19.760><c> more</c>

00:11:19.990 --> 00:11:20.000 align:start position:0%
and we can start looking at more
 

00:11:20.000 --> 00:11:22.710 align:start position:0%
and we can start looking at more
advanced<00:11:20.720><c> uh</c><00:11:21.600><c> operating</c><00:11:21.920><c> system</c><00:11:22.240><c> ids</c><00:11:22.560><c> by</c>

00:11:22.710 --> 00:11:22.720 align:start position:0%
advanced uh operating system ids by
 

00:11:22.720 --> 00:11:23.430 align:start position:0%
advanced uh operating system ids by
reading

00:11:23.430 --> 00:11:23.440 align:start position:0%
reading
 

00:11:23.440 --> 00:11:27.030 align:start position:0%
reading
papers<00:11:24.880><c> okay</c>

00:11:27.030 --> 00:11:27.040 align:start position:0%
papers okay
 

00:11:27.040 --> 00:11:34.470 align:start position:0%
papers okay
any<00:11:27.279><c> questions</c><00:11:27.600><c> so</c><00:11:27.760><c> far</c>

00:11:34.470 --> 00:11:34.480 align:start position:0%
 
 

00:11:34.480 --> 00:11:37.990 align:start position:0%
 
we're<00:11:34.640><c> all</c><00:11:34.800><c> good</c>

00:11:37.990 --> 00:11:38.000 align:start position:0%
 
 

00:11:38.000 --> 00:11:41.430 align:start position:0%
 
okay<00:11:38.720><c> um</c><00:11:39.360><c> so</c><00:11:39.519><c> let</c><00:11:39.680><c> me</c><00:11:40.720><c> go</c><00:11:40.880><c> back</c><00:11:41.040><c> a</c><00:11:41.120><c> little</c><00:11:41.279><c> bit</c>

00:11:41.430 --> 00:11:41.440 align:start position:0%
okay um so let me go back a little bit
 

00:11:41.440 --> 00:11:43.269 align:start position:0%
okay um so let me go back a little bit
about<00:11:41.760><c> like</c><00:11:41.920><c> the</c><00:11:42.000><c> scenario</c><00:11:42.480><c> that</c><00:11:42.640><c> we</c><00:11:42.800><c> really</c>

00:11:43.269 --> 00:11:43.279 align:start position:0%
about like the scenario that we really
 

00:11:43.279 --> 00:11:46.550 align:start position:0%
about like the scenario that we really
uh<00:11:43.680><c> that</c><00:11:43.839><c> we're</c><00:11:44.160><c> focusing</c><00:11:44.480><c> about</c><00:11:44.959><c> uh</c><00:11:46.079><c> in</c><00:11:46.320><c> this</c>

00:11:46.550 --> 00:11:46.560 align:start position:0%
uh that we're focusing about uh in this
 

00:11:46.560 --> 00:11:47.590 align:start position:0%
uh that we're focusing about uh in this
lecture

00:11:47.590 --> 00:11:47.600 align:start position:0%
lecture
 

00:11:47.600 --> 00:11:50.389 align:start position:0%
lecture
so<00:11:48.240><c> uh</c><00:11:48.720><c> file</c><00:11:48.959><c> systems</c><00:11:49.680><c> or</c><00:11:49.839><c> file</c><00:11:50.079><c> system</c>

00:11:50.389 --> 00:11:50.399 align:start position:0%
so uh file systems or file system
 

00:11:50.399 --> 00:11:52.310 align:start position:0%
so uh file systems or file system
operations

00:11:52.310 --> 00:11:52.320 align:start position:0%
operations
 

00:11:52.320 --> 00:11:55.829 align:start position:0%
operations
like<00:11:52.560><c> creating</c><00:11:52.959><c> a</c><00:11:53.040><c> file</c><00:11:54.000><c> writing</c><00:11:54.320><c> a</c><00:11:54.480><c> file</c><00:11:55.200><c> are</c>

00:11:55.829 --> 00:11:55.839 align:start position:0%
like creating a file writing a file are
 

00:11:55.839 --> 00:11:57.030 align:start position:0%
like creating a file writing a file are
multi-step

00:11:57.030 --> 00:11:57.040 align:start position:0%
multi-step
 

00:11:57.040 --> 00:12:07.430 align:start position:0%
multi-step
disk<00:11:57.360><c> operations</c>

00:12:07.430 --> 00:12:07.440 align:start position:0%
 
 

00:12:07.440 --> 00:12:09.430 align:start position:0%
 
and<00:12:07.760><c> you</c><00:12:07.920><c> know</c><00:12:08.000><c> we</c><00:12:08.160><c> saw</c><00:12:08.320><c> that</c><00:12:08.560><c> last</c><00:12:08.800><c> week</c><00:12:09.200><c> or</c>

00:12:09.430 --> 00:12:09.440 align:start position:0%
and you know we saw that last week or
 

00:12:09.440 --> 00:12:10.790 align:start position:0%
and you know we saw that last week or
monday<00:12:09.920><c> we</c><00:12:10.079><c> talked</c><00:12:10.320><c> about</c><00:12:10.480><c> how</c>

00:12:10.790 --> 00:12:10.800 align:start position:0%
monday we talked about how
 

00:12:10.800 --> 00:12:12.230 align:start position:0%
monday we talked about how
create<00:12:11.120><c> is</c><00:12:11.200><c> implemented</c><00:12:11.680><c> like</c><00:12:11.839><c> creating</c><00:12:12.160><c> a</c>

00:12:12.230 --> 00:12:12.240 align:start position:0%
create is implemented like creating a
 

00:12:12.240 --> 00:12:14.310 align:start position:0%
create is implemented like creating a
file<00:12:12.639><c> or</c><00:12:12.800><c> writing</c><00:12:13.040><c> to</c><00:12:13.200><c> a</c><00:12:13.279><c> file</c><00:12:13.600><c> we</c><00:12:13.760><c> often</c><00:12:14.079><c> see</c>

00:12:14.310 --> 00:12:14.320 align:start position:0%
file or writing to a file we often see
 

00:12:14.320 --> 00:12:15.190 align:start position:0%
file or writing to a file we often see
that<00:12:14.480><c> you</c><00:12:14.639><c> know</c><00:12:14.800><c> the</c>

00:12:15.190 --> 00:12:15.200 align:start position:0%
that you know the
 

00:12:15.200 --> 00:12:16.710 align:start position:0%
that you know the
sequence<00:12:15.600><c> of</c><00:12:15.760><c> events</c><00:12:16.079><c> is</c><00:12:16.240><c> or</c><00:12:16.320><c> something</c><00:12:16.560><c> of</c>

00:12:16.710 --> 00:12:16.720 align:start position:0%
sequence of events is or something of
 

00:12:16.720 --> 00:12:18.389 align:start position:0%
sequence of events is or something of
the<00:12:16.880><c> sequence</c><00:12:17.279><c> of</c><00:12:17.360><c> steps</c><00:12:17.760><c> are</c><00:12:18.160><c> you</c><00:12:18.240><c> know</c>

00:12:18.389 --> 00:12:18.399 align:start position:0%
the sequence of steps are you know
 

00:12:18.399 --> 00:12:20.310 align:start position:0%
the sequence of steps are you know
allocate<00:12:18.800><c> an</c><00:12:18.959><c> inode</c><00:12:19.440><c> or</c><00:12:19.600><c> mark</c><00:12:19.839><c> the</c><00:12:19.920><c> inode</c>

00:12:20.310 --> 00:12:20.320 align:start position:0%
allocate an inode or mark the inode
 

00:12:20.320 --> 00:12:21.590 align:start position:0%
allocate an inode or mark the inode
allocated<00:12:20.800><c> on</c><00:12:20.959><c> disk</c>

00:12:21.590 --> 00:12:21.600 align:start position:0%
allocated on disk
 

00:12:21.600 --> 00:12:23.509 align:start position:0%
allocated on disk
then<00:12:22.160><c> you</c><00:12:22.240><c> know</c><00:12:22.480><c> write</c><00:12:22.720><c> the</c><00:12:22.800><c> directory</c><00:12:23.279><c> block</c>

00:12:23.509 --> 00:12:23.519 align:start position:0%
then you know write the directory block
 

00:12:23.519 --> 00:12:25.110 align:start position:0%
then you know write the directory block
that<00:12:23.680><c> contains</c><00:12:24.079><c> that</c><00:12:24.240><c> inode</c><00:12:24.639><c> and</c><00:12:24.720><c> so</c><00:12:24.880><c> those</c>

00:12:25.110 --> 00:12:25.120 align:start position:0%
that contains that inode and so those
 

00:12:25.120 --> 00:12:26.470 align:start position:0%
that contains that inode and so those
are<00:12:25.200><c> the</c><00:12:25.360><c> multi</c><00:12:25.680><c> steps</c><00:12:26.000><c> that</c><00:12:26.079><c> i'm</c><00:12:26.160><c> talking</c>

00:12:26.470 --> 00:12:26.480 align:start position:0%
are the multi steps that i'm talking
 

00:12:26.480 --> 00:12:27.350 align:start position:0%
are the multi steps that i'm talking
about

00:12:27.350 --> 00:12:27.360 align:start position:0%
about
 

00:12:27.360 --> 00:12:30.150 align:start position:0%
about
and<00:12:27.519><c> if</c><00:12:27.680><c> we</c><00:12:27.760><c> get</c><00:12:27.920><c> a</c><00:12:28.079><c> crash</c><00:12:29.200><c> between</c><00:12:29.920><c> two</c><00:12:30.079><c> of</c>

00:12:30.150 --> 00:12:30.160 align:start position:0%
and if we get a crash between two of
 

00:12:30.160 --> 00:12:31.110 align:start position:0%
and if we get a crash between two of
these<00:12:30.399><c> steps</c>

00:12:31.110 --> 00:12:31.120 align:start position:0%
these steps
 

00:12:31.120 --> 00:12:35.430 align:start position:0%
these steps
that<00:12:31.279><c> can</c><00:12:31.920><c> that</c><00:12:32.160><c> crash</c><00:12:32.480><c> can</c><00:12:32.720><c> leave</c>

00:12:35.430 --> 00:12:35.440 align:start position:0%
 
 

00:12:35.440 --> 00:12:38.310 align:start position:0%
 
may<00:12:35.680><c> leave</c><00:12:36.000><c> the</c><00:12:37.120><c> may</c><00:12:37.279><c> leave</c><00:12:37.440><c> the</c><00:12:37.600><c> file</c><00:12:37.920><c> system</c>

00:12:38.310 --> 00:12:38.320 align:start position:0%
may leave the may leave the file system
 

00:12:38.320 --> 00:12:41.030 align:start position:0%
may leave the may leave the file system
in<00:12:38.399><c> variance</c>

00:12:41.030 --> 00:12:41.040 align:start position:0%
 
 

00:12:41.040 --> 00:12:45.350 align:start position:0%
 
violated

00:12:45.350 --> 00:12:45.360 align:start position:0%
 
 

00:12:45.360 --> 00:12:48.389 align:start position:0%
 
and<00:12:46.399><c> the</c><00:12:46.639><c> viola</c><00:12:47.120><c> the</c><00:12:47.519><c> invariants</c><00:12:47.920><c> i'm</c><00:12:48.079><c> talking</c>

00:12:48.389 --> 00:12:48.399 align:start position:0%
and the viola the invariants i'm talking
 

00:12:48.399 --> 00:12:50.230 align:start position:0%
and the viola the invariants i'm talking
about<00:12:48.639><c> are</c><00:12:48.880><c> invariants</c><00:12:49.360><c> of</c><00:12:49.440><c> the</c><00:12:49.600><c> form</c>

00:12:50.230 --> 00:12:50.240 align:start position:0%
about are invariants of the form
 

00:12:50.240 --> 00:12:53.350 align:start position:0%
about are invariants of the form
you<00:12:50.399><c> know</c><00:12:50.839><c> every</c><00:12:51.519><c> uh</c><00:12:51.839><c> block</c><00:12:52.320><c> is</c><00:12:52.480><c> either</c><00:12:52.800><c> free</c>

00:12:53.350 --> 00:12:53.360 align:start position:0%
you know every uh block is either free
 

00:12:53.360 --> 00:12:56.310 align:start position:0%
you know every uh block is either free
or<00:12:53.600><c> allocated</c><00:12:54.079><c> to</c><00:12:54.240><c> one</c><00:12:54.480><c> file</c><00:12:55.440><c> and</c><00:12:55.760><c> not</c><00:12:55.920><c> to</c><00:12:56.079><c> two</c>

00:12:56.310 --> 00:12:56.320 align:start position:0%
or allocated to one file and not to two
 

00:12:56.320 --> 00:12:57.350 align:start position:0%
or allocated to one file and not to two
files

00:12:57.350 --> 00:12:57.360 align:start position:0%
files
 

00:12:57.360 --> 00:12:59.190 align:start position:0%
files
uh<00:12:57.760><c> and</c><00:12:58.000><c> you</c><00:12:58.160><c> know</c><00:12:58.320><c> we</c><00:12:58.480><c> might</c><00:12:58.800><c> want</c><00:12:58.959><c> to</c><00:12:59.040><c> make</c>

00:12:59.190 --> 00:12:59.200 align:start position:0%
uh and you know we might want to make
 

00:12:59.200 --> 00:13:01.190 align:start position:0%
uh and you know we might want to make
sure<00:12:59.519><c> that</c><00:12:59.680><c> this</c><00:12:59.920><c> happens</c><00:13:00.320><c> despite</c><00:13:00.880><c> you</c><00:13:01.040><c> know</c>

00:13:01.190 --> 00:13:01.200 align:start position:0%
sure that this happens despite you know
 

00:13:01.200 --> 00:13:01.670 align:start position:0%
sure that this happens despite you know
these

00:13:01.670 --> 00:13:01.680 align:start position:0%
these
 

00:13:01.680 --> 00:13:04.829 align:start position:0%
these
failures<00:13:02.240><c> uh</c><00:13:02.560><c> right</c><00:13:02.800><c> between</c><00:13:03.440><c> uh</c><00:13:03.680><c> these</c><00:13:04.079><c> uh</c>

00:13:04.829 --> 00:13:04.839 align:start position:0%
failures uh right between uh these uh
 

00:13:04.839 --> 00:13:06.790 align:start position:0%
failures uh right between uh these uh
operations

00:13:06.790 --> 00:13:06.800 align:start position:0%
operations
 

00:13:06.800 --> 00:13:09.829 align:start position:0%
operations
um<00:13:08.000><c> and</c><00:13:08.240><c> the</c><00:13:08.480><c> risk</c><00:13:08.800><c> is</c><00:13:09.120><c> if</c>

00:13:09.829 --> 00:13:09.839 align:start position:0%
um and the risk is if
 

00:13:09.839 --> 00:13:12.389 align:start position:0%
um and the risk is if
if<00:13:10.000><c> the</c><00:13:10.240><c> violence</c><00:13:10.959><c> if</c><00:13:11.360><c> if</c><00:13:11.519><c> these</c><00:13:11.920><c> invariants</c>

00:13:12.389 --> 00:13:12.399 align:start position:0%
if the violence if if these invariants
 

00:13:12.399 --> 00:13:13.829 align:start position:0%
if the violence if if these invariants
are<00:13:12.560><c> violated</c>

00:13:13.829 --> 00:13:13.839 align:start position:0%
are violated
 

00:13:13.839 --> 00:13:15.590 align:start position:0%
are violated
the<00:13:14.240><c> you</c><00:13:14.399><c> know</c><00:13:14.560><c> bad</c><00:13:14.720><c> things</c><00:13:14.959><c> can</c><00:13:15.120><c> happen</c><00:13:15.440><c> after</c>

00:13:15.590 --> 00:13:15.600 align:start position:0%
the you know bad things can happen after
 

00:13:15.600 --> 00:13:17.590 align:start position:0%
the you know bad things can happen after
reboot

00:13:17.590 --> 00:13:17.600 align:start position:0%
reboot
 

00:13:17.600 --> 00:13:20.230 align:start position:0%
reboot
uh<00:13:18.240><c> you</c><00:13:18.399><c> know</c><00:13:18.560><c> the</c><00:13:19.200><c> you</c><00:13:19.360><c> might</c><00:13:19.519><c> crash</c><00:13:19.920><c> again</c>

00:13:20.230 --> 00:13:20.240 align:start position:0%
uh you know the you might crash again
 

00:13:20.240 --> 00:13:21.829 align:start position:0%
uh you know the you might crash again
immediately

00:13:21.829 --> 00:13:21.839 align:start position:0%
immediately
 

00:13:21.839 --> 00:13:23.030 align:start position:0%
immediately
because<00:13:22.160><c> you</c><00:13:22.240><c> know</c><00:13:22.399><c> there's</c><00:13:22.480><c> some</c><00:13:22.720><c> data</c>

00:13:23.030 --> 00:13:23.040 align:start position:0%
because you know there's some data
 

00:13:23.040 --> 00:13:25.030 align:start position:0%
because you know there's some data
structure<00:13:23.360><c> the</c><00:13:23.519><c> file</c><00:13:23.680><c> system</c><00:13:24.240><c> now</c><00:13:24.480><c> now</c><00:13:24.720><c> in</c><00:13:24.800><c> the</c>

00:13:25.030 --> 00:13:25.040 align:start position:0%
structure the file system now now in the
 

00:13:25.040 --> 00:13:26.230 align:start position:0%
structure the file system now now in the
state<00:13:25.279><c> that</c><00:13:25.440><c> the</c><00:13:25.519><c> file</c><00:13:25.680><c> system</c><00:13:26.000><c> actually</c>

00:13:26.230 --> 00:13:26.240 align:start position:0%
state that the file system actually
 

00:13:26.240 --> 00:13:27.990 align:start position:0%
state that the file system actually
can't<00:13:26.399><c> really</c><00:13:26.639><c> deal</c><00:13:26.880><c> with</c><00:13:27.120><c> you</c><00:13:27.200><c> know</c><00:13:27.519><c> on</c><00:13:27.760><c> this</c>

00:13:27.990 --> 00:13:28.000 align:start position:0%
can't really deal with you know on this
 

00:13:28.000 --> 00:13:29.829 align:start position:0%
can't really deal with you know on this
data<00:13:28.320><c> structures</c><00:13:28.720><c> there's</c><00:13:28.880><c> in</c><00:13:28.959><c> such</c><00:13:29.200><c> a</c>

00:13:29.829 --> 00:13:29.839 align:start position:0%
data structures there's in such a
 

00:13:29.839 --> 00:13:31.509 align:start position:0%
data structures there's in such a
shape<00:13:30.160><c> that</c><00:13:30.320><c> the</c><00:13:30.480><c> file</c><00:13:30.639><c> system</c><00:13:30.959><c> really</c><00:13:31.279><c> can't</c>

00:13:31.509 --> 00:13:31.519 align:start position:0%
shape that the file system really can't
 

00:13:31.519 --> 00:13:33.350 align:start position:0%
shape that the file system really can't
uh<00:13:31.760><c> process</c><00:13:32.160><c> them</c><00:13:32.399><c> anymore</c>

00:13:33.350 --> 00:13:33.360 align:start position:0%
uh process them anymore
 

00:13:33.360 --> 00:13:36.790 align:start position:0%
uh process them anymore
or<00:13:34.399><c> more</c><00:13:34.639><c> likely</c><00:13:35.120><c> you</c><00:13:35.279><c> not</c><00:13:35.519><c> crash</c>

00:13:36.790 --> 00:13:36.800 align:start position:0%
or more likely you not crash
 

00:13:36.800 --> 00:13:41.269 align:start position:0%
or more likely you not crash
no<00:13:37.040><c> crash</c><00:13:38.079><c> but</c><00:13:38.880><c> you</c><00:13:39.040><c> know</c><00:13:39.199><c> data</c><00:13:39.519><c> may</c><00:13:39.680><c> get</c><00:13:39.920><c> lost</c>

00:13:41.269 --> 00:13:41.279 align:start position:0%
no crash but you know data may get lost
 

00:13:41.279 --> 00:13:52.710 align:start position:0%
no crash but you know data may get lost
or<00:13:41.519><c> you</c><00:13:41.680><c> read</c><00:13:41.920><c> or</c><00:13:42.000><c> write</c><00:13:42.959><c> incorrect</c><00:13:46.839><c> data</c>

00:13:52.710 --> 00:13:52.720 align:start position:0%
 
 

00:13:52.720 --> 00:13:54.470 align:start position:0%
 
uh<00:13:52.959><c> and</c><00:13:53.199><c> we'll</c><00:13:53.360><c> see</c><00:13:53.600><c> a</c><00:13:53.680><c> couple</c><00:13:53.839><c> of</c><00:13:53.920><c> examples</c>

00:13:54.470 --> 00:13:54.480 align:start position:0%
uh and we'll see a couple of examples
 

00:13:54.480 --> 00:13:56.069 align:start position:0%
uh and we'll see a couple of examples
you<00:13:54.560><c> know</c><00:13:54.720><c> to</c><00:13:55.040><c> make</c><00:13:55.199><c> that</c><00:13:55.360><c> more</c><00:13:55.519><c> clear</c>

00:13:56.069 --> 00:13:56.079 align:start position:0%
you know to make that more clear
 

00:13:56.079 --> 00:13:58.470 align:start position:0%
you know to make that more clear
uh<00:13:56.320><c> but</c><00:13:56.480><c> so</c><00:13:56.639><c> basically</c><00:13:57.440><c> the</c><00:13:57.600><c> risks</c><00:13:58.000><c> that</c><00:13:58.240><c> we're</c>

00:13:58.470 --> 00:13:58.480 align:start position:0%
uh but so basically the risks that we're
 

00:13:58.480 --> 00:14:01.990 align:start position:0%
uh but so basically the risks that we're
worried<00:14:00.839><c> about</c>

00:14:01.990 --> 00:14:02.000 align:start position:0%
worried about
 

00:14:02.000 --> 00:14:03.509 align:start position:0%
worried about
don't<00:14:02.079><c> know</c><00:14:02.240><c> if</c><00:14:02.399><c> anybody</c><00:14:02.800><c> actually</c><00:14:03.199><c> ever</c><00:14:03.440><c> in</c>

00:14:03.509 --> 00:14:03.519 align:start position:0%
don't know if anybody actually ever in
 

00:14:03.519 --> 00:14:05.750 align:start position:0%
don't know if anybody actually ever in
personal<00:14:03.920><c> life</c><00:14:04.399><c> or</c><00:14:04.639><c> like</c><00:14:04.880><c> when</c><00:14:05.120><c> in</c><00:14:05.279><c> your</c>

00:14:05.750 --> 00:14:05.760 align:start position:0%
personal life or like when in your
 

00:14:05.760 --> 00:14:07.750 align:start position:0%
personal life or like when in your
daily<00:14:06.160><c> life</c><00:14:06.560><c> uh</c><00:14:06.800><c> using</c><00:14:07.040><c> computers</c><00:14:07.519><c> actually</c>

00:14:07.750 --> 00:14:07.760 align:start position:0%
daily life uh using computers actually
 

00:14:07.760 --> 00:14:09.110 align:start position:0%
daily life uh using computers actually
has<00:14:07.920><c> experienced</c><00:14:08.320><c> this</c><00:14:08.480><c> problem</c><00:14:08.880><c> where</c>

00:14:09.110 --> 00:14:09.120 align:start position:0%
has experienced this problem where
 

00:14:09.120 --> 00:14:09.990 align:start position:0%
has experienced this problem where
basically

00:14:09.990 --> 00:14:10.000 align:start position:0%
basically
 

00:14:10.000 --> 00:14:13.269 align:start position:0%
basically
uh<00:14:10.639><c> you</c><00:14:10.880><c> had</c><00:14:11.120><c> a</c><00:14:11.440><c> failure</c><00:14:12.399><c> in</c><00:14:12.560><c> the</c><00:14:12.720><c> file</c><00:14:12.959><c> system</c>

00:14:13.269 --> 00:14:13.279 align:start position:0%
uh you had a failure in the file system
 

00:14:13.279 --> 00:14:13.670 align:start position:0%
uh you had a failure in the file system
or

00:14:13.670 --> 00:14:13.680 align:start position:0%
or
 

00:14:13.680 --> 00:14:14.870 align:start position:0%
or
you<00:14:13.839><c> had</c><00:14:13.920><c> a</c><00:14:14.000><c> failure</c><00:14:14.320><c> you</c><00:14:14.399><c> had</c><00:14:14.480><c> a</c><00:14:14.560><c> power</c>

00:14:14.870 --> 00:14:14.880 align:start position:0%
you had a failure you had a power
 

00:14:14.880 --> 00:14:16.470 align:start position:0%
you had a failure you had a power
failure<00:14:15.360><c> you</c><00:14:15.440><c> know</c><00:14:15.600><c> your</c><00:14:15.680><c> machine</c><00:14:16.000><c> rebooted</c>

00:14:16.470 --> 00:14:16.480 align:start position:0%
failure you know your machine rebooted
 

00:14:16.480 --> 00:14:17.189 align:start position:0%
failure you know your machine rebooted
or<00:14:16.639><c> your</c><00:14:16.800><c> phone</c>

00:14:17.189 --> 00:14:17.199 align:start position:0%
or your phone
 

00:14:17.199 --> 00:14:20.629 align:start position:0%
or your phone
restart<00:14:17.680><c> it</c><00:14:18.399><c> and</c><00:14:19.279><c> uh</c><00:14:19.839><c> that</c><00:14:20.079><c> basically</c><00:14:20.399><c> was</c>

00:14:20.629 --> 00:14:20.639 align:start position:0%
restart it and uh that basically was
 

00:14:20.639 --> 00:14:21.910 align:start position:0%
restart it and uh that basically was
unusable<00:14:21.279><c> afterwards</c>

00:14:21.910 --> 00:14:21.920 align:start position:0%
unusable afterwards
 

00:14:21.920 --> 00:14:24.870 align:start position:0%
unusable afterwards
and<00:14:22.560><c> uh</c><00:14:23.680><c> the</c><00:14:24.000><c> one</c><00:14:24.160><c> reason</c><00:14:24.399><c> that</c><00:14:24.560><c> might</c><00:14:24.720><c> be</c>

00:14:24.870 --> 00:14:24.880 align:start position:0%
and uh the one reason that might be
 

00:14:24.880 --> 00:14:26.069 align:start position:0%
and uh the one reason that might be
unusual<00:14:25.360><c> because</c>

00:14:26.069 --> 00:14:26.079 align:start position:0%
unusual because
 

00:14:26.079 --> 00:14:28.829 align:start position:0%
unusual because
the<00:14:26.160><c> file</c><00:14:26.399><c> system</c><00:14:26.639><c> just</c><00:14:26.800><c> didn't</c><00:14:27.040><c> recover</c>

00:14:28.829 --> 00:14:28.839 align:start position:0%
the file system just didn't recover
 

00:14:28.839 --> 00:14:37.350 align:start position:0%
the file system just didn't recover
correctly

00:14:37.350 --> 00:14:37.360 align:start position:0%
 
 

00:14:37.360 --> 00:14:39.829 align:start position:0%
 
okay<00:14:37.680><c> so</c><00:14:38.000><c> to</c><00:14:38.160><c> make</c><00:14:38.320><c> it</c><00:14:38.560><c> more</c><00:14:38.800><c> clear</c><00:14:39.120><c> let's</c><00:14:39.440><c> just</c>

00:14:39.829 --> 00:14:39.839 align:start position:0%
okay so to make it more clear let's just
 

00:14:39.839 --> 00:14:41.189 align:start position:0%
okay so to make it more clear let's just
let's<00:14:40.000><c> look</c><00:14:40.160><c> at</c><00:14:40.240><c> an</c><00:14:40.399><c> example</c>

00:14:41.189 --> 00:14:41.199 align:start position:0%
let's look at an example
 

00:14:41.199 --> 00:14:43.910 align:start position:0%
let's look at an example
in<00:14:41.360><c> the</c><00:14:41.440><c> context</c><00:14:41.839><c> of</c><00:14:42.000><c> actually</c><00:14:43.279><c> like</c><00:14:43.680><c> to</c><00:14:43.760><c> make</c>

00:14:43.910 --> 00:14:43.920 align:start position:0%
in the context of actually like to make
 

00:14:43.920 --> 00:14:44.230 align:start position:0%
in the context of actually like to make
this

00:14:44.230 --> 00:14:44.240 align:start position:0%
this
 

00:14:44.240 --> 00:14:45.910 align:start position:0%
this
risk<00:14:44.560><c> a</c><00:14:44.639><c> little</c><00:14:44.800><c> bit</c><00:14:44.880><c> more</c><00:14:45.040><c> concrete</c><00:14:45.680><c> let's</c>

00:14:45.910 --> 00:14:45.920 align:start position:0%
risk a little bit more concrete let's
 

00:14:45.920 --> 00:14:48.710 align:start position:0%
risk a little bit more concrete let's
look<00:14:46.079><c> at</c><00:14:46.160><c> an</c><00:14:46.320><c> example</c><00:14:46.959><c> in</c><00:14:47.040><c> the</c><00:14:47.199><c> context</c><00:14:47.519><c> of</c><00:14:47.760><c> xv6</c>

00:14:48.710 --> 00:14:48.720 align:start position:0%
look at an example in the context of xv6
 

00:14:48.720 --> 00:14:52.069 align:start position:0%
look at an example in the context of xv6
and<00:14:48.959><c> to</c><00:14:49.120><c> see</c><00:14:49.279><c> what</c><00:14:49.440><c> actually</c><00:14:50.320><c> could</c><00:14:50.480><c> go</c><00:14:50.639><c> wrong</c>

00:14:52.069 --> 00:14:52.079 align:start position:0%
and to see what actually could go wrong
 

00:14:52.079 --> 00:14:56.629 align:start position:0%
and to see what actually could go wrong
so<00:14:52.639><c> remember</c><00:14:53.519><c> the</c><00:14:54.480><c> uh</c><00:14:54.880><c> for</c><00:14:55.040><c> monday</c><00:14:55.440><c> that</c><00:14:55.680><c> the</c>

00:14:56.629 --> 00:14:56.639 align:start position:0%
so remember the uh for monday that the
 

00:14:56.639 --> 00:14:58.629 align:start position:0%
so remember the uh for monday that the
xv6<00:14:57.120><c> file</c><00:14:57.360><c> system</c><00:14:57.600><c> very</c><00:14:57.839><c> simple</c><00:14:58.079><c> file</c><00:14:58.320><c> system</c>

00:14:58.629 --> 00:14:58.639 align:start position:0%
xv6 file system very simple file system
 

00:14:58.639 --> 00:15:00.470 align:start position:0%
xv6 file system very simple file system
it<00:14:58.720><c> has</c><00:14:58.880><c> a</c><00:14:58.959><c> simple</c><00:14:59.279><c> disk</c><00:14:59.519><c> layout</c>

00:15:00.470 --> 00:15:00.480 align:start position:0%
it has a simple disk layout
 

00:15:00.480 --> 00:15:03.509 align:start position:0%
it has a simple disk layout
uh<00:15:00.880><c> you</c><00:15:01.040><c> know</c><00:15:01.279><c> the</c><00:15:01.360><c> super</c><00:15:01.680><c> block</c><00:15:02.639><c> uh</c>

00:15:03.509 --> 00:15:03.519 align:start position:0%
uh you know the super block uh
 

00:15:03.519 --> 00:15:05.030 align:start position:0%
uh you know the super block uh
there's<00:15:03.760><c> the</c><00:15:03.839><c> super</c><00:15:04.079><c> block</c><00:15:04.320><c> there's</c><00:15:04.560><c> the</c><00:15:04.720><c> log</c>

00:15:05.030 --> 00:15:05.040 align:start position:0%
there's the super block there's the log
 

00:15:05.040 --> 00:15:06.150 align:start position:0%
there's the super block there's the log
that<00:15:05.120><c> we're</c><00:15:05.279><c> going</c><00:15:05.360><c> to</c><00:15:05.440><c> be</c><00:15:05.600><c> talking</c><00:15:05.839><c> about</c><00:15:06.079><c> a</c>

00:15:06.150 --> 00:15:06.160 align:start position:0%
that we're going to be talking about a
 

00:15:06.160 --> 00:15:07.509 align:start position:0%
that we're going to be talking about a
lot<00:15:06.320><c> today</c><00:15:06.639><c> that</c><00:15:06.800><c> we</c><00:15:06.959><c> didn't</c><00:15:07.120><c> talk</c><00:15:07.279><c> about</c><00:15:07.440><c> on</c>

00:15:07.509 --> 00:15:07.519 align:start position:0%
lot today that we didn't talk about on
 

00:15:07.519 --> 00:15:08.150 align:start position:0%
lot today that we didn't talk about on
monday

00:15:08.150 --> 00:15:08.160 align:start position:0%
monday
 

00:15:08.160 --> 00:15:09.590 align:start position:0%
monday
there<00:15:08.320><c> are</c><00:15:08.399><c> inodes</c><00:15:08.959><c> you</c><00:15:09.040><c> know</c><00:15:09.199><c> it's</c><00:15:09.279><c> a</c><00:15:09.360><c> set</c><00:15:09.519><c> of</c>

00:15:09.590 --> 00:15:09.600 align:start position:0%
there are inodes you know it's a set of
 

00:15:09.600 --> 00:15:11.590 align:start position:0%
there are inodes you know it's a set of
blocks<00:15:10.000><c> that</c><00:15:10.160><c> actually</c><00:15:10.399><c> contain</c><00:15:11.120><c> each</c><00:15:11.440><c> and</c>

00:15:11.590 --> 00:15:11.600 align:start position:0%
blocks that actually contain each and
 

00:15:11.600 --> 00:15:13.590 align:start position:0%
blocks that actually contain each and
each<00:15:11.839><c> block</c><00:15:12.079><c> may</c><00:15:12.240><c> contain</c><00:15:12.560><c> multiple</c><00:15:12.880><c> inodes</c>

00:15:13.590 --> 00:15:13.600 align:start position:0%
each block may contain multiple inodes
 

00:15:13.600 --> 00:15:15.189 align:start position:0%
each block may contain multiple inodes
there's<00:15:13.839><c> a</c><00:15:13.920><c> bitmap</c><00:15:14.320><c> block</c><00:15:14.639><c> you</c><00:15:14.720><c> know</c><00:15:14.880><c> to</c>

00:15:15.189 --> 00:15:15.199 align:start position:0%
there's a bitmap block you know to
 

00:15:15.199 --> 00:15:16.629 align:start position:0%
there's a bitmap block you know to
record<00:15:15.600><c> which</c><00:15:15.839><c> blocks</c><00:15:16.160><c> are</c><00:15:16.240><c> free</c>

00:15:16.629 --> 00:15:16.639 align:start position:0%
record which blocks are free
 

00:15:16.639 --> 00:15:18.870 align:start position:0%
record which blocks are free
and<00:15:16.880><c> which</c><00:15:17.120><c> are</c><00:15:17.279><c> not</c><00:15:17.519><c> free</c><00:15:18.079><c> and</c><00:15:18.160><c> then</c><00:15:18.320><c> the</c><00:15:18.560><c> data</c>

00:15:18.870 --> 00:15:18.880 align:start position:0%
and which are not free and then the data
 

00:15:18.880 --> 00:15:20.310 align:start position:0%
and which are not free and then the data
blocks<00:15:19.120><c> that</c><00:15:19.279><c> actually</c>

00:15:20.310 --> 00:15:20.320 align:start position:0%
blocks that actually
 

00:15:20.320 --> 00:15:21.829 align:start position:0%
blocks that actually
you<00:15:20.480><c> know</c><00:15:20.560><c> contain</c><00:15:21.040><c> the</c><00:15:21.199><c> actual</c><00:15:21.440><c> data</c><00:15:21.680><c> of</c><00:15:21.760><c> the</c>

00:15:21.829 --> 00:15:21.839 align:start position:0%
you know contain the actual data of the
 

00:15:21.839 --> 00:15:23.750 align:start position:0%
you know contain the actual data of the
file<00:15:22.079><c> system</c>

00:15:23.750 --> 00:15:23.760 align:start position:0%
file system
 

00:15:23.760 --> 00:15:26.310 align:start position:0%
file system
and<00:15:24.240><c> remember</c><00:15:24.639><c> from</c><00:15:25.279><c> monday's</c><00:15:25.600><c> lecture</c><00:15:26.000><c> i</c>

00:15:26.310 --> 00:15:26.320 align:start position:0%
and remember from monday's lecture i
 

00:15:26.320 --> 00:15:27.990 align:start position:0%
and remember from monday's lecture i
reproduced<00:15:26.880><c> the</c><00:15:26.959><c> trace</c><00:15:27.279><c> here</c><00:15:27.600><c> you</c><00:15:27.680><c> know</c><00:15:27.839><c> we</c>

00:15:27.990 --> 00:15:28.000 align:start position:0%
reproduced the trace here you know we
 

00:15:28.000 --> 00:15:28.470 align:start position:0%
reproduced the trace here you know we
looked<00:15:28.240><c> at</c>

00:15:28.470 --> 00:15:28.480 align:start position:0%
looked at
 

00:15:28.480 --> 00:15:31.590 align:start position:0%
looked at
actually<00:15:29.360><c> how</c><00:15:29.519><c> a</c><00:15:29.680><c> file</c><00:15:29.920><c> is</c><00:15:30.000><c> created</c><00:15:31.040><c> and</c><00:15:31.440><c> you</c>

00:15:31.590 --> 00:15:31.600 align:start position:0%
actually how a file is created and you
 

00:15:31.600 --> 00:15:32.470 align:start position:0%
actually how a file is created and you
know<00:15:31.839><c> we</c>

00:15:32.470 --> 00:15:32.480 align:start position:0%
know we
 

00:15:32.480 --> 00:15:35.350 align:start position:0%
know we
see<00:15:32.720><c> that</c><00:15:32.959><c> the</c><00:15:33.120><c> creation</c><00:15:33.519><c> of</c><00:15:33.600><c> a</c><00:15:33.680><c> single</c><00:15:34.079><c> file</c>

00:15:35.350 --> 00:15:35.360 align:start position:0%
see that the creation of a single file
 

00:15:35.360 --> 00:15:36.389 align:start position:0%
see that the creation of a single file
uh

00:15:36.389 --> 00:15:36.399 align:start position:0%
uh
 

00:15:36.399 --> 00:15:41.430 align:start position:0%
uh
second<00:15:39.120><c> uh</c>

00:15:41.430 --> 00:15:41.440 align:start position:0%
second uh
 

00:15:41.440 --> 00:15:44.230 align:start position:0%
second uh
uh<00:15:41.600><c> the</c><00:15:42.639><c> the</c><00:15:42.800><c> creation</c><00:15:43.040><c> of</c><00:15:43.120><c> a</c><00:15:43.199><c> single</c><00:15:43.519><c> file</c><00:15:43.920><c> uh</c>

00:15:44.230 --> 00:15:44.240 align:start position:0%
uh the the creation of a single file uh
 

00:15:44.240 --> 00:15:45.509 align:start position:0%
uh the the creation of a single file uh
consists<00:15:44.639><c> of</c><00:15:44.880><c> multiple</c>

00:15:45.509 --> 00:15:45.519 align:start position:0%
consists of multiple
 

00:15:45.519 --> 00:15:47.430 align:start position:0%
consists of multiple
operations<00:15:46.160><c> so</c><00:15:46.320><c> for</c><00:15:46.480><c> example</c><00:15:46.959><c> like</c><00:15:47.199><c> in</c><00:15:47.279><c> this</c>

00:15:47.430 --> 00:15:47.440 align:start position:0%
operations so for example like in this
 

00:15:47.440 --> 00:15:50.629 align:start position:0%
operations so for example like in this
particular<00:15:48.000><c> scenario</c><00:15:48.399><c> that</c><00:15:48.560><c> i</c><00:15:48.720><c> have</c><00:15:48.800><c> here</c><00:15:49.120><c> on</c>

00:15:50.629 --> 00:15:50.639 align:start position:0%
particular scenario that i have here on
 

00:15:50.639 --> 00:15:54.230 align:start position:0%
particular scenario that i have here on
on<00:15:50.720><c> the</c><00:15:50.880><c> slide</c><00:15:51.680><c> uh</c><00:15:52.480><c> we</c><00:15:52.639><c> see</c><00:15:52.880><c> that</c><00:15:53.360><c> uh</c>

00:15:54.230 --> 00:15:54.240 align:start position:0%
on the slide uh we see that uh
 

00:15:54.240 --> 00:15:57.670 align:start position:0%
on the slide uh we see that uh
uh<00:15:55.759><c> you</c><00:15:55.920><c> know</c><00:15:56.000><c> an</c><00:15:56.160><c> internet</c><00:15:56.800><c> is</c><00:15:56.880><c> allocated</c>

00:15:57.670 --> 00:15:57.680 align:start position:0%
uh you know an internet is allocated
 

00:15:57.680 --> 00:15:59.509 align:start position:0%
uh you know an internet is allocated
uh<00:15:58.240><c> and</c><00:15:58.560><c> you</c><00:15:58.720><c> know</c><00:15:58.880><c> we</c><00:15:58.959><c> know</c><00:15:59.120><c> this</c><00:15:59.360><c> because</c>

00:15:59.509 --> 00:15:59.519 align:start position:0%
uh and you know we know this because
 

00:15:59.519 --> 00:16:01.509 align:start position:0%
uh and you know we know this because
this<00:15:59.759><c> block</c><00:16:00.000><c> 33</c><00:16:00.480><c> is</c><00:16:00.560><c> being</c><00:16:00.800><c> written</c>

00:16:01.509 --> 00:16:01.519 align:start position:0%
this block 33 is being written
 

00:16:01.519 --> 00:16:04.710 align:start position:0%
this block 33 is being written
um<00:16:02.560><c> and</c><00:16:02.639><c> do</c><00:16:02.800><c> we</c><00:16:03.120><c> see</c><00:16:03.279><c> that</c><00:16:03.440><c> the</c><00:16:03.519><c> audio</c><00:16:03.920><c> is</c><00:16:04.079><c> being</c>

00:16:04.710 --> 00:16:04.720 align:start position:0%
um and do we see that the audio is being
 

00:16:04.720 --> 00:16:06.150 align:start position:0%
um and do we see that the audio is being
initialized<00:16:05.199><c> and</c><00:16:05.279><c> then</c><00:16:05.440><c> written</c><00:16:05.759><c> again</c><00:16:06.000><c> to</c>

00:16:06.150 --> 00:16:06.160 align:start position:0%
initialized and then written again to
 

00:16:06.160 --> 00:16:09.350 align:start position:0%
initialized and then written again to
block<00:16:06.399><c> 33</c><00:16:07.279><c> then</c><00:16:07.440><c> we</c><00:16:07.600><c> see</c><00:16:07.759><c> the</c><00:16:07.920><c> block</c><00:16:08.160><c> 46</c>

00:16:09.350 --> 00:16:09.360 align:start position:0%
block 33 then we see the block 46
 

00:16:09.360 --> 00:16:11.509 align:start position:0%
block 33 then we see the block 46
is<00:16:09.519><c> written</c><00:16:10.000><c> and</c><00:16:10.160><c> that</c><00:16:10.720><c> reason</c><00:16:11.040><c> is</c><00:16:11.120><c> written</c><00:16:11.440><c> is</c>

00:16:11.509 --> 00:16:11.519 align:start position:0%
is written and that reason is written is
 

00:16:11.519 --> 00:16:13.430 align:start position:0%
is written and that reason is written is
predominantly<00:16:12.079><c> because</c><00:16:12.399><c> you</c><00:16:12.560><c> know</c><00:16:12.720><c> the</c>

00:16:13.430 --> 00:16:13.440 align:start position:0%
predominantly because you know the
 

00:16:13.440 --> 00:16:16.069 align:start position:0%
predominantly because you know the
directory<00:16:14.000><c> block</c><00:16:14.399><c> that</c><00:16:14.639><c> actually</c><00:16:14.880><c> contains</c><00:16:15.440><c> x</c>

00:16:16.069 --> 00:16:16.079 align:start position:0%
directory block that actually contains x
 

00:16:16.079 --> 00:16:16.470 align:start position:0%
directory block that actually contains x
and

00:16:16.470 --> 00:16:16.480 align:start position:0%
and
 

00:16:16.480 --> 00:16:18.310 align:start position:0%
and
the<00:16:16.639><c> i</c><00:16:16.800><c> know</c><00:16:16.959><c> number</c><00:16:17.199><c> for</c><00:16:17.440><c> x</c><00:16:17.680><c> is</c><00:16:17.920><c> written</c><00:16:18.160><c> to</c>

00:16:18.310 --> 00:16:18.320 align:start position:0%
the i know number for x is written to
 

00:16:18.320 --> 00:16:20.230 align:start position:0%
the i know number for x is written to
the<00:16:18.399><c> disk</c><00:16:19.199><c> then</c><00:16:19.360><c> the</c><00:16:19.600><c> inode</c>

00:16:20.230 --> 00:16:20.240 align:start position:0%
the disk then the inode
 

00:16:20.240 --> 00:16:22.550 align:start position:0%
the disk then the inode
root<00:16:20.480><c> i</c><00:16:20.560><c> node</c><00:16:20.800><c> is</c><00:16:20.959><c> updated</c><00:16:21.600><c> to</c><00:16:21.839><c> reflect</c><00:16:22.399><c> that</c>

00:16:22.550 --> 00:16:22.560 align:start position:0%
root i node is updated to reflect that
 

00:16:22.560 --> 00:16:25.110 align:start position:0%
root i node is updated to reflect that
the<00:16:22.959><c> directory</c><00:16:23.440><c> has</c><00:16:23.600><c> grown</c><00:16:23.920><c> in</c><00:16:24.160><c> size</c>

00:16:25.110 --> 00:16:25.120 align:start position:0%
the directory has grown in size
 

00:16:25.120 --> 00:16:28.710 align:start position:0%
the directory has grown in size
to<00:16:25.279><c> contain</c><00:16:25.680><c> this</c><00:16:25.839><c> particular</c><00:16:26.800><c> uh</c><00:16:27.839><c> file</c><00:16:28.240><c> x</c>

00:16:28.710 --> 00:16:28.720 align:start position:0%
to contain this particular uh file x
 

00:16:28.720 --> 00:16:31.509 align:start position:0%
to contain this particular uh file x
and<00:16:28.880><c> then</c><00:16:29.120><c> you</c><00:16:29.199><c> know</c><00:16:29.360><c> the</c><00:16:29.759><c> inode</c><00:16:30.160><c> is</c><00:16:30.320><c> updated</c>

00:16:31.509 --> 00:16:31.519 align:start position:0%
and then you know the inode is updated
 

00:16:31.519 --> 00:16:32.550 align:start position:0%
and then you know the inode is updated
and<00:16:31.600><c> so</c>

00:16:32.550 --> 00:16:32.560 align:start position:0%
and so
 

00:16:32.560 --> 00:16:35.030 align:start position:0%
and so
uh<00:16:33.759><c> what</c><00:16:34.000><c> we</c><00:16:34.079><c> want</c><00:16:34.240><c> to</c><00:16:34.320><c> now</c><00:16:34.560><c> understand</c><00:16:34.959><c> is</c>

00:16:35.030 --> 00:16:35.040 align:start position:0%
uh what we want to now understand is
 

00:16:35.040 --> 00:16:36.550 align:start position:0%
uh what we want to now understand is
like<00:16:35.199><c> what</c><00:16:35.440><c> happens</c><00:16:35.920><c> like</c><00:16:36.079><c> what</c><00:16:36.320><c> could</c>

00:16:36.550 --> 00:16:36.560 align:start position:0%
like what happens like what could
 

00:16:36.560 --> 00:16:37.829 align:start position:0%
like what happens like what could
possibly<00:16:37.040><c> go</c><00:16:37.279><c> wrong</c>

00:16:37.829 --> 00:16:37.839 align:start position:0%
possibly go wrong
 

00:16:37.839 --> 00:16:41.749 align:start position:0%
possibly go wrong
right<00:16:38.240><c> and</c><00:16:39.279><c> so</c><00:16:39.519><c> let's</c><00:16:39.759><c> say</c><00:16:40.560><c> you</c><00:16:40.639><c> know</c><00:16:40.959><c> we</c>

00:16:41.749 --> 00:16:41.759 align:start position:0%
right and so let's say you know we
 

00:16:41.759 --> 00:16:45.030 align:start position:0%
right and so let's say you know we
uh<00:16:42.320><c> have</c><00:16:42.560><c> a</c><00:16:42.880><c> power</c><00:16:43.199><c> failure</c><00:16:44.000><c> like</c><00:16:44.240><c> right</c><00:16:44.480><c> here</c>

00:16:45.030 --> 00:16:45.040 align:start position:0%
uh have a power failure like right here
 

00:16:45.040 --> 00:16:48.829 align:start position:0%
uh have a power failure like right here
so<00:16:45.279><c> here</c><00:16:45.600><c> is</c><00:16:45.759><c> a</c><00:16:47.040><c> power</c><00:16:47.360><c> failure</c><00:16:47.759><c> or</c><00:16:48.000><c> kernel</c>

00:16:48.829 --> 00:16:48.839 align:start position:0%
so here is a power failure or kernel
 

00:16:48.839 --> 00:16:50.550 align:start position:0%
so here is a power failure or kernel
crash

00:16:50.550 --> 00:16:50.560 align:start position:0%
crash
 

00:16:50.560 --> 00:16:53.269 align:start position:0%
crash
and<00:16:52.079><c> so</c><00:16:52.240><c> what</c><00:16:52.399><c> happens</c><00:16:52.720><c> after</c><00:16:52.959><c> the</c><00:16:53.040><c> power</c>

00:16:53.269 --> 00:16:53.279 align:start position:0%
and so what happens after the power
 

00:16:53.279 --> 00:16:55.430 align:start position:0%
and so what happens after the power
failure<00:16:53.600><c> correct</c><00:16:53.839><c> all</c><00:16:54.000><c> the</c><00:16:54.160><c> in-memory</c><00:16:54.800><c> state</c>

00:16:55.430 --> 00:16:55.440 align:start position:0%
failure correct all the in-memory state
 

00:16:55.440 --> 00:16:58.150 align:start position:0%
failure correct all the in-memory state
is<00:16:55.680><c> lost</c><00:16:56.240><c> right</c><00:16:56.480><c> because</c><00:16:57.279><c> that</c><00:16:57.680><c> in-memory</c>

00:16:58.150 --> 00:16:58.160 align:start position:0%
is lost right because that in-memory
 

00:16:58.160 --> 00:16:58.629 align:start position:0%
is lost right because that in-memory
state<00:16:58.399><c> or</c>

00:16:58.629 --> 00:16:58.639 align:start position:0%
state or
 

00:16:58.639 --> 00:17:00.790 align:start position:0%
state or
the<00:16:58.800><c> data</c><00:16:59.120><c> that's</c><00:16:59.360><c> actually</c><00:16:59.600><c> in</c><00:16:59.759><c> ram</c><00:17:00.240><c> like</c><00:17:00.639><c> all</c>

00:17:00.790 --> 00:17:00.800 align:start position:0%
the data that's actually in ram like all
 

00:17:00.800 --> 00:17:01.749 align:start position:0%
the data that's actually in ram like all
the<00:17:00.959><c> processes</c>

00:17:01.749 --> 00:17:01.759 align:start position:0%
the processes
 

00:17:01.759 --> 00:17:04.630 align:start position:0%
the processes
all<00:17:01.920><c> the</c><00:17:02.160><c> file</c><00:17:02.839><c> descriptors</c><00:17:04.240><c> all</c><00:17:04.400><c> the</c>

00:17:04.630 --> 00:17:04.640 align:start position:0%
all the file descriptors all the
 

00:17:04.640 --> 00:17:05.750 align:start position:0%
all the file descriptors all the
in-memory

00:17:05.750 --> 00:17:05.760 align:start position:0%
in-memory
 

00:17:05.760 --> 00:17:08.470 align:start position:0%
in-memory
caches<00:17:06.240><c> are</c><00:17:06.400><c> gone</c><00:17:07.439><c> because</c><00:17:07.760><c> you</c><00:17:07.919><c> know</c><00:17:08.079><c> memory</c>

00:17:08.470 --> 00:17:08.480 align:start position:0%
caches are gone because you know memory
 

00:17:08.480 --> 00:17:09.510 align:start position:0%
caches are gone because you know memory
is<00:17:08.559><c> not</c><00:17:08.720><c> persistent</c>

00:17:09.510 --> 00:17:09.520 align:start position:0%
is not persistent
 

00:17:09.520 --> 00:17:11.189 align:start position:0%
is not persistent
and<00:17:09.600><c> the</c><00:17:09.760><c> only</c><00:17:10.000><c> thing</c><00:17:10.160><c> that</c><00:17:10.319><c> we</c><00:17:10.480><c> have</c><00:17:10.640><c> left</c>

00:17:11.189 --> 00:17:11.199 align:start position:0%
and the only thing that we have left
 

00:17:11.199 --> 00:17:13.590 align:start position:0%
and the only thing that we have left
right<00:17:11.439><c> is</c><00:17:11.600><c> what</c><00:17:11.839><c> actually</c><00:17:12.079><c> is</c><00:17:12.240><c> on</c><00:17:12.480><c> the</c><00:17:12.559><c> disk</c>

00:17:13.590 --> 00:17:13.600 align:start position:0%
right is what actually is on the disk
 

00:17:13.600 --> 00:17:17.189 align:start position:0%
right is what actually is on the disk
so<00:17:13.919><c> only</c><00:17:15.120><c> the</c><00:17:15.520><c> data</c><00:17:15.839><c> structures</c><00:17:16.400><c> and</c>

00:17:17.189 --> 00:17:17.199 align:start position:0%
so only the data structures and
 

00:17:17.199 --> 00:17:18.309 align:start position:0%
so only the data structures and
the<00:17:17.280><c> bits</c><00:17:17.600><c> and</c><00:17:17.679><c> bytes</c><00:17:18.000><c> that</c><00:17:18.079><c> are</c><00:17:18.160><c> actually</c>

00:17:18.309 --> 00:17:18.319 align:start position:0%
the bits and bytes that are actually
 

00:17:18.319 --> 00:17:20.630 align:start position:0%
the bits and bytes that are actually
sitting<00:17:18.640><c> on</c><00:17:18.720><c> the</c><00:17:18.799><c> disk</c><00:17:19.120><c> are</c><00:17:19.360><c> uh</c>

00:17:20.630 --> 00:17:20.640 align:start position:0%
sitting on the disk are uh
 

00:17:20.640 --> 00:17:23.110 align:start position:0%
sitting on the disk are uh
survive<00:17:21.120><c> the</c><00:17:21.280><c> power</c><00:17:21.600><c> failure</c><00:17:22.480><c> because</c><00:17:22.880><c> that</c>

00:17:23.110 --> 00:17:23.120 align:start position:0%
survive the power failure because that
 

00:17:23.120 --> 00:17:25.829 align:start position:0%
survive the power failure because that
actually<00:17:23.439><c> medium</c><00:17:24.000><c> is</c><00:17:24.240><c> you</c><00:17:24.319><c> know</c><00:17:24.480><c> persistence</c>

00:17:25.829 --> 00:17:25.839 align:start position:0%
actually medium is you know persistence
 

00:17:25.839 --> 00:17:28.789 align:start position:0%
actually medium is you know persistence
or<00:17:26.079><c> has</c><00:17:26.400><c> durability</c><00:17:27.919><c> and</c><00:17:28.079><c> so</c><00:17:28.240><c> we</c><00:17:28.319><c> want</c><00:17:28.480><c> to</c><00:17:28.559><c> know</c>

00:17:28.789 --> 00:17:28.799 align:start position:0%
or has durability and so we want to know
 

00:17:28.799 --> 00:17:30.310 align:start position:0%
or has durability and so we want to know
like<00:17:28.960><c> we</c><00:17:29.039><c> understand</c>

00:17:30.310 --> 00:17:30.320 align:start position:0%
like we understand
 

00:17:30.320 --> 00:17:33.029 align:start position:0%
like we understand
so<00:17:30.640><c> if</c><00:17:30.799><c> we</c><00:17:30.960><c> crash</c><00:17:31.280><c> here</c><00:17:32.240><c> and</c><00:17:32.559><c> we</c><00:17:32.720><c> have</c><00:17:32.880><c> no</c>

00:17:33.029 --> 00:17:33.039 align:start position:0%
so if we crash here and we have no
 

00:17:33.039 --> 00:17:34.470 align:start position:0%
so if we crash here and we have no
additional<00:17:33.440><c> mechanisms</c>

00:17:34.470 --> 00:17:34.480 align:start position:0%
additional mechanisms
 

00:17:34.480 --> 00:17:36.710 align:start position:0%
additional mechanisms
uh<00:17:34.960><c> or</c><00:17:35.120><c> we</c><00:17:35.280><c> have</c><00:17:35.360><c> no</c><00:17:35.520><c> logging</c><00:17:35.919><c> as</c><00:17:36.000><c> having</c><00:17:36.640><c> that</c>

00:17:36.710 --> 00:17:36.720 align:start position:0%
uh or we have no logging as having that
 

00:17:36.720 --> 00:17:37.909 align:start position:0%
uh or we have no logging as having that
we're<00:17:36.880><c> going</c><00:17:36.960><c> to</c><00:17:37.039><c> be</c><00:17:37.200><c> talking</c><00:17:37.440><c> about</c><00:17:37.600><c> but</c>

00:17:37.909 --> 00:17:37.919 align:start position:0%
we're going to be talking about but
 

00:17:37.919 --> 00:17:40.390 align:start position:0%
we're going to be talking about but
we<00:17:38.000><c> have</c><00:17:38.080><c> no</c><00:17:38.240><c> additional</c><00:17:38.640><c> mechanisms</c><00:17:39.840><c> uh</c><00:17:40.240><c> how</c>

00:17:40.390 --> 00:17:40.400 align:start position:0%
we have no additional mechanisms uh how
 

00:17:40.400 --> 00:17:42.870 align:start position:0%
we have no additional mechanisms uh how
bad<00:17:40.640><c> is</c><00:17:40.799><c> it</c>

00:17:42.870 --> 00:17:42.880 align:start position:0%
bad is it
 

00:17:42.880 --> 00:17:53.669 align:start position:0%
bad is it
what<00:17:43.120><c> what</c><00:17:43.840><c> risk</c><00:17:44.240><c> are</c><00:17:44.400><c> we</c><00:17:44.640><c> running</c><00:17:44.960><c> here</c>

00:17:53.669 --> 00:17:53.679 align:start position:0%
 
 

00:17:53.679 --> 00:17:57.590 align:start position:0%
 
anybody

00:17:57.590 --> 00:17:57.600 align:start position:0%
 
 

00:17:57.600 --> 00:17:59.909 align:start position:0%
 
so<00:17:57.840><c> basically</c><00:17:58.400><c> you</c><00:17:58.559><c> know</c><00:17:58.640><c> we've</c><00:17:58.880><c> written</c><00:17:59.679><c> uh</c>

00:17:59.909 --> 00:17:59.919 align:start position:0%
so basically you know we've written uh
 

00:17:59.919 --> 00:18:01.430 align:start position:0%
so basically you know we've written uh
block<00:18:00.240><c> 33</c>

00:18:01.430 --> 00:18:01.440 align:start position:0%
block 33
 

00:18:01.440 --> 00:18:02.870 align:start position:0%
block 33
to<00:18:01.600><c> record</c><00:18:02.000><c> that</c><00:18:02.080><c> the</c><00:18:02.160><c> inode</c><00:18:02.559><c> has</c><00:18:02.640><c> been</c>

00:18:02.870 --> 00:18:02.880 align:start position:0%
to record that the inode has been
 

00:18:02.880 --> 00:18:04.549 align:start position:0%
to record that the inode has been
allocated<00:18:03.440><c> then</c><00:18:03.600><c> we</c><00:18:03.760><c> had</c><00:18:03.840><c> a</c><00:18:03.919><c> power</c><00:18:04.240><c> failure</c>

00:18:04.549 --> 00:18:04.559 align:start position:0%
allocated then we had a power failure
 

00:18:04.559 --> 00:18:12.470 align:start position:0%
allocated then we had a power failure
and<00:18:04.640><c> then</c><00:18:04.799><c> we</c><00:18:04.960><c> come</c><00:18:05.120><c> back</c><00:18:05.360><c> up</c>

00:18:12.470 --> 00:18:12.480 align:start position:0%
 
 

00:18:12.480 --> 00:18:14.710 align:start position:0%
 
go<00:18:12.720><c> ahead</c><00:18:12.880><c> brandon</c><00:18:13.280><c> this</c><00:18:13.840><c> does</c><00:18:14.080><c> that</c><00:18:14.240><c> mean</c><00:18:14.480><c> we</c>

00:18:14.710 --> 00:18:14.720 align:start position:0%
go ahead brandon this does that mean we
 

00:18:14.720 --> 00:18:15.909 align:start position:0%
go ahead brandon this does that mean we
lose<00:18:15.039><c> the</c>

00:18:15.909 --> 00:18:15.919 align:start position:0%
lose the
 

00:18:15.919 --> 00:18:19.590 align:start position:0%
lose the
um<00:18:17.120><c> lose</c><00:18:17.360><c> this</c><00:18:17.679><c> block</c><00:18:18.720><c> it's</c><00:18:18.880><c> like</c><00:18:19.120><c> it</c><00:18:19.280><c> seems</c>

00:18:19.590 --> 00:18:19.600 align:start position:0%
um lose this block it's like it seems
 

00:18:19.600 --> 00:18:21.430 align:start position:0%
um lose this block it's like it seems
like<00:18:19.840><c> it's</c><00:18:20.080><c> populated</c><00:18:20.720><c> but</c><00:18:20.880><c> it's</c><00:18:21.120><c> actually</c>

00:18:21.430 --> 00:18:21.440 align:start position:0%
like it's populated but it's actually
 

00:18:21.440 --> 00:18:22.310 align:start position:0%
like it's populated but it's actually
not

00:18:22.310 --> 00:18:22.320 align:start position:0%
not
 

00:18:22.320 --> 00:18:24.870 align:start position:0%
not
yeah<00:18:23.120><c> i</c><00:18:23.200><c> think</c><00:18:23.360><c> we're</c><00:18:23.600><c> losing</c><00:18:23.919><c> the</c><00:18:24.240><c> we're</c><00:18:24.640><c> not</c>

00:18:24.870 --> 00:18:24.880 align:start position:0%
yeah i think we're losing the we're not
 

00:18:24.880 --> 00:18:26.390 align:start position:0%
yeah i think we're losing the we're not
really<00:18:25.200><c> the</c><00:18:25.280><c> whole</c><00:18:25.440><c> block</c><00:18:25.679><c> but</c><00:18:25.919><c> we</c><00:18:26.080><c> use</c><00:18:26.240><c> the</c>

00:18:26.390 --> 00:18:26.400 align:start position:0%
really the whole block but we use the
 

00:18:26.400 --> 00:18:27.270 align:start position:0%
really the whole block but we use the
inode<00:18:26.880><c> x</c>

00:18:27.270 --> 00:18:27.280 align:start position:0%
inode x
 

00:18:27.280 --> 00:18:30.150 align:start position:0%
inode x
right<00:18:27.440><c> the</c><00:18:27.600><c> inode</c><00:18:28.000><c> x</c><00:18:28.880><c> or</c><00:18:29.039><c> the</c><00:18:29.200><c> i</c><00:18:29.360><c> note</c><00:18:29.600><c> 4</c><00:18:29.840><c> x</c><00:18:30.080><c> that</c>

00:18:30.150 --> 00:18:30.160 align:start position:0%
right the inode x or the i note 4 x that
 

00:18:30.160 --> 00:18:31.590 align:start position:0%
right the inode x or the i note 4 x that
was<00:18:30.400><c> allocated</c><00:18:30.799><c> or</c><00:18:30.960><c> this</c><00:18:31.200><c> marked</c><00:18:31.520><c> as</c>

00:18:31.590 --> 00:18:31.600 align:start position:0%
was allocated or this marked as
 

00:18:31.600 --> 00:18:32.789 align:start position:0%
was allocated or this marked as
allocated

00:18:32.789 --> 00:18:32.799 align:start position:0%
allocated
 

00:18:32.799 --> 00:18:35.510 align:start position:0%
allocated
is<00:18:33.039><c> allocated</c><00:18:33.520><c> on</c><00:18:33.760><c> disk</c><00:18:34.400><c> but</c><00:18:34.559><c> we</c><00:18:34.720><c> have</c><00:18:34.960><c> not</c><00:18:35.360><c> put</c>

00:18:35.510 --> 00:18:35.520 align:start position:0%
is allocated on disk but we have not put
 

00:18:35.520 --> 00:18:36.549 align:start position:0%
is allocated on disk but we have not put
it<00:18:35.679><c> in</c><00:18:35.840><c> any</c>

00:18:36.549 --> 00:18:36.559 align:start position:0%
it in any
 

00:18:36.559 --> 00:18:39.029 align:start position:0%
it in any
uh<00:18:36.960><c> we've</c><00:18:37.200><c> not</c><00:18:37.440><c> succeeded</c><00:18:38.000><c> correct</c><00:18:38.880><c> in</c>

00:18:39.029 --> 00:18:39.039 align:start position:0%
uh we've not succeeded correct in
 

00:18:39.039 --> 00:18:41.029 align:start position:0%
uh we've not succeeded correct in
putting<00:18:39.280><c> it</c><00:18:39.440><c> in</c><00:18:39.600><c> any</c><00:18:39.760><c> directory</c>

00:18:41.029 --> 00:18:41.039 align:start position:0%
putting it in any directory
 

00:18:41.039 --> 00:18:42.630 align:start position:0%
putting it in any directory
so<00:18:41.280><c> basically</c><00:18:41.760><c> on</c><00:18:41.919><c> the</c><00:18:42.080><c> disk</c><00:18:42.400><c> you</c><00:18:42.559><c> know</c>

00:18:42.630 --> 00:18:42.640 align:start position:0%
so basically on the disk you know
 

00:18:42.640 --> 00:18:43.990 align:start position:0%
so basically on the disk you know
there's<00:18:42.799><c> an</c><00:18:42.960><c> eye</c><00:18:43.039><c> node</c><00:18:43.280><c> allocated</c><00:18:43.760><c> but</c><00:18:43.919><c> it</c>

00:18:43.990 --> 00:18:44.000 align:start position:0%
there's an eye node allocated but it
 

00:18:44.000 --> 00:18:45.990 align:start position:0%
there's an eye node allocated but it
doesn't<00:18:44.320><c> appear</c><00:18:44.720><c> in</c><00:18:44.880><c> any</c><00:18:45.200><c> directory</c>

00:18:45.990 --> 00:18:46.000 align:start position:0%
doesn't appear in any directory
 

00:18:46.000 --> 00:18:49.110 align:start position:0%
doesn't appear in any directory
so<00:18:46.160><c> we</c><00:18:46.240><c> can't</c><00:18:46.480><c> even</c><00:18:46.720><c> remove</c><00:18:47.039><c> it</c><00:18:47.679><c> right</c><00:18:48.799><c> and</c><00:18:48.960><c> so</c>

00:18:49.110 --> 00:18:49.120 align:start position:0%
so we can't even remove it right and so
 

00:18:49.120 --> 00:18:50.070 align:start position:0%
so we can't even remove it right and so
basically<00:18:49.440><c> what</c>

00:18:50.070 --> 00:18:50.080 align:start position:0%
basically what
 

00:18:50.080 --> 00:18:51.909 align:start position:0%
basically what
will<00:18:50.240><c> this</c><00:18:50.400><c> cause</c><00:18:50.640><c> is</c><00:18:50.799><c> to</c><00:18:50.880><c> happen</c><00:18:51.200><c> is</c><00:18:51.360><c> we</c><00:18:51.520><c> lost</c>

00:18:51.909 --> 00:18:51.919 align:start position:0%
will this cause is to happen is we lost
 

00:18:51.919 --> 00:18:57.029 align:start position:0%
will this cause is to happen is we lost
we<00:18:52.080><c> lose</c><00:18:52.320><c> an</c><00:18:54.840><c> inode</c>

00:18:57.029 --> 00:18:57.039 align:start position:0%
we lose an inode
 

00:18:57.039 --> 00:19:01.110 align:start position:0%
we lose an inode
does<00:18:57.280><c> that</c><00:18:57.360><c> make</c><00:18:57.520><c> sense</c>

00:19:01.110 --> 00:19:01.120 align:start position:0%
 
 

00:19:01.120 --> 00:19:02.789 align:start position:0%
 
so<00:19:01.280><c> you</c><00:19:01.360><c> might</c><00:19:01.520><c> think</c><00:19:01.760><c> well</c><00:19:02.080><c> maybe</c><00:19:02.400><c> what</c><00:19:02.720><c> i</c>

00:19:02.789 --> 00:19:02.799 align:start position:0%
so you might think well maybe what i
 

00:19:02.799 --> 00:19:04.390 align:start position:0%
so you might think well maybe what i
should<00:19:02.960><c> do</c><00:19:03.120><c> is</c><00:19:03.200><c> like</c><00:19:03.360><c> maybe</c><00:19:03.600><c> i</c><00:19:03.760><c> should</c><00:19:03.919><c> reorder</c>

00:19:04.390 --> 00:19:04.400 align:start position:0%
should do is like maybe i should reorder
 

00:19:04.400 --> 00:19:05.830 align:start position:0%
should do is like maybe i should reorder
the<00:19:04.559><c> right</c>

00:19:05.830 --> 00:19:05.840 align:start position:0%
the right
 

00:19:05.840 --> 00:19:07.990 align:start position:0%
the right
and<00:19:06.559><c> in</c><00:19:06.640><c> a</c><00:19:06.720><c> way</c><00:19:06.960><c> you</c><00:19:07.120><c> know</c><00:19:07.360><c> that</c><00:19:07.520><c> hopefully</c><00:19:07.919><c> you</c>

00:19:07.990 --> 00:19:08.000 align:start position:0%
and in a way you know that hopefully you
 

00:19:08.000 --> 00:19:09.350 align:start position:0%
and in a way you know that hopefully you
know<00:19:08.160><c> this</c><00:19:08.400><c> you</c><00:19:08.559><c> know</c><00:19:08.640><c> we</c><00:19:08.720><c> don't</c><00:19:08.880><c> lose</c><00:19:09.120><c> the</c><00:19:09.200><c> i</c>

00:19:09.350 --> 00:19:09.360 align:start position:0%
know this you know we don't lose the i
 

00:19:09.360 --> 00:19:10.630 align:start position:0%
know this you know we don't lose the i
know<00:19:09.520><c> so</c><00:19:09.679><c> for</c><00:19:09.840><c> example</c><00:19:10.080><c> another</c><00:19:10.400><c> thing</c><00:19:10.559><c> we</c>

00:19:10.630 --> 00:19:10.640 align:start position:0%
know so for example another thing we
 

00:19:10.640 --> 00:19:12.310 align:start position:0%
know so for example another thing we
could<00:19:10.799><c> try</c><00:19:11.039><c> doing</c><00:19:11.360><c> is</c><00:19:11.520><c> say</c><00:19:11.760><c> well</c><00:19:12.000><c> what</c><00:19:12.160><c> we'll</c>

00:19:12.310 --> 00:19:12.320 align:start position:0%
could try doing is say well what we'll
 

00:19:12.320 --> 00:19:13.110 align:start position:0%
could try doing is say well what we'll
do<00:19:12.559><c> is</c>

00:19:13.110 --> 00:19:13.120 align:start position:0%
do is
 

00:19:13.120 --> 00:19:16.950 align:start position:0%
do is
we'll<00:19:13.360><c> uh</c><00:19:14.080><c> write</c><00:19:14.320><c> 46</c>

00:19:16.950 --> 00:19:16.960 align:start position:0%
we'll uh write 46
 

00:19:16.960 --> 00:19:19.830 align:start position:0%
we'll uh write 46
first<00:19:18.240><c> basically</c><00:19:18.559><c> update</c><00:19:18.799><c> the</c><00:19:18.960><c> i</c><00:19:19.120><c> know</c><00:19:19.520><c> update</c>

00:19:19.830 --> 00:19:19.840 align:start position:0%
first basically update the i know update
 

00:19:19.840 --> 00:19:20.950 align:start position:0%
first basically update the i know update
the<00:19:20.000><c> directory</c>

00:19:20.950 --> 00:19:20.960 align:start position:0%
the directory
 

00:19:20.960 --> 00:19:24.549 align:start position:0%
the directory
write<00:19:21.200><c> the</c><00:19:22.080><c> directory</c><00:19:22.840><c> inode</c>

00:19:24.549 --> 00:19:24.559 align:start position:0%
write the directory inode
 

00:19:24.559 --> 00:19:26.470 align:start position:0%
write the directory inode
we're<00:19:24.720><c> going</c><00:19:24.799><c> to</c><00:19:24.880><c> write</c><00:19:25.120><c> 32</c><00:19:25.840><c> and</c><00:19:25.919><c> then</c><00:19:26.320><c> we'll</c>

00:19:26.470 --> 00:19:26.480 align:start position:0%
we're going to write 32 and then we'll
 

00:19:26.480 --> 00:19:28.630 align:start position:0%
we're going to write 32 and then we'll
actually<00:19:26.799><c> mark</c><00:19:27.120><c> the</c><00:19:27.280><c> inode</c><00:19:27.760><c> as</c><00:19:27.919><c> allocated</c>

00:19:28.630 --> 00:19:28.640 align:start position:0%
actually mark the inode as allocated
 

00:19:28.640 --> 00:19:32.470 align:start position:0%
actually mark the inode as allocated
on<00:19:28.880><c> disk</c>

00:19:32.470 --> 00:19:32.480 align:start position:0%
 
 

00:19:32.480 --> 00:19:35.190 align:start position:0%
 
to<00:19:33.600><c> mark</c><00:19:33.840><c> it</c><00:19:33.919><c> as</c><00:19:34.080><c> indicate</c><00:19:34.480><c> that</c><00:19:34.559><c> the</c><00:19:34.880><c> market</c>

00:19:35.190 --> 00:19:35.200 align:start position:0%
to mark it as indicate that the market
 

00:19:35.200 --> 00:19:36.470 align:start position:0%
to mark it as indicate that the market
is<00:19:35.280><c> allocated</c>

00:19:36.470 --> 00:19:36.480 align:start position:0%
is allocated
 

00:19:36.480 --> 00:19:38.390 align:start position:0%
is allocated
so<00:19:36.720><c> we</c><00:19:36.799><c> do</c><00:19:36.960><c> the</c><00:19:37.200><c> same</c><00:19:37.440><c> a</c><00:19:37.520><c> set</c><00:19:37.679><c> of</c><00:19:37.760><c> operations</c><00:19:38.240><c> in</c>

00:19:38.390 --> 00:19:38.400 align:start position:0%
so we do the same a set of operations in
 

00:19:38.400 --> 00:19:39.990 align:start position:0%
so we do the same a set of operations in
a<00:19:38.480><c> slightly</c><00:19:38.720><c> different</c><00:19:38.960><c> order</c>

00:19:39.990 --> 00:19:40.000 align:start position:0%
a slightly different order
 

00:19:40.000 --> 00:19:42.710 align:start position:0%
a slightly different order
uh<00:19:40.240><c> in</c><00:19:40.400><c> the</c><00:19:40.480><c> hope</c><00:19:40.720><c> that</c><00:19:40.799><c> we</c><00:19:40.960><c> should</c><00:19:41.440><c> uh</c><00:19:42.400><c> avoid</c>

00:19:42.710 --> 00:19:42.720 align:start position:0%
uh in the hope that we should uh avoid
 

00:19:42.720 --> 00:19:44.070 align:start position:0%
uh in the hope that we should uh avoid
this<00:19:42.880><c> losing</c><00:19:43.280><c> of</c><00:19:43.360><c> the</c><00:19:43.440><c> inode</c>

00:19:44.070 --> 00:19:44.080 align:start position:0%
this losing of the inode
 

00:19:44.080 --> 00:19:50.870 align:start position:0%
this losing of the inode
problem<00:19:45.600><c> and</c><00:19:46.000><c> would</c><00:19:46.160><c> this</c><00:19:46.400><c> work</c>

00:19:50.870 --> 00:19:50.880 align:start position:0%
 
 

00:19:50.880 --> 00:19:52.390 align:start position:0%
 
well<00:19:51.360><c> the</c><00:19:51.440><c> thing</c><00:19:51.600><c> that</c><00:19:51.679><c> we</c><00:19:51.840><c> should</c><00:19:52.000><c> do</c><00:19:52.240><c> ask</c>

00:19:52.390 --> 00:19:52.400 align:start position:0%
well the thing that we should do ask
 

00:19:52.400 --> 00:19:54.150 align:start position:0%
well the thing that we should do ask
ourselves<00:19:52.880><c> like</c><00:19:53.039><c> you</c><00:19:53.200><c> know</c><00:19:53.679><c> let's</c>

00:19:54.150 --> 00:19:54.160 align:start position:0%
ourselves like you know let's
 

00:19:54.160 --> 00:19:56.230 align:start position:0%
ourselves like you know let's
think<00:19:54.400><c> about</c><00:19:54.559><c> this</c><00:19:54.799><c> point</c><00:19:55.039><c> in</c><00:19:55.120><c> time</c><00:19:55.760><c> let's</c><00:19:56.000><c> say</c>

00:19:56.230 --> 00:19:56.240 align:start position:0%
think about this point in time let's say
 

00:19:56.240 --> 00:19:58.310 align:start position:0%
think about this point in time let's say
a<00:19:56.400><c> crash</c><00:19:56.720><c> happens</c><00:19:57.120><c> like</c><00:19:57.360><c> right</c><00:19:57.600><c> here</c><00:19:57.840><c> or</c><00:19:58.080><c> power</c>

00:19:58.310 --> 00:19:58.320 align:start position:0%
a crash happens like right here or power
 

00:19:58.320 --> 00:19:59.430 align:start position:0%
a crash happens like right here or power
failure<00:19:58.640><c> happens</c><00:19:58.960><c> right</c>

00:19:59.430 --> 00:19:59.440 align:start position:0%
failure happens right
 

00:19:59.440 --> 00:20:02.070 align:start position:0%
failure happens right
between<00:20:00.720><c> uh</c><00:20:01.039><c> updating</c><00:20:01.520><c> the</c><00:20:01.679><c> directory</c>

00:20:02.070 --> 00:20:02.080 align:start position:0%
between uh updating the directory
 

00:20:02.080 --> 00:20:02.630 align:start position:0%
between uh updating the directory
basically

00:20:02.630 --> 00:20:02.640 align:start position:0%
basically
 

00:20:02.640 --> 00:20:04.789 align:start position:0%
basically
but<00:20:02.880><c> before</c><00:20:03.520><c> we</c><00:20:03.679><c> allocated</c><00:20:04.159><c> the</c><00:20:04.320><c> inode</c><00:20:04.720><c> on</c>

00:20:04.789 --> 00:20:04.799 align:start position:0%
but before we allocated the inode on
 

00:20:04.799 --> 00:20:06.470 align:start position:0%
but before we allocated the inode on
disk<00:20:05.120><c> and</c><00:20:05.280><c> now</c><00:20:05.840><c> you</c><00:20:06.000><c> know</c><00:20:06.159><c> we</c>

00:20:06.470 --> 00:20:06.480 align:start position:0%
disk and now you know we
 

00:20:06.480 --> 00:20:09.110 align:start position:0%
disk and now you know we
power<00:20:06.799><c> fails</c><00:20:07.520><c> machine</c><00:20:07.840><c> comes</c><00:20:08.080><c> back</c><00:20:08.320><c> up</c><00:20:08.880><c> and</c><00:20:08.960><c> we</c>

00:20:09.110 --> 00:20:09.120 align:start position:0%
power fails machine comes back up and we
 

00:20:09.120 --> 00:20:10.230 align:start position:0%
power fails machine comes back up and we
look<00:20:09.280><c> at</c><00:20:09.440><c> the</c><00:20:09.520><c> file</c><00:20:09.760><c> system</c>

00:20:10.230 --> 00:20:10.240 align:start position:0%
look at the file system
 

00:20:10.240 --> 00:20:11.750 align:start position:0%
look at the file system
you<00:20:10.320><c> know</c><00:20:10.480><c> what</c><00:20:10.720><c> what</c><00:20:10.960><c> state</c><00:20:11.280><c> will</c><00:20:11.440><c> the</c><00:20:11.520><c> file</c>

00:20:11.750 --> 00:20:11.760 align:start position:0%
you know what what state will the file
 

00:20:11.760 --> 00:20:15.029 align:start position:0%
you know what what state will the file
system<00:20:12.000><c> be</c><00:20:12.240><c> in</c>

00:20:15.029 --> 00:20:15.039 align:start position:0%
 
 

00:20:15.039 --> 00:20:19.270 align:start position:0%
 
you'll<00:20:15.360><c> still</c><00:20:15.600><c> think</c><00:20:15.840><c> it's</c><00:20:16.080><c> a</c><00:20:16.400><c> free</c><00:20:16.720><c> inode</c><00:20:17.280><c> and</c>

00:20:19.270 --> 00:20:19.280 align:start position:0%
you'll still think it's a free inode and
 

00:20:19.280 --> 00:20:21.350 align:start position:0%
you'll still think it's a free inode and
yeah<00:20:19.600><c> what</c><00:20:19.760><c> would</c><00:20:20.000><c> happen</c><00:20:20.240><c> if</c><00:20:20.320><c> for</c><00:20:20.480><c> example</c><00:20:20.960><c> we</c>

00:20:21.350 --> 00:20:21.360 align:start position:0%
yeah what would happen if for example we
 

00:20:21.360 --> 00:20:22.789 align:start position:0%
yeah what would happen if for example we
read<00:20:21.679><c> you</c><00:20:21.760><c> know</c><00:20:21.919><c> the</c><00:20:22.080><c> file</c><00:20:22.400><c> x</c><00:20:22.640><c> in</c><00:20:22.720><c> the</c>

00:20:22.789 --> 00:20:22.799 align:start position:0%
read you know the file x in the
 

00:20:22.799 --> 00:20:23.590 align:start position:0%
read you know the file x in the
directory

00:20:23.590 --> 00:20:23.600 align:start position:0%
directory
 

00:20:23.600 --> 00:20:24.950 align:start position:0%
directory
in<00:20:23.679><c> the</c><00:20:23.760><c> root</c><00:20:23.919><c> directory</c><00:20:24.400><c> because</c><00:20:24.640><c> it</c><00:20:24.720><c> is</c><00:20:24.880><c> the</c>

00:20:24.950 --> 00:20:24.960 align:start position:0%
in the root directory because it is the
 

00:20:24.960 --> 00:20:29.990 align:start position:0%
in the root directory because it is the
in<00:20:25.120><c> there</c><00:20:25.280><c> now</c><00:20:25.440><c> correcting</c><00:20:25.840><c> this</c><00:20:25.919><c> data</c><00:20:26.159><c> block</c>

00:20:29.990 --> 00:20:30.000 align:start position:0%
 
 

00:20:30.000 --> 00:20:31.350 align:start position:0%
 
we're<00:20:30.159><c> going</c><00:20:30.240><c> to</c><00:20:30.320><c> be</c><00:20:30.480><c> reading</c><00:20:30.720><c> the</c><00:20:30.799><c> inode</c><00:20:31.200><c> that</c>

00:20:31.350 --> 00:20:31.360 align:start position:0%
we're going to be reading the inode that
 

00:20:31.360 --> 00:20:32.789 align:start position:0%
we're going to be reading the inode that
actually<00:20:31.600><c> is</c><00:20:31.679><c> not</c><00:20:31.840><c> even</c><00:20:32.080><c> allocated</c><00:20:32.559><c> correct</c>

00:20:32.789 --> 00:20:32.799 align:start position:0%
actually is not even allocated correct
 

00:20:32.799 --> 00:20:35.430 align:start position:0%
actually is not even allocated correct
there's<00:20:32.960><c> more</c><00:20:33.200><c> only</c><00:20:33.520><c> allocated</c>

00:20:35.430 --> 00:20:35.440 align:start position:0%
there's more only allocated
 

00:20:35.440 --> 00:20:37.590 align:start position:0%
there's more only allocated
and<00:20:36.320><c> worse</c><00:20:36.640><c> what</c><00:20:36.799><c> could</c><00:20:36.960><c> happen</c><00:20:37.200><c> is</c><00:20:37.360><c> correct</c>

00:20:37.590 --> 00:20:37.600 align:start position:0%
and worse what could happen is correct
 

00:20:37.600 --> 00:20:39.430 align:start position:0%
and worse what could happen is correct
that<00:20:37.840><c> it</c><00:20:38.080><c> might</c><00:20:38.240><c> be</c><00:20:38.400><c> allocated</c><00:20:38.880><c> again</c>

00:20:39.430 --> 00:20:39.440 align:start position:0%
that it might be allocated again
 

00:20:39.440 --> 00:20:41.750 align:start position:0%
that it might be allocated again
or<00:20:39.679><c> might</c><00:20:39.919><c> actually</c><00:20:40.159><c> really</c><00:20:40.400><c> be</c><00:20:40.559><c> allocated</c><00:20:41.520><c> uh</c>

00:20:41.750 --> 00:20:41.760 align:start position:0%
or might actually really be allocated uh
 

00:20:41.760 --> 00:20:43.590 align:start position:0%
or might actually really be allocated uh
because<00:20:42.080><c> it's</c><00:20:42.240><c> a</c><00:20:42.400><c> mark</c><00:20:42.640><c> is</c><00:20:42.799><c> unallocated</c><00:20:43.360><c> to</c>

00:20:43.590 --> 00:20:43.600 align:start position:0%
because it's a mark is unallocated to
 

00:20:43.600 --> 00:20:45.990 align:start position:0%
because it's a mark is unallocated to
actually<00:20:43.840><c> in</c><00:20:43.919><c> fact</c><00:20:44.159><c> a</c><00:20:44.320><c> different</c><00:20:44.640><c> file</c>

00:20:45.990 --> 00:20:46.000 align:start position:0%
actually in fact a different file
 

00:20:46.000 --> 00:20:48.870 align:start position:0%
actually in fact a different file
correct<00:20:46.799><c> and</c><00:20:46.960><c> so</c><00:20:47.120><c> now</c><00:20:47.360><c> we</c><00:20:47.440><c> have</c><00:20:47.600><c> two</c><00:20:47.760><c> files</c>

00:20:48.870 --> 00:20:48.880 align:start position:0%
correct and so now we have two files
 

00:20:48.880 --> 00:20:50.070 align:start position:0%
correct and so now we have two files
that<00:20:49.200><c> might</c><00:20:49.520><c> actually</c>

00:20:50.070 --> 00:20:50.080 align:start position:0%
that might actually
 

00:20:50.080 --> 00:20:52.390 align:start position:0%
that might actually
uh<00:20:51.039><c> the</c><00:20:51.200><c> two</c><00:20:51.440><c> files</c><00:20:51.679><c> that</c><00:20:51.840><c> actually</c><00:20:52.159><c> share</c>

00:20:52.390 --> 00:20:52.400 align:start position:0%
uh the two files that actually share
 

00:20:52.400 --> 00:20:53.430 align:start position:0%
uh the two files that actually share
even<00:20:52.559><c> though</c><00:20:52.720><c> they're</c><00:20:52.880><c> completely</c><00:20:53.200><c> different</c>

00:20:53.430 --> 00:20:53.440 align:start position:0%
even though they're completely different
 

00:20:53.440 --> 00:20:55.029 align:start position:0%
even though they're completely different
they<00:20:53.600><c> share</c><00:20:53.840><c> the</c><00:20:53.919><c> same</c><00:20:54.159><c> inode</c>

00:20:55.029 --> 00:20:55.039 align:start position:0%
they share the same inode
 

00:20:55.039 --> 00:20:56.789 align:start position:0%
they share the same inode
and<00:20:55.200><c> so</c><00:20:55.360><c> for</c><00:20:55.440><c> example</c><00:20:55.760><c> if</c><00:20:55.840><c> one</c><00:20:56.240><c> you</c><00:20:56.400><c> know</c><00:20:56.559><c> file</c>

00:20:56.789 --> 00:20:56.799 align:start position:0%
and so for example if one you know file
 

00:20:56.799 --> 00:20:58.390 align:start position:0%
and so for example if one you know file
would<00:20:56.880><c> be</c><00:20:57.039><c> owned</c><00:20:57.200><c> by</c><00:20:57.360><c> user</c><00:20:57.600><c> one</c><00:20:57.919><c> and</c><00:20:58.080><c> one</c><00:20:58.240><c> by</c>

00:20:58.390 --> 00:20:58.400 align:start position:0%
would be owned by user one and one by
 

00:20:58.400 --> 00:20:59.990 align:start position:0%
would be owned by user one and one by
user<00:20:58.720><c> two</c><00:20:58.880><c> then</c><00:20:59.039><c> basically</c><00:20:59.360><c> user</c><00:20:59.679><c> two</c><00:20:59.840><c> could</c>

00:20:59.990 --> 00:21:00.000 align:start position:0%
user two then basically user two could
 

00:21:00.000 --> 00:21:01.110 align:start position:0%
user two then basically user two could
read<00:21:00.240><c> user</c><00:21:00.480><c> one's</c><00:21:00.799><c> file</c>

00:21:01.110 --> 00:21:01.120 align:start position:0%
read user one's file
 

00:21:01.120 --> 00:21:04.710 align:start position:0%
read user one's file
a<00:21:01.280><c> data</c><00:21:01.679><c> right</c><00:21:03.600><c> so</c><00:21:03.840><c> this</c><00:21:03.919><c> is</c><00:21:04.080><c> no</c><00:21:04.159><c> good</c><00:21:04.400><c> either</c>

00:21:04.710 --> 00:21:04.720 align:start position:0%
a data right so this is no good either
 

00:21:04.720 --> 00:21:11.110 align:start position:0%
a data right so this is no good either
right

00:21:11.110 --> 00:21:11.120 align:start position:0%
 
 

00:21:11.120 --> 00:21:14.549 align:start position:0%
 
does<00:21:11.280><c> that</c><00:21:11.440><c> make</c><00:21:11.600><c> sense</c><00:21:14.000><c> so</c><00:21:14.159><c> basically</c>

00:21:14.549 --> 00:21:14.559 align:start position:0%
does that make sense so basically
 

00:21:14.559 --> 00:21:16.070 align:start position:0%
does that make sense so basically
switching<00:21:14.960><c> you</c><00:21:15.120><c> know</c><00:21:15.200><c> the</c><00:21:15.280><c> order</c><00:21:15.760><c> you</c><00:21:15.840><c> know</c><00:21:16.000><c> is</c>

00:21:16.070 --> 00:21:16.080 align:start position:0%
switching you know the order you know is
 

00:21:16.080 --> 00:21:18.470 align:start position:0%
switching you know the order you know is
not<00:21:16.320><c> really</c><00:21:16.559><c> going</c><00:21:16.720><c> to</c><00:21:16.799><c> solve</c><00:21:17.120><c> our</c><00:21:17.280><c> problem</c>

00:21:18.470 --> 00:21:18.480 align:start position:0%
not really going to solve our problem
 

00:21:18.480 --> 00:21:20.390 align:start position:0%
not really going to solve our problem
uh<00:21:18.880><c> we</c><00:21:19.039><c> just</c><00:21:19.440><c> basically</c><00:21:19.840><c> get</c><00:21:20.000><c> a</c><00:21:20.080><c> different</c>

00:21:20.390 --> 00:21:20.400 align:start position:0%
uh we just basically get a different
 

00:21:20.400 --> 00:21:23.510 align:start position:0%
uh we just basically get a different
problem<00:21:20.799><c> that</c><00:21:20.960><c> we</c><00:21:21.120><c> had</c><00:21:21.280><c> before</c>

00:21:23.510 --> 00:21:23.520 align:start position:0%
problem that we had before
 

00:21:23.520 --> 00:21:26.470 align:start position:0%
problem that we had before
okay<00:21:23.760><c> let's</c><00:21:23.919><c> look</c><00:21:24.080><c> at</c><00:21:24.159><c> one</c><00:21:24.320><c> more</c><00:21:24.559><c> example</c><00:21:25.919><c> uh</c>

00:21:26.470 --> 00:21:26.480 align:start position:0%
okay let's look at one more example uh
 

00:21:26.480 --> 00:21:27.350 align:start position:0%
okay let's look at one more example uh
here's<00:21:26.799><c> the</c>

00:21:27.350 --> 00:21:27.360 align:start position:0%
here's the
 

00:21:27.360 --> 00:21:31.190 align:start position:0%
here's the
uh<00:21:28.000><c> example</c><00:21:28.720><c> of</c><00:21:29.200><c> writing</c>

00:21:31.190 --> 00:21:31.200 align:start position:0%
uh example of writing
 

00:21:31.200 --> 00:21:35.029 align:start position:0%
uh example of writing
to<00:21:31.440><c> file</c><00:21:31.760><c> x</c>

00:21:35.029 --> 00:21:35.039 align:start position:0%
 
 

00:21:35.039 --> 00:21:36.549 align:start position:0%
 
so<00:21:35.200><c> once</c><00:21:35.440><c> we</c><00:21:35.600><c> have</c><00:21:35.679><c> the</c><00:21:35.760><c> files</c><00:21:36.159><c> allocated</c>

00:21:36.549 --> 00:21:36.559 align:start position:0%
so once we have the files allocated
 

00:21:36.559 --> 00:21:38.070 align:start position:0%
so once we have the files allocated
let's<00:21:36.720><c> say</c><00:21:36.880><c> that</c><00:21:37.039><c> all</c><00:21:37.200><c> succeeded</c><00:21:37.760><c> and</c><00:21:37.840><c> now</c>

00:21:38.070 --> 00:21:38.080 align:start position:0%
let's say that all succeeded and now
 

00:21:38.080 --> 00:21:39.990 align:start position:0%
let's say that all succeeded and now
we're<00:21:38.240><c> executing</c><00:21:38.720><c> the</c><00:21:38.880><c> right</c><00:21:39.039><c> system</c><00:21:39.440><c> call</c>

00:21:39.990 --> 00:21:40.000 align:start position:0%
we're executing the right system call
 

00:21:40.000 --> 00:21:41.909 align:start position:0%
we're executing the right system call
and<00:21:40.159><c> the</c><00:21:40.240><c> right</c><00:21:40.400><c> system</c><00:21:40.720><c> call</c><00:21:40.960><c> also</c><00:21:41.200><c> does</c><00:21:41.600><c> uh</c>

00:21:41.909 --> 00:21:41.919 align:start position:0%
and the right system call also does uh
 

00:21:41.919 --> 00:21:43.669 align:start position:0%
and the right system call also does uh
multiple<00:21:42.400><c> writes</c><00:21:42.720><c> operations</c><00:21:43.200><c> which</c><00:21:43.360><c> we</c><00:21:43.520><c> saw</c>

00:21:43.669 --> 00:21:43.679 align:start position:0%
multiple writes operations which we saw
 

00:21:43.679 --> 00:21:44.549 align:start position:0%
multiple writes operations which we saw
in<00:21:43.760><c> one</c><00:21:44.000><c> day</c>

00:21:44.549 --> 00:21:44.559 align:start position:0%
in one day
 

00:21:44.559 --> 00:21:46.149 align:start position:0%
in one day
you<00:21:44.720><c> know</c><00:21:44.880><c> example</c><00:21:45.440><c> it</c><00:21:45.600><c> will</c><00:21:45.760><c> allocate</c><00:21:46.080><c> a</c>

00:21:46.149 --> 00:21:46.159 align:start position:0%
you know example it will allocate a
 

00:21:46.159 --> 00:21:49.110 align:start position:0%
you know example it will allocate a
block<00:21:47.120><c> in</c><00:21:47.200><c> this</c><00:21:47.360><c> case</c><00:21:47.600><c> to</c><00:21:47.760><c> block</c><00:21:47.919><c> 45</c>

00:21:49.110 --> 00:21:49.120 align:start position:0%
block in this case to block 45
 

00:21:49.120 --> 00:21:52.470 align:start position:0%
block in this case to block 45
so<00:21:49.360><c> it</c><00:21:49.440><c> sets</c><00:21:49.679><c> a</c><00:21:50.400><c> bit</c><00:21:50.720><c> in</c><00:21:50.799><c> the</c><00:21:50.960><c> free</c><00:21:51.120><c> map</c>

00:21:52.470 --> 00:21:52.480 align:start position:0%
so it sets a bit in the free map
 

00:21:52.480 --> 00:21:55.669 align:start position:0%
so it sets a bit in the free map
the<00:21:52.640><c> block</c><00:21:52.880><c> 45</c><00:21:53.520><c> is</c><00:21:53.600><c> the</c><00:21:54.240><c> bitmap</c><00:21:54.640><c> block</c>

00:21:55.669 --> 00:21:55.679 align:start position:0%
the block 45 is the bitmap block
 

00:21:55.679 --> 00:21:57.909 align:start position:0%
the block 45 is the bitmap block
so<00:21:56.000><c> it</c><00:21:56.159><c> allocates</c><00:21:56.559><c> a</c><00:21:56.640><c> block</c><00:21:56.880><c> in</c><00:21:56.960><c> the</c><00:21:57.039><c> bitmap</c><00:21:57.760><c> it</c>

00:21:57.909 --> 00:21:57.919 align:start position:0%
so it allocates a block in the bitmap it
 

00:21:57.919 --> 00:22:00.070 align:start position:0%
so it allocates a block in the bitmap it
allocates<00:21:58.320><c> a</c><00:21:58.400><c> bit</c><00:21:58.640><c> in</c><00:21:58.720><c> the</c><00:21:58.799><c> bitmap</c><00:21:59.200><c> block</c><00:21:59.440><c> to</c>

00:22:00.070 --> 00:22:00.080 align:start position:0%
allocates a bit in the bitmap block to
 

00:22:00.080 --> 00:22:02.470 align:start position:0%
allocates a bit in the bitmap block to
indicate<00:22:01.360><c> that</c><00:22:01.600><c> that</c><00:22:01.840><c> block</c><00:22:02.080><c> has</c><00:22:02.240><c> now</c><00:22:02.400><c> be</c>

00:22:02.470 --> 00:22:02.480 align:start position:0%
indicate that that block has now be
 

00:22:02.480 --> 00:22:03.430 align:start position:0%
indicate that that block has now be
allocated

00:22:03.430 --> 00:22:03.440 align:start position:0%
allocated
 

00:22:03.440 --> 00:22:06.630 align:start position:0%
allocated
uh<00:22:03.600><c> that</c><00:22:03.840><c> block</c><00:22:04.240><c> turns</c><00:22:04.480><c> out</c><00:22:04.559><c> to</c><00:22:04.640><c> be</c><00:22:05.120><c> 595.</c>

00:22:06.630 --> 00:22:06.640 align:start position:0%
uh that block turns out to be 595.
 

00:22:06.640 --> 00:22:08.630 align:start position:0%
uh that block turns out to be 595.
and<00:22:06.880><c> then</c><00:22:07.039><c> we</c><00:22:07.280><c> write</c><00:22:07.600><c> you</c><00:22:07.679><c> know</c><00:22:07.919><c> uh</c><00:22:08.400><c> the</c>

00:22:08.630 --> 00:22:08.640 align:start position:0%
and then we write you know uh the
 

00:22:08.640 --> 00:22:09.990 align:start position:0%
and then we write you know uh the
character<00:22:09.039><c> h</c><00:22:09.360><c> you</c><00:22:09.440><c> know</c><00:22:09.600><c> to</c>

00:22:09.990 --> 00:22:10.000 align:start position:0%
character h you know to
 

00:22:10.000 --> 00:22:11.990 align:start position:0%
character h you know to
595<00:22:10.720><c> and</c><00:22:10.799><c> then</c><00:22:10.880><c> the</c><00:22:11.039><c> character</c><00:22:11.360><c> i</c><00:22:11.600><c> and</c><00:22:11.679><c> then</c><00:22:11.840><c> we</c>

00:22:11.990 --> 00:22:12.000 align:start position:0%
595 and then the character i and then we
 

00:22:12.000 --> 00:22:13.909 align:start position:0%
595 and then the character i and then we
update<00:22:12.240><c> the</c><00:22:12.400><c> i</c><00:22:12.559><c> dot</c>

00:22:13.909 --> 00:22:13.919 align:start position:0%
update the i dot
 

00:22:13.919 --> 00:22:15.430 align:start position:0%
update the i dot
right<00:22:14.159><c> now</c><00:22:14.320><c> we</c><00:22:14.480><c> can</c><00:22:14.559><c> ask</c><00:22:14.799><c> ourselves</c><00:22:15.120><c> the</c><00:22:15.200><c> same</c>

00:22:15.430 --> 00:22:15.440 align:start position:0%
right now we can ask ourselves the same
 

00:22:15.440 --> 00:22:17.750 align:start position:0%
right now we can ask ourselves the same
question<00:22:15.840><c> like</c><00:22:16.080><c> you</c><00:22:16.159><c> know</c><00:22:16.320><c> what</c><00:22:16.559><c> will</c><00:22:16.799><c> happen</c>

00:22:17.750 --> 00:22:17.760 align:start position:0%
question like you know what will happen
 

00:22:17.760 --> 00:22:20.789 align:start position:0%
question like you know what will happen
uh<00:22:19.360><c> uh</c><00:22:20.080><c> if</c>

00:22:20.789 --> 00:22:20.799 align:start position:0%
uh uh if
 

00:22:20.799 --> 00:22:23.110 align:start position:0%
uh uh if
we<00:22:21.039><c> crash</c><00:22:21.679><c> so</c><00:22:21.840><c> for</c><00:22:22.000><c> example</c><00:22:22.480><c> let's</c><00:22:22.720><c> say</c><00:22:22.960><c> we</c>

00:22:23.110 --> 00:22:23.120 align:start position:0%
we crash so for example let's say we
 

00:22:23.120 --> 00:22:23.990 align:start position:0%
we crash so for example let's say we
allo<00:22:23.600><c> crash</c>

00:22:23.990 --> 00:22:24.000 align:start position:0%
allo crash
 

00:22:24.000 --> 00:22:27.190 align:start position:0%
allo crash
like<00:22:24.240><c> right</c><00:22:24.480><c> here</c><00:22:24.960><c> between</c><00:22:26.240><c> you</c><00:22:26.400><c> know</c><00:22:26.640><c> writing</c>

00:22:27.190 --> 00:22:27.200 align:start position:0%
like right here between you know writing
 

00:22:27.200 --> 00:22:30.950 align:start position:0%
like right here between you know writing
the<00:22:27.919><c> bitmap</c><00:22:28.320><c> block</c><00:22:29.039><c> but</c><00:22:29.280><c> before</c><00:22:29.840><c> we</c><00:22:30.159><c> allocate</c>

00:22:30.950 --> 00:22:30.960 align:start position:0%
the bitmap block but before we allocate
 

00:22:30.960 --> 00:22:33.750 align:start position:0%
the bitmap block but before we allocate
uh<00:22:31.360><c> before</c><00:22:31.600><c> we</c><00:22:31.760><c> actually</c><00:22:32.000><c> write</c><00:22:32.240><c> the</c><00:22:32.320><c> i</c><00:22:32.480><c> note</c>

00:22:33.750 --> 00:22:33.760 align:start position:0%
uh before we actually write the i note
 

00:22:33.760 --> 00:22:39.990 align:start position:0%
uh before we actually write the i note
so<00:22:34.000><c> crash</c><00:22:38.840><c> here</c>

00:22:39.990 --> 00:22:40.000 align:start position:0%
so crash here
 

00:22:40.000 --> 00:22:41.909 align:start position:0%
so crash here
and<00:22:40.240><c> so</c><00:22:40.400><c> we</c><00:22:40.640><c> reboot</c><00:22:41.120><c> you</c><00:22:41.280><c> know</c><00:22:41.440><c> we</c><00:22:41.520><c> come</c><00:22:41.679><c> back</c>

00:22:41.909 --> 00:22:41.919 align:start position:0%
and so we reboot you know we come back
 

00:22:41.919 --> 00:22:44.230 align:start position:0%
and so we reboot you know we come back
up<00:22:42.320><c> and</c><00:22:42.640><c> the</c><00:22:42.799><c> disk</c><00:22:43.039><c> is</c><00:22:43.200><c> in</c><00:22:43.280><c> a</c><00:22:43.360><c> particular</c><00:22:43.760><c> state</c>

00:22:44.230 --> 00:22:44.240 align:start position:0%
up and the disk is in a particular state
 

00:22:44.240 --> 00:22:50.149 align:start position:0%
up and the disk is in a particular state
and<00:22:45.760><c> you</c><00:22:45.919><c> know</c><00:22:46.480><c> what</c><00:22:46.640><c> what</c><00:22:46.880><c> is</c><00:22:47.039><c> the</c><00:22:47.120><c> risk</c>

00:22:50.149 --> 00:22:50.159 align:start position:0%
 
 

00:22:50.159 --> 00:22:53.669 align:start position:0%
 
um<00:22:50.480><c> we</c><00:22:50.640><c> use</c><00:22:50.880><c> a</c><00:22:51.200><c> data</c><00:22:51.600><c> block</c><00:22:52.000><c> but</c><00:22:52.640><c> we</c><00:22:52.880><c> lose</c><00:22:53.120><c> it</c>

00:22:53.669 --> 00:22:53.679 align:start position:0%
um we use a data block but we lose it
 

00:22:53.679 --> 00:22:55.110 align:start position:0%
um we use a data block but we lose it
yeah<00:22:53.919><c> we</c><00:22:54.080><c> lose</c><00:22:54.240><c> it</c><00:22:54.400><c> again</c><00:22:54.640><c> correct</c><00:22:54.880><c> because</c>

00:22:55.110 --> 00:22:55.120 align:start position:0%
yeah we lose it again correct because
 

00:22:55.120 --> 00:22:56.870 align:start position:0%
yeah we lose it again correct because
the<00:22:55.600><c> block</c><00:22:55.919><c> is</c><00:22:56.000><c> allocated</c><00:22:56.400><c> but</c><00:22:56.559><c> it</c><00:22:56.640><c> doesn't</c>

00:22:56.870 --> 00:22:56.880 align:start position:0%
the block is allocated but it doesn't
 

00:22:56.880 --> 00:22:59.190 align:start position:0%
the block is allocated but it doesn't
show<00:22:57.039><c> up</c><00:22:57.120><c> in</c><00:22:57.280><c> any</c><00:22:57.440><c> file</c>

00:22:59.190 --> 00:22:59.200 align:start position:0%
show up in any file
 

00:22:59.200 --> 00:23:01.430 align:start position:0%
show up in any file
because<00:22:59.440><c> it</c><00:22:59.520><c> hasn't</c><00:22:59.840><c> been</c><00:23:00.559><c> written</c><00:23:00.960><c> into</c><00:23:01.200><c> any</c>

00:23:01.430 --> 00:23:01.440 align:start position:0%
because it hasn't been written into any
 

00:23:01.440 --> 00:23:08.549 align:start position:0%
because it hasn't been written into any
inode<00:23:01.760><c> so</c><00:23:01.919><c> we</c><00:23:02.080><c> lose</c><00:23:02.400><c> a</c><00:23:02.480><c> data</c><00:23:06.840><c> block</c>

00:23:08.549 --> 00:23:08.559 align:start position:0%
inode so we lose a data block
 

00:23:08.559 --> 00:23:10.070 align:start position:0%
inode so we lose a data block
so<00:23:08.720><c> you</c><00:23:08.799><c> might</c><00:23:08.960><c> think</c><00:23:09.120><c> okay</c><00:23:09.360><c> well</c><00:23:09.520><c> maybe</c><00:23:09.919><c> you</c>

00:23:10.070 --> 00:23:10.080 align:start position:0%
so you might think okay well maybe you
 

00:23:10.080 --> 00:23:11.510 align:start position:0%
so you might think okay well maybe you
know<00:23:10.240><c> just</c><00:23:10.400><c> because</c><00:23:10.640><c> we</c><00:23:10.960><c> wrote</c><00:23:11.200><c> them</c><00:23:11.360><c> in</c><00:23:11.440><c> the</c>

00:23:11.510 --> 00:23:11.520 align:start position:0%
know just because we wrote them in the
 

00:23:11.520 --> 00:23:13.029 align:start position:0%
know just because we wrote them in the
wrong<00:23:11.760><c> order</c><00:23:12.080><c> what</c><00:23:12.240><c> we</c><00:23:12.400><c> should</c><00:23:12.559><c> have</c><00:23:12.640><c> done</c>

00:23:13.029 --> 00:23:13.039 align:start position:0%
wrong order what we should have done
 

00:23:13.039 --> 00:23:15.909 align:start position:0%
wrong order what we should have done
is<00:23:14.000><c> uh</c><00:23:14.880><c> what</c><00:23:15.039><c> we</c><00:23:15.200><c> should</c><00:23:15.360><c> have</c><00:23:15.440><c> done</c><00:23:15.679><c> is</c><00:23:15.840><c> at</c>

00:23:15.909 --> 00:23:15.919 align:start position:0%
is uh what we should have done is at
 

00:23:15.919 --> 00:23:17.590 align:start position:0%
is uh what we should have done is at
first<00:23:16.159><c> write</c><00:23:16.400><c> it</c><00:23:16.480><c> in</c><00:23:16.559><c> the</c><00:23:16.640><c> inode</c>

00:23:17.590 --> 00:23:17.600 align:start position:0%
first write it in the inode
 

00:23:17.600 --> 00:23:20.789 align:start position:0%
first write it in the inode
so<00:23:17.840><c> first</c><00:23:18.080><c> write</c><00:23:18.320><c> 33</c><00:23:19.520><c> with</c><00:23:19.760><c> the</c>

00:23:20.789 --> 00:23:20.799 align:start position:0%
so first write 33 with the
 

00:23:20.799 --> 00:23:24.549 align:start position:0%
so first write 33 with the
you<00:23:20.960><c> know</c><00:23:21.039><c> with</c><00:23:21.679><c> 595</c><00:23:22.880><c> as</c><00:23:23.679><c> in</c><00:23:23.840><c> the</c><00:23:24.080><c> uh</c>

00:23:24.549 --> 00:23:24.559 align:start position:0%
you know with 595 as in the uh
 

00:23:24.559 --> 00:23:26.390 align:start position:0%
you know with 595 as in the uh
either<00:23:24.880><c> as</c><00:23:25.039><c> an</c><00:23:25.280><c> indirect</c><00:23:25.600><c> block</c><00:23:25.919><c> or</c><00:23:26.000><c> a</c><00:23:26.080><c> direct</c>

00:23:26.390 --> 00:23:26.400 align:start position:0%
either as an indirect block or a direct
 

00:23:26.400 --> 00:23:28.310 align:start position:0%
either as an indirect block or a direct
block<00:23:27.520><c> and</c><00:23:27.679><c> then</c>

00:23:28.310 --> 00:23:28.320 align:start position:0%
block and then
 

00:23:28.320 --> 00:23:30.870 align:start position:0%
block and then
you<00:23:28.400><c> know</c><00:23:28.559><c> actually</c><00:23:28.799><c> we</c><00:23:28.960><c> will</c><00:23:29.280><c> mark</c><00:23:30.240><c> the</c><00:23:30.720><c> i</c>

00:23:30.870 --> 00:23:30.880 align:start position:0%
you know actually we will mark the i
 

00:23:30.880 --> 00:23:31.510 align:start position:0%
you know actually we will mark the i
know<00:23:31.039><c> this</c>

00:23:31.510 --> 00:23:31.520 align:start position:0%
know this
 

00:23:31.520 --> 00:23:33.350 align:start position:0%
know this
the<00:23:31.760><c> block</c><00:23:32.000><c> is</c><00:23:32.159><c> allocated</c><00:23:32.559><c> so</c><00:23:32.880><c> then</c><00:23:33.120><c> we'll</c>

00:23:33.350 --> 00:23:33.360 align:start position:0%
the block is allocated so then we'll
 

00:23:33.360 --> 00:23:36.710 align:start position:0%
the block is allocated so then we'll
write<00:23:34.240><c> you</c><00:23:34.400><c> know</c><00:23:34.840><c> 45.</c>

00:23:36.710 --> 00:23:36.720 align:start position:0%
write you know 45.
 

00:23:36.720 --> 00:23:38.230 align:start position:0%
write you know 45.
right<00:23:36.880><c> so</c><00:23:37.039><c> we</c><00:23:37.200><c> change</c><00:23:37.440><c> the</c><00:23:37.520><c> order</c><00:23:37.919><c> because</c><00:23:38.159><c> we</c>

00:23:38.230 --> 00:23:38.240 align:start position:0%
right so we change the order because we
 

00:23:38.240 --> 00:23:39.750 align:start position:0%
right so we change the order because we
want<00:23:38.400><c> to</c><00:23:38.480><c> avoid</c><00:23:38.799><c> this</c><00:23:38.960><c> lost</c><00:23:39.200><c> data</c><00:23:39.440><c> block</c><00:23:39.679><c> and</c>

00:23:39.750 --> 00:23:39.760 align:start position:0%
want to avoid this lost data block and
 

00:23:39.760 --> 00:23:42.950 align:start position:0%
want to avoid this lost data block and
we<00:23:39.919><c> change</c><00:23:40.159><c> the</c><00:23:40.240><c> order</c><00:23:40.400><c> in</c><00:23:40.480><c> this</c><00:23:40.720><c> way</c>

00:23:42.950 --> 00:23:42.960 align:start position:0%
 
 

00:23:42.960 --> 00:23:44.630 align:start position:0%
 
and<00:23:43.360><c> now</c><00:23:43.600><c> let's</c><00:23:43.760><c> consider</c><00:23:44.159><c> the</c><00:23:44.320><c> case</c><00:23:44.559><c> if</c>

00:23:44.630 --> 00:23:44.640 align:start position:0%
and now let's consider the case if
 

00:23:44.640 --> 00:23:50.310 align:start position:0%
and now let's consider the case if
there's<00:23:44.880><c> a</c><00:23:44.960><c> failure</c><00:23:45.360><c> right</c><00:23:48.840><c> here</c>

00:23:50.310 --> 00:23:50.320 align:start position:0%
there's a failure right here
 

00:23:50.320 --> 00:23:56.870 align:start position:0%
there's a failure right here
what<00:23:50.559><c> is</c><00:23:50.720><c> the</c><00:23:50.880><c> risk</c>

00:23:56.870 --> 00:23:56.880 align:start position:0%
 
 

00:23:56.880 --> 00:23:59.269 align:start position:0%
 
um<00:23:57.360><c> the</c><00:23:57.679><c> size</c><00:23:58.159><c> of</c><00:23:58.320><c> the</c><00:23:58.480><c> file</c><00:23:58.880><c> is</c><00:23:58.960><c> not</c>

00:23:59.269 --> 00:23:59.279 align:start position:0%
um the size of the file is not
 

00:23:59.279 --> 00:24:00.390 align:start position:0%
um the size of the file is not
compatible<00:23:59.919><c> with</c>

00:24:00.390 --> 00:24:00.400 align:start position:0%
compatible with
 

00:24:00.400 --> 00:24:03.110 align:start position:0%
compatible with
uh<00:24:00.799><c> actually</c><00:24:01.360><c> how</c><00:24:01.520><c> many</c><00:24:02.320><c> data</c><00:24:02.640><c> blocks</c><00:24:02.960><c> are</c>

00:24:03.110 --> 00:24:03.120 align:start position:0%
uh actually how many data blocks are
 

00:24:03.120 --> 00:24:04.630 align:start position:0%
uh actually how many data blocks are
allocated

00:24:04.630 --> 00:24:04.640 align:start position:0%
allocated
 

00:24:04.640 --> 00:24:05.830 align:start position:0%
allocated
that<00:24:04.799><c> might</c><00:24:04.960><c> be</c><00:24:05.120><c> although</c><00:24:05.440><c> i</c><00:24:05.520><c> think</c><00:24:05.679><c> at</c><00:24:05.760><c> the</c>

00:24:05.830 --> 00:24:05.840 align:start position:0%
that might be although i think at the
 

00:24:05.840 --> 00:24:07.669 align:start position:0%
that might be although i think at the
right<00:24:06.080><c> of</c><00:24:06.159><c> 33</c><00:24:06.720><c> actually</c><00:24:06.960><c> update</c><00:24:07.279><c> both</c><00:24:07.520><c> the</c>

00:24:07.669 --> 00:24:07.679 align:start position:0%
right of 33 actually update both the
 

00:24:07.679 --> 00:24:09.269 align:start position:0%
right of 33 actually update both the
size<00:24:08.080><c> and</c><00:24:08.400><c> you</c><00:24:08.559><c> know</c><00:24:08.720><c> the</c>

00:24:09.269 --> 00:24:09.279 align:start position:0%
size and you know the
 

00:24:09.279 --> 00:24:13.269 align:start position:0%
size and you know the
uh<00:24:09.520><c> the</c><00:24:09.679><c> block</c><00:24:09.919><c> number</c><00:24:10.159><c> correct</c><00:24:11.760><c> oh</c><00:24:12.080><c> yeah</c>

00:24:13.269 --> 00:24:13.279 align:start position:0%
uh the block number correct oh yeah
 

00:24:13.279 --> 00:24:16.630 align:start position:0%
uh the block number correct oh yeah
so<00:24:13.520><c> that</c><00:24:13.679><c> might</c><00:24:13.840><c> be</c><00:24:14.240><c> might</c><00:24:14.400><c> work</c><00:24:14.640><c> out</c><00:24:14.799><c> okay</c>

00:24:16.630 --> 00:24:16.640 align:start position:0%
so that might be might work out okay
 

00:24:16.640 --> 00:24:18.310 align:start position:0%
so that might be might work out okay
if<00:24:16.799><c> there</c><00:24:16.960><c> were</c><00:24:17.120><c> two</c><00:24:17.279><c> separate</c><00:24:17.600><c> rights</c><00:24:18.240><c> that</c>

00:24:18.310 --> 00:24:18.320 align:start position:0%
if there were two separate rights that
 

00:24:18.320 --> 00:24:20.789 align:start position:0%
if there were two separate rights that
would<00:24:18.480><c> be</c><00:24:18.640><c> a</c><00:24:18.720><c> problem</c>

00:24:20.789 --> 00:24:20.799 align:start position:0%
would be a problem
 

00:24:20.799 --> 00:24:27.350 align:start position:0%
would be a problem
but<00:24:20.960><c> there's</c><00:24:21.120><c> some</c><00:24:21.279><c> bigger</c><00:24:21.520><c> problem</c><00:24:21.840><c> here</c>

00:24:27.350 --> 00:24:27.360 align:start position:0%
 
 

00:24:27.360 --> 00:24:31.430 align:start position:0%
 
it's<00:24:27.600><c> that</c><00:24:27.840><c> the</c><00:24:29.600><c> so</c><00:24:29.840><c> the</c><00:24:30.320><c> file</c>

00:24:31.430 --> 00:24:31.440 align:start position:0%
it's that the so the file
 

00:24:31.440 --> 00:24:35.110 align:start position:0%
it's that the so the file
has<00:24:31.760><c> a</c><00:24:33.760><c> so</c><00:24:34.080><c> thinks</c><00:24:34.400><c> that</c>

00:24:35.110 --> 00:24:35.120 align:start position:0%
has a so thinks that
 

00:24:35.120 --> 00:24:37.990 align:start position:0%
has a so thinks that
it<00:24:35.360><c> has</c><00:24:35.840><c> the</c><00:24:36.080><c> data</c><00:24:36.559><c> block</c><00:24:37.039><c> but</c><00:24:37.279><c> the</c><00:24:37.360><c> data</c><00:24:37.679><c> block</c>

00:24:37.990 --> 00:24:38.000 align:start position:0%
it has the data block but the data block
 

00:24:38.000 --> 00:24:38.950 align:start position:0%
it has the data block but the data block
is<00:24:38.159><c> marked</c><00:24:38.559><c> as</c>

00:24:38.950 --> 00:24:38.960 align:start position:0%
is marked as
 

00:24:38.960 --> 00:24:42.789 align:start position:0%
is marked as
uh<00:24:39.679><c> unallocated</c><00:24:41.039><c> and</c><00:24:41.279><c> other</c>

00:24:42.789 --> 00:24:42.799 align:start position:0%
uh unallocated and other
 

00:24:42.799 --> 00:24:45.990 align:start position:0%
uh unallocated and other
um<00:24:43.440><c> files</c><00:24:43.760><c> can</c><00:24:44.000><c> also</c><00:24:44.320><c> use</c><00:24:44.640><c> it</c><00:24:45.279><c> yeah</c><00:24:45.679><c> right</c><00:24:45.840><c> now</c>

00:24:45.990 --> 00:24:46.000 align:start position:0%
um files can also use it yeah right now
 

00:24:46.000 --> 00:24:47.669 align:start position:0%
um files can also use it yeah right now
that's<00:24:46.240><c> the</c><00:24:46.320><c> real</c><00:24:46.480><c> big</c><00:24:46.720><c> problem</c><00:24:46.960><c> here</c><00:24:47.279><c> is</c><00:24:47.360><c> that</c>

00:24:47.669 --> 00:24:47.679 align:start position:0%
that's the real big problem here is that
 

00:24:47.679 --> 00:24:48.789 align:start position:0%
that's the real big problem here is that
you<00:24:47.760><c> know</c><00:24:48.000><c> the</c>

00:24:48.789 --> 00:24:48.799 align:start position:0%
you know the
 

00:24:48.799 --> 00:24:51.269 align:start position:0%
you know the
the<00:24:48.960><c> inode</c><00:24:49.520><c> things</c><00:24:49.919><c> the</c><00:24:50.400><c> 590</c><00:24:50.880><c> from</c><00:24:50.960><c> the</c><00:24:51.039><c> block</c>

00:24:51.269 --> 00:24:51.279 align:start position:0%
the inode things the 590 from the block
 

00:24:51.279 --> 00:24:52.710 align:start position:0%
the inode things the 590 from the block
595<00:24:52.000><c> belong</c><00:24:52.240><c> to</c>

00:24:52.710 --> 00:24:52.720 align:start position:0%
595 belong to
 

00:24:52.720 --> 00:24:54.789 align:start position:0%
595 belong to
belongs<00:24:53.120><c> to</c><00:24:53.200><c> that</c><00:24:53.360><c> file</c><00:24:54.080><c> but</c><00:24:54.320><c> actually</c><00:24:54.640><c> on</c>

00:24:54.789 --> 00:24:54.799 align:start position:0%
belongs to that file but actually on
 

00:24:54.799 --> 00:24:55.990 align:start position:0%
belongs to that file but actually on
disk<00:24:55.039><c> it's</c><00:24:55.200><c> still</c><00:24:55.440><c> marked</c>

00:24:55.990 --> 00:24:56.000 align:start position:0%
disk it's still marked
 

00:24:56.000 --> 00:24:59.110 align:start position:0%
disk it's still marked
as<00:24:57.200><c> unallocated</c><00:24:58.080><c> and</c><00:24:58.400><c> so</c>

00:24:59.110 --> 00:24:59.120 align:start position:0%
as unallocated and so
 

00:24:59.120 --> 00:25:01.110 align:start position:0%
as unallocated and so
when<00:24:59.360><c> later</c><00:24:59.760><c> another</c><00:25:00.080><c> file</c><00:25:00.400><c> was</c><00:25:00.559><c> created</c><00:25:00.960><c> you</c>

00:25:01.110 --> 00:25:01.120 align:start position:0%
when later another file was created you
 

00:25:01.120 --> 00:25:03.190 align:start position:0%
when later another file was created you
know<00:25:01.279><c> that</c><00:25:01.440><c> block</c><00:25:01.760><c> actually</c><00:25:02.159><c> might</c><00:25:02.400><c> be</c>

00:25:03.190 --> 00:25:03.200 align:start position:0%
know that block actually might be
 

00:25:03.200 --> 00:25:05.669 align:start position:0%
know that block actually might be
used<00:25:03.520><c> for</c><00:25:03.600><c> that</c><00:25:03.840><c> other</c><00:25:04.000><c> file</c><00:25:05.039><c> and</c><00:25:05.279><c> so</c><00:25:05.440><c> now</c>

00:25:05.669 --> 00:25:05.679 align:start position:0%
used for that other file and so now
 

00:25:05.679 --> 00:25:06.390 align:start position:0%
used for that other file and so now
certainly

00:25:06.390 --> 00:25:06.400 align:start position:0%
certainly
 

00:25:06.400 --> 00:25:09.590 align:start position:0%
certainly
uh<00:25:07.120><c> one</c><00:25:07.360><c> file</c><00:25:07.600><c> thinks</c><00:25:07.919><c> it</c><00:25:08.080><c> owns</c><00:25:08.720><c> 595</c><00:25:09.360><c> but</c>

00:25:09.590 --> 00:25:09.600 align:start position:0%
uh one file thinks it owns 595 but
 

00:25:09.600 --> 00:25:11.110 align:start position:0%
uh one file thinks it owns 595 but
actually<00:25:09.919><c> other</c><00:25:10.080><c> file</c><00:25:10.320><c> does</c><00:25:10.640><c> and</c><00:25:10.799><c> in</c><00:25:10.880><c> fact</c>

00:25:11.110 --> 00:25:11.120 align:start position:0%
actually other file does and in fact
 

00:25:11.120 --> 00:25:13.110 align:start position:0%
actually other file does and in fact
both<00:25:11.440><c> files</c><00:25:11.760><c> will</c><00:25:12.000><c> have</c><00:25:12.159><c> 595</c>

00:25:13.110 --> 00:25:13.120 align:start position:0%
both files will have 595
 

00:25:13.120 --> 00:25:16.390 align:start position:0%
both files will have 595
in<00:25:13.200><c> their</c><00:25:14.240><c> uh</c><00:25:14.880><c> block</c><00:25:15.200><c> numbers</c><00:25:15.919><c> for</c><00:25:16.159><c> their</c>

00:25:16.390 --> 00:25:16.400 align:start position:0%
in their uh block numbers for their
 

00:25:16.400 --> 00:25:17.350 align:start position:0%
in their uh block numbers for their
inode

00:25:17.350 --> 00:25:17.360 align:start position:0%
inode
 

00:25:17.360 --> 00:25:20.470 align:start position:0%
inode
and<00:25:18.320><c> um</c><00:25:19.679><c> and</c><00:25:19.840><c> basically</c>

00:25:20.470 --> 00:25:20.480 align:start position:0%
and um and basically
 

00:25:20.480 --> 00:25:22.549 align:start position:0%
and um and basically
you<00:25:20.640><c> know</c><00:25:21.039><c> if</c><00:25:21.200><c> one</c><00:25:21.440><c> user</c><00:25:21.760><c> owns</c><00:25:22.000><c> that</c><00:25:22.240><c> file</c><00:25:22.480><c> the</c>

00:25:22.549 --> 00:25:22.559 align:start position:0%
you know if one user owns that file the
 

00:25:22.559 --> 00:25:23.669 align:start position:0%
you know if one user owns that file the
other<00:25:22.799><c> usually</c><00:25:23.039><c> on</c><00:25:23.200><c> the</c><00:25:23.279><c> other</c><00:25:23.440><c> file</c><00:25:23.600><c> the</c>

00:25:23.669 --> 00:25:23.679 align:start position:0%
other usually on the other file the
 

00:25:23.679 --> 00:25:24.870 align:start position:0%
other usually on the other file the
connection<00:25:24.080><c> reader</c><00:25:24.400><c> writes</c>

00:25:24.870 --> 00:25:24.880 align:start position:0%
connection reader writes
 

00:25:24.880 --> 00:25:27.110 align:start position:0%
connection reader writes
each<00:25:25.039><c> other's</c><00:25:25.279><c> data</c><00:25:25.760><c> right</c><00:25:25.919><c> it's</c><00:25:26.320><c> clearly</c><00:25:26.799><c> not</c>

00:25:27.110 --> 00:25:27.120 align:start position:0%
each other's data right it's clearly not
 

00:25:27.120 --> 00:25:28.230 align:start position:0%
each other's data right it's clearly not
what<00:25:27.279><c> we</c><00:25:27.520><c> want</c>

00:25:28.230 --> 00:25:28.240 align:start position:0%
what we want
 

00:25:28.240 --> 00:25:29.510 align:start position:0%
what we want
you<00:25:28.400><c> know</c><00:25:28.559><c> the</c><00:25:28.720><c> file</c><00:25:28.960><c> system</c><00:25:29.279><c> should</c>

00:25:29.510 --> 00:25:29.520 align:start position:0%
you know the file system should
 

00:25:29.520 --> 00:25:31.430 align:start position:0%
you know the file system should
guarantee<00:25:30.400><c> that</c><00:25:30.640><c> every</c><00:25:30.880><c> block</c>

00:25:31.430 --> 00:25:31.440 align:start position:0%
guarantee that every block
 

00:25:31.440 --> 00:25:33.830 align:start position:0%
guarantee that every block
only<00:25:32.240><c> belongs</c><00:25:32.640><c> in</c><00:25:32.720><c> one</c><00:25:32.960><c> file</c><00:25:33.279><c> and</c><00:25:33.440><c> no</c><00:25:33.679><c> other</c>

00:25:33.830 --> 00:25:33.840 align:start position:0%
only belongs in one file and no other
 

00:25:33.840 --> 00:25:34.710 align:start position:0%
only belongs in one file and no other
file<00:25:34.400><c> or</c>

00:25:34.710 --> 00:25:34.720 align:start position:0%
file or
 

00:25:34.720 --> 00:25:38.710 align:start position:0%
file or
is<00:25:34.880><c> free</c><00:25:37.600><c> okay</c>

00:25:38.710 --> 00:25:38.720 align:start position:0%
is free okay
 

00:25:38.720 --> 00:25:41.190 align:start position:0%
is free okay
so<00:25:38.880><c> this</c><00:25:39.039><c> could</c><00:25:39.200><c> lead</c><00:25:39.360><c> to</c><00:25:39.760><c> security</c><00:25:40.240><c> problems</c>

00:25:41.190 --> 00:25:41.200 align:start position:0%
so this could lead to security problems
 

00:25:41.200 --> 00:25:46.870 align:start position:0%
so this could lead to security problems
but<00:25:41.440><c> basically</c><00:25:41.840><c> block</c><00:25:42.080><c> is</c><00:25:42.240><c> shared</c>

00:25:46.870 --> 00:25:46.880 align:start position:0%
 
 

00:25:46.880 --> 00:25:50.070 align:start position:0%
 
among<00:25:47.200><c> multiple</c><00:25:47.600><c> files</c><00:25:49.600><c> and</c><00:25:49.760><c> that's</c>

00:25:50.070 --> 00:25:50.080 align:start position:0%
among multiple files and that's
 

00:25:50.080 --> 00:25:55.269 align:start position:0%
among multiple files and that's
definitely<00:25:50.480><c> wrong</c>

00:25:55.269 --> 00:25:55.279 align:start position:0%
 
 

00:25:55.279 --> 00:25:57.590 align:start position:0%
 
does<00:25:55.520><c> that</c><00:25:55.600><c> make</c><00:25:55.840><c> uh</c><00:25:56.159><c> sense</c><00:25:57.039><c> in</c><00:25:57.120><c> terms</c><00:25:57.440><c> of</c><00:25:57.520><c> the</c>

00:25:57.590 --> 00:25:57.600 align:start position:0%
does that make uh sense in terms of the
 

00:25:57.600 --> 00:25:59.190 align:start position:0%
does that make uh sense in terms of the
problems<00:25:57.840><c> that</c><00:25:57.919><c> can</c><00:25:58.080><c> appear</c>

00:25:59.190 --> 00:25:59.200 align:start position:0%
problems that can appear
 

00:25:59.200 --> 00:26:01.669 align:start position:0%
problems that can appear
and<00:25:59.360><c> again</c><00:25:59.679><c> you</c><00:25:59.840><c> know</c><00:26:00.000><c> this</c><00:26:00.880><c> the</c><00:26:01.039><c> real</c><00:26:01.360><c> issue</c>

00:26:01.669 --> 00:26:01.679 align:start position:0%
and again you know this the real issue
 

00:26:01.679 --> 00:26:02.549 align:start position:0%
and again you know this the real issue
here<00:26:01.840><c> is</c><00:26:02.000><c> not</c><00:26:02.159><c> to</c><00:26:02.240><c> watch</c>

00:26:02.549 --> 00:26:02.559 align:start position:0%
here is not to watch
 

00:26:02.559 --> 00:26:04.470 align:start position:0%
here is not to watch
the<00:26:02.720><c> ordering</c><00:26:03.200><c> of</c><00:26:03.279><c> the</c><00:26:03.440><c> rights</c><00:26:04.080><c> uh</c><00:26:04.240><c> but</c><00:26:04.400><c> the</c>

00:26:04.470 --> 00:26:04.480 align:start position:0%
the ordering of the rights uh but the
 

00:26:04.480 --> 00:26:05.909 align:start position:0%
the ordering of the rights uh but the
real<00:26:04.799><c> underlying</c><00:26:05.279><c> problem</c><00:26:05.520><c> here</c><00:26:05.760><c> is</c><00:26:05.840><c> that</c>

00:26:05.909 --> 00:26:05.919 align:start position:0%
real underlying problem here is that
 

00:26:05.919 --> 00:26:07.350 align:start position:0%
real underlying problem here is that
we're<00:26:06.080><c> just</c><00:26:06.240><c> doing</c><00:26:06.480><c> multiple</c><00:26:06.880><c> writes</c><00:26:07.279><c> and</c>

00:26:07.350 --> 00:26:07.360 align:start position:0%
we're just doing multiple writes and
 

00:26:07.360 --> 00:26:09.110 align:start position:0%
we're just doing multiple writes and
then<00:26:07.600><c> basically</c><00:26:08.080><c> have</c><00:26:08.240><c> to</c><00:26:08.400><c> sort</c><00:26:08.559><c> of</c><00:26:08.720><c> show</c><00:26:08.960><c> up</c>

00:26:09.110 --> 00:26:09.120 align:start position:0%
then basically have to sort of show up
 

00:26:09.120 --> 00:26:10.070 align:start position:0%
then basically have to sort of show up
on<00:26:09.279><c> disk</c>

00:26:10.070 --> 00:26:10.080 align:start position:0%
on disk
 

00:26:10.080 --> 00:26:18.870 align:start position:0%
on disk
as<00:26:11.200><c> an</c><00:26:11.360><c> atomic</c><00:26:11.919><c> operation</c>

00:26:18.870 --> 00:26:18.880 align:start position:0%
 
 

00:26:18.880 --> 00:26:23.909 align:start position:0%
 
okay<00:26:20.159><c> so</c><00:26:20.320><c> the</c><00:26:20.400><c> solution</c><00:26:21.600><c> that</c><00:26:21.760><c> we're</c><00:26:22.840><c> gonna</c>

00:26:23.909 --> 00:26:23.919 align:start position:0%
okay so the solution that we're gonna
 

00:26:23.919 --> 00:26:24.549 align:start position:0%
okay so the solution that we're gonna
explore

00:26:24.549 --> 00:26:24.559 align:start position:0%
explore
 

00:26:24.559 --> 00:26:28.230 align:start position:0%
explore
in<00:26:24.720><c> this</c><00:26:24.880><c> lecture</c><00:26:25.440><c> is</c><00:26:25.760><c> you</c><00:26:25.919><c> know</c><00:26:26.080><c> logging</c>

00:26:28.230 --> 00:26:28.240 align:start position:0%
in this lecture is you know logging
 

00:26:28.240 --> 00:26:31.990 align:start position:0%
in this lecture is you know logging
and<00:26:28.480><c> as</c><00:26:28.640><c> i</c><00:26:28.720><c> said</c><00:26:28.880><c> before</c><00:26:29.120><c> this</c><00:26:29.279><c> is</c><00:26:29.440><c> a</c>

00:26:31.990 --> 00:26:32.000 align:start position:0%
 
 

00:26:32.000 --> 00:26:33.990 align:start position:0%
 
a<00:26:32.080><c> common</c><00:26:32.400><c> solution</c><00:26:32.799><c> used</c><00:26:33.120><c> in</c><00:26:33.279><c> file</c><00:26:33.520><c> systems</c>

00:26:33.990 --> 00:26:34.000 align:start position:0%
a common solution used in file systems
 

00:26:34.000 --> 00:26:35.110 align:start position:0%
a common solution used in file systems
and

00:26:35.110 --> 00:26:35.120 align:start position:0%
and
 

00:26:35.120 --> 00:26:36.950 align:start position:0%
and
originating<00:26:35.679><c> actually</c><00:26:36.000><c> out</c><00:26:36.159><c> of</c><00:26:36.240><c> the</c><00:26:36.480><c> database</c>

00:26:36.950 --> 00:26:36.960 align:start position:0%
originating actually out of the database
 

00:26:36.960 --> 00:26:38.870 align:start position:0%
originating actually out of the database
literature<00:26:37.760><c> and</c><00:26:37.919><c> it</c><00:26:38.080><c> actually</c><00:26:38.320><c> has</c><00:26:38.559><c> a</c><00:26:38.640><c> couple</c>

00:26:38.870 --> 00:26:38.880 align:start position:0%
literature and it actually has a couple
 

00:26:38.880 --> 00:26:39.990 align:start position:0%
literature and it actually has a couple
good<00:26:39.120><c> properties</c>

00:26:39.990 --> 00:26:40.000 align:start position:0%
good properties
 

00:26:40.000 --> 00:26:42.310 align:start position:0%
good properties
one<00:26:40.400><c> it's</c><00:26:40.640><c> going</c><00:26:40.720><c> to</c><00:26:40.799><c> make</c><00:26:41.039><c> basically</c><00:26:41.919><c> system</c>

00:26:42.310 --> 00:26:42.320 align:start position:0%
one it's going to make basically system
 

00:26:42.320 --> 00:26:47.510 align:start position:0%
one it's going to make basically system
calls<00:26:42.799><c> or</c><00:26:42.960><c> file</c><00:26:43.200><c> system</c><00:26:43.520><c> calls</c><00:26:43.840><c> atomic</c>

00:26:47.510 --> 00:26:47.520 align:start position:0%
 
 

00:26:47.520 --> 00:26:50.710 align:start position:0%
 
with<00:26:47.679><c> that</c><00:26:47.919><c> i</c><00:26:48.000><c> mean</c><00:26:48.640><c> so</c><00:26:48.880><c> if</c><00:26:49.120><c> a</c><00:26:49.520><c> create</c><00:26:49.919><c> file</c><00:26:50.400><c> or</c>

00:26:50.710 --> 00:26:50.720 align:start position:0%
with that i mean so if a create file or
 

00:26:50.720 --> 00:26:51.269 align:start position:0%
with that i mean so if a create file or
you<00:26:50.799><c> know</c>

00:26:51.269 --> 00:26:51.279 align:start position:0%
you know
 

00:26:51.279 --> 00:26:53.029 align:start position:0%
you know
you<00:26:51.360><c> call</c><00:26:51.600><c> create</c><00:26:52.000><c> or</c><00:26:52.159><c> you</c><00:26:52.240><c> call</c><00:26:52.480><c> write</c>

00:26:53.029 --> 00:26:53.039 align:start position:0%
you call create or you call write
 

00:26:53.039 --> 00:26:54.630 align:start position:0%
you call create or you call write
basically<00:26:53.600><c> all</c><00:26:53.840><c> the</c><00:26:54.000><c> effects</c>

00:26:54.630 --> 00:26:54.640 align:start position:0%
basically all the effects
 

00:26:54.640 --> 00:26:56.789 align:start position:0%
basically all the effects
of<00:26:54.799><c> the</c><00:26:55.039><c> that</c><00:26:55.279><c> system</c><00:26:55.600><c> call</c><00:26:55.919><c> just</c><00:26:56.159><c> all</c><00:26:56.320><c> appear</c>

00:26:56.789 --> 00:26:56.799 align:start position:0%
of the that system call just all appear
 

00:26:56.799 --> 00:26:58.390 align:start position:0%
of the that system call just all appear
altogether<00:26:57.440><c> or</c><00:26:57.600><c> none</c><00:26:57.840><c> of</c><00:26:57.919><c> them</c>

00:26:58.390 --> 00:26:58.400 align:start position:0%
altogether or none of them
 

00:26:58.400 --> 00:27:01.909 align:start position:0%
altogether or none of them
so<00:26:58.559><c> that</c><00:26:58.799><c> avoids</c><00:26:59.200><c> this</c><00:26:59.360><c> sort</c><00:26:59.520><c> of</c><00:27:00.320><c> problem</c><00:27:00.799><c> of</c>

00:27:01.909 --> 00:27:01.919 align:start position:0%
so that avoids this sort of problem of
 

00:27:01.919 --> 00:27:03.990 align:start position:0%
so that avoids this sort of problem of
only<00:27:02.480><c> some</c><00:27:02.720><c> subset</c><00:27:03.120><c> of</c><00:27:03.200><c> the</c><00:27:03.360><c> rights</c><00:27:03.679><c> actually</c>

00:27:03.990 --> 00:27:04.000 align:start position:0%
only some subset of the rights actually
 

00:27:04.000 --> 00:27:07.350 align:start position:0%
only some subset of the rights actually
showing<00:27:04.320><c> up</c><00:27:04.400><c> on</c><00:27:04.840><c> disk</c>

00:27:07.350 --> 00:27:07.360 align:start position:0%
showing up on disk
 

00:27:07.360 --> 00:27:09.430 align:start position:0%
showing up on disk
the<00:27:07.520><c> second</c><00:27:07.840><c> good</c><00:27:08.080><c> property</c><00:27:08.480><c> it</c><00:27:08.640><c> has</c><00:27:09.279><c> it</c>

00:27:09.430 --> 00:27:09.440 align:start position:0%
the second good property it has it
 

00:27:09.440 --> 00:27:12.789 align:start position:0%
the second good property it has it
allows<00:27:09.760><c> for</c><00:27:09.919><c> fast</c><00:27:10.240><c> recovery</c>

00:27:12.789 --> 00:27:12.799 align:start position:0%
 
 

00:27:12.799 --> 00:27:15.590 align:start position:0%
 
so<00:27:13.039><c> after</c><00:27:13.360><c> reboot</c><00:27:14.799><c> it</c><00:27:14.880><c> turns</c><00:27:15.120><c> out</c><00:27:15.279><c> we</c><00:27:15.440><c> don't</c>

00:27:15.590 --> 00:27:15.600 align:start position:0%
so after reboot it turns out we don't
 

00:27:15.600 --> 00:27:17.029 align:start position:0%
so after reboot it turns out we don't
actually<00:27:15.840><c> have</c><00:27:15.919><c> to</c><00:27:16.000><c> do</c><00:27:16.159><c> a</c><00:27:16.159><c> lot</c><00:27:16.400><c> of</c><00:27:16.480><c> work</c><00:27:16.880><c> to</c>

00:27:17.029 --> 00:27:17.039 align:start position:0%
actually have to do a lot of work to
 

00:27:17.039 --> 00:27:18.230 align:start position:0%
actually have to do a lot of work to
repair<00:27:17.360><c> the</c><00:27:17.520><c> file</c><00:27:17.760><c> system</c>

00:27:18.230 --> 00:27:18.240 align:start position:0%
repair the file system
 

00:27:18.240 --> 00:27:21.110 align:start position:0%
repair the file system
actually<00:27:18.559><c> a</c><00:27:18.640><c> very</c><00:27:18.880><c> minimal</c><00:27:19.200><c> amount</c><00:27:19.360><c> of</c><00:27:19.440><c> work</c>

00:27:21.110 --> 00:27:21.120 align:start position:0%
actually a very minimal amount of work
 

00:27:21.120 --> 00:27:22.389 align:start position:0%
actually a very minimal amount of work
and<00:27:21.200><c> this</c><00:27:21.360><c> is</c><00:27:21.520><c> in</c><00:27:21.600><c> contrast</c><00:27:22.159><c> to</c>

00:27:22.389 --> 00:27:22.399 align:start position:0%
and this is in contrast to
 

00:27:22.399 --> 00:27:24.389 align:start position:0%
and this is in contrast to
some<00:27:22.640><c> other</c><00:27:22.799><c> solution</c><00:27:23.360><c> that</c><00:27:23.760><c> i'm</c><00:27:23.919><c> not</c><00:27:24.080><c> talking</c>

00:27:24.389 --> 00:27:24.399 align:start position:0%
some other solution that i'm not talking
 

00:27:24.399 --> 00:27:25.590 align:start position:0%
some other solution that i'm not talking
about<00:27:24.720><c> which</c><00:27:24.960><c> is</c><00:27:25.039><c> basically</c>

00:27:25.590 --> 00:27:25.600 align:start position:0%
about which is basically
 

00:27:25.600 --> 00:27:27.830 align:start position:0%
about which is basically
you<00:27:25.760><c> go</c><00:27:26.000><c> and</c><00:27:26.159><c> inspect</c><00:27:26.559><c> the</c><00:27:26.640><c> file</c><00:27:26.960><c> system</c><00:27:27.600><c> and</c>

00:27:27.830 --> 00:27:27.840 align:start position:0%
you go and inspect the file system and
 

00:27:27.840 --> 00:27:29.029 align:start position:0%
you go and inspect the file system and
maybe<00:27:28.080><c> you</c><00:27:28.159><c> read</c><00:27:28.399><c> all</c><00:27:28.480><c> the</c><00:27:28.640><c> blocks</c><00:27:28.880><c> of</c><00:27:28.960><c> the</c>

00:27:29.029 --> 00:27:29.039 align:start position:0%
maybe you read all the blocks of the
 

00:27:29.039 --> 00:27:31.110 align:start position:0%
maybe you read all the blocks of the
file<00:27:29.279><c> system</c><00:27:29.679><c> or</c><00:27:29.840><c> read</c><00:27:30.080><c> all</c><00:27:30.159><c> the</c><00:27:30.320><c> inode</c><00:27:30.720><c> blocks</c>

00:27:31.110 --> 00:27:31.120 align:start position:0%
file system or read all the inode blocks
 

00:27:31.120 --> 00:27:33.830 align:start position:0%
file system or read all the inode blocks
read<00:27:31.360><c> all</c><00:27:31.520><c> the</c><00:27:31.760><c> bitmap</c><00:27:32.159><c> blocks</c><00:27:32.960><c> and</c><00:27:33.200><c> so</c><00:27:33.520><c> check</c>

00:27:33.830 --> 00:27:33.840 align:start position:0%
read all the bitmap blocks and so check
 

00:27:33.840 --> 00:27:35.430 align:start position:0%
read all the bitmap blocks and so check
out<00:27:34.000><c> whether</c><00:27:34.320><c> the</c><00:27:34.480><c> file</c><00:27:34.720><c> system</c><00:27:35.039><c> is</c><00:27:35.120><c> still</c><00:27:35.360><c> in</c>

00:27:35.430 --> 00:27:35.440 align:start position:0%
out whether the file system is still in
 

00:27:35.440 --> 00:27:36.870 align:start position:0%
out whether the file system is still in
the<00:27:35.600><c> correct</c><00:27:35.840><c> shape</c><00:27:36.080><c> and</c><00:27:36.240><c> maybe</c><00:27:36.480><c> repair</c>

00:27:36.870 --> 00:27:36.880 align:start position:0%
the correct shape and maybe repair
 

00:27:36.880 --> 00:27:38.789 align:start position:0%
the correct shape and maybe repair
things

00:27:38.789 --> 00:27:38.799 align:start position:0%
things
 

00:27:38.799 --> 00:27:40.630 align:start position:0%
things
logging<00:27:39.200><c> has</c><00:27:39.360><c> this</c><00:27:39.840><c> nice</c><00:27:40.000><c> property</c><00:27:40.399><c> that</c>

00:27:40.630 --> 00:27:40.640 align:start position:0%
logging has this nice property that
 

00:27:40.640 --> 00:27:42.870 align:start position:0%
logging has this nice property that
actually<00:27:40.880><c> the</c><00:27:41.039><c> recovery</c><00:27:41.600><c> is</c><00:27:41.679><c> fast</c>

00:27:42.870 --> 00:27:42.880 align:start position:0%
actually the recovery is fast
 

00:27:42.880 --> 00:27:45.430 align:start position:0%
actually the recovery is fast
and<00:27:43.039><c> then</c><00:27:43.200><c> finally</c><00:27:43.600><c> it</c><00:27:43.760><c> is</c><00:27:43.919><c> in</c><00:27:44.000><c> principle</c><00:27:45.279><c> it</c>

00:27:45.430 --> 00:27:45.440 align:start position:0%
and then finally it is in principle it
 

00:27:45.440 --> 00:27:47.510 align:start position:0%
and then finally it is in principle it
can<00:27:45.600><c> be</c><00:27:45.679><c> actually</c><00:27:45.919><c> very</c><00:27:46.159><c> high</c><00:27:46.320><c> performance</c>

00:27:47.510 --> 00:27:47.520 align:start position:0%
can be actually very high performance
 

00:27:47.520 --> 00:27:50.070 align:start position:0%
can be actually very high performance
although<00:27:47.840><c> the</c><00:27:48.000><c> one</c><00:27:48.880><c> you</c><00:27:49.039><c> know</c><00:27:49.679><c> the</c><00:27:49.760><c> one</c><00:27:49.919><c> we're</c>

00:27:50.070 --> 00:27:50.080 align:start position:0%
although the one you know the one we're
 

00:27:50.080 --> 00:27:51.190 align:start position:0%
although the one you know the one we're
going<00:27:50.159><c> to</c><00:27:50.240><c> be</c><00:27:50.320><c> looking</c><00:27:50.559><c> in</c><00:27:50.640><c> the</c><00:27:50.720><c> context</c><00:27:51.039><c> of</c>

00:27:51.190 --> 00:27:51.200 align:start position:0%
going to be looking in the context of
 

00:27:51.200 --> 00:27:52.950 align:start position:0%
going to be looking in the context of
xv6<00:27:51.760><c> is</c><00:27:51.840><c> not</c><00:27:52.000><c> high</c><00:27:52.159><c> performance</c>

00:27:52.950 --> 00:27:52.960 align:start position:0%
xv6 is not high performance
 

00:27:52.960 --> 00:27:55.029 align:start position:0%
xv6 is not high performance
so<00:27:53.120><c> we're</c><00:27:53.279><c> going</c><00:27:53.360><c> to</c><00:27:53.600><c> look</c><00:27:53.840><c> at</c><00:27:53.919><c> that</c><00:27:54.559><c> next</c><00:27:54.799><c> week</c>

00:27:55.029 --> 00:27:55.039 align:start position:0%
so we're going to look at that next week
 

00:27:55.039 --> 00:27:56.230 align:start position:0%
so we're going to look at that next week
we'll<00:27:55.200><c> see</c><00:27:55.520><c> actually</c><00:27:55.679><c> how</c><00:27:55.840><c> to</c><00:27:56.000><c> build</c><00:27:56.159><c> a</c>

00:27:56.230 --> 00:27:56.240 align:start position:0%
we'll see actually how to build a
 

00:27:56.240 --> 00:27:57.510 align:start position:0%
we'll see actually how to build a
logging<00:27:56.559><c> system</c><00:27:56.880><c> that</c>

00:27:57.510 --> 00:27:57.520 align:start position:0%
logging system that
 

00:27:57.520 --> 00:27:59.750 align:start position:0%
logging system that
has<00:27:58.240><c> atomic</c><00:27:58.640><c> file</c><00:27:58.880><c> system</c><00:27:59.120><c> calls</c><00:27:59.440><c> fast</c>

00:27:59.750 --> 00:27:59.760 align:start position:0%
has atomic file system calls fast
 

00:27:59.760 --> 00:28:01.590 align:start position:0%
has atomic file system calls fast
recovery<00:28:00.320><c> and</c><00:28:00.559><c> high</c><00:28:00.720><c> performance</c><00:28:01.279><c> today</c>

00:28:01.590 --> 00:28:01.600 align:start position:0%
recovery and high performance today
 

00:28:01.600 --> 00:28:02.710 align:start position:0%
recovery and high performance today
we're<00:28:01.760><c> going</c><00:28:01.840><c> to</c><00:28:01.919><c> be</c><00:28:02.000><c> just</c><00:28:02.159><c> focusing</c><00:28:02.559><c> on</c><00:28:02.640><c> the</c>

00:28:02.710 --> 00:28:02.720 align:start position:0%
we're going to be just focusing on the
 

00:28:02.720 --> 00:28:05.590 align:start position:0%
we're going to be just focusing on the
first<00:28:02.960><c> two</c>

00:28:05.590 --> 00:28:05.600 align:start position:0%
 
 

00:28:05.600 --> 00:28:08.950 align:start position:0%
 
okay<00:28:06.720><c> the</c><00:28:06.960><c> basic</c><00:28:07.520><c> idea</c><00:28:08.000><c> of</c><00:28:08.240><c> logging</c>

00:28:08.950 --> 00:28:08.960 align:start position:0%
okay the basic idea of logging
 

00:28:08.960 --> 00:28:12.230 align:start position:0%
okay the basic idea of logging
is<00:28:09.279><c> actually</c><00:28:09.600><c> straightforward</c>

00:28:12.230 --> 00:28:12.240 align:start position:0%
is actually straightforward
 

00:28:12.240 --> 00:28:13.669 align:start position:0%
is actually straightforward
and<00:28:12.559><c> so</c><00:28:12.799><c> basically</c><00:28:13.120><c> what</c><00:28:13.279><c> you</c><00:28:13.360><c> do</c><00:28:13.520><c> is</c><00:28:13.600><c> you</c>

00:28:13.669 --> 00:28:13.679 align:start position:0%
and so basically what you do is you
 

00:28:13.679 --> 00:28:16.470 align:start position:0%
and so basically what you do is you
divide<00:28:14.000><c> the</c><00:28:14.159><c> disk</c><00:28:14.720><c> in</c><00:28:14.880><c> sort</c><00:28:15.039><c> of</c><00:28:15.120><c> two</c><00:28:15.279><c> pieces</c>

00:28:16.470 --> 00:28:16.480 align:start position:0%
divide the disk in sort of two pieces
 

00:28:16.480 --> 00:28:20.389 align:start position:0%
divide the disk in sort of two pieces
it<00:28:16.720><c> runs</c><00:28:17.039><c> the</c><00:28:17.200><c> log</c><00:28:18.000><c> one</c><00:28:18.240><c> is</c><00:28:18.399><c> the</c><00:28:18.559><c> file</c><00:28:18.799><c> system</c>

00:28:20.389 --> 00:28:20.399 align:start position:0%
it runs the log one is the file system
 

00:28:20.399 --> 00:28:21.909 align:start position:0%
it runs the log one is the file system
and<00:28:20.640><c> the</c><00:28:20.720><c> file</c><00:28:20.880><c> system</c><00:28:21.120><c> might</c><00:28:21.279><c> be</c><00:28:21.440><c> much</c><00:28:21.679><c> bigger</c>

00:28:21.909 --> 00:28:21.919 align:start position:0%
and the file system might be much bigger
 

00:28:21.919 --> 00:28:24.070 align:start position:0%
and the file system might be much bigger
than<00:28:22.080><c> the</c><00:28:22.159><c> log</c>

00:28:24.070 --> 00:28:24.080 align:start position:0%
than the log
 

00:28:24.080 --> 00:28:27.669 align:start position:0%
than the log
and<00:28:24.880><c> when</c><00:28:25.840><c> uh</c><00:28:26.559><c> you</c><00:28:26.720><c> need</c><00:28:26.880><c> to</c><00:28:27.039><c> update</c><00:28:27.279><c> the</c><00:28:27.360><c> file</c>

00:28:27.669 --> 00:28:27.679 align:start position:0%
and when uh you need to update the file
 

00:28:27.679 --> 00:28:28.789 align:start position:0%
and when uh you need to update the file
system<00:28:27.919><c> so</c><00:28:28.240><c> update</c>

00:28:28.789 --> 00:28:28.799 align:start position:0%
system so update
 

00:28:28.799 --> 00:28:32.310 align:start position:0%
system so update
let's<00:28:29.039><c> say</c><00:28:29.600><c> block</c><00:28:30.080><c> 33</c><00:28:30.720><c> or</c><00:28:31.440><c> update</c><00:28:31.840><c> the</c><00:28:31.919><c> bitmap</c>

00:28:32.310 --> 00:28:32.320 align:start position:0%
let's say block 33 or update the bitmap
 

00:28:32.320 --> 00:28:33.269 align:start position:0%
let's say block 33 or update the bitmap
block

00:28:33.269 --> 00:28:33.279 align:start position:0%
block
 

00:28:33.279 --> 00:28:34.950 align:start position:0%
block
we're<00:28:33.520><c> actually</c><00:28:33.840><c> not</c><00:28:34.159><c> going</c><00:28:34.240><c> to</c><00:28:34.399><c> update</c><00:28:34.880><c> you</c>

00:28:34.950 --> 00:28:34.960 align:start position:0%
we're actually not going to update you
 

00:28:34.960 --> 00:28:36.789 align:start position:0%
we're actually not going to update you
know<00:28:35.120><c> the</c><00:28:35.200><c> file</c><00:28:35.440><c> system</c><00:28:35.760><c> blocks</c><00:28:36.159><c> so</c>

00:28:36.789 --> 00:28:36.799 align:start position:0%
know the file system blocks so
 

00:28:36.799 --> 00:28:38.230 align:start position:0%
know the file system blocks so
we're<00:28:36.960><c> not</c><00:28:37.200><c> going</c><00:28:37.279><c> to</c><00:28:37.360><c> update</c><00:28:37.760><c> the</c><00:28:37.840><c> bitmap</c>

00:28:38.230 --> 00:28:38.240 align:start position:0%
we're not going to update the bitmap
 

00:28:38.240 --> 00:28:40.070 align:start position:0%
we're not going to update the bitmap
block<00:28:38.480><c> directly</c><00:28:38.880><c> instead</c><00:28:39.360><c> the</c><00:28:39.520><c> only</c><00:28:39.919><c> thing</c>

00:28:40.070 --> 00:28:40.080 align:start position:0%
block directly instead the only thing
 

00:28:40.080 --> 00:28:41.669 align:start position:0%
block directly instead the only thing
we're<00:28:40.240><c> going</c><00:28:40.320><c> to</c><00:28:40.399><c> do</c><00:28:40.640><c> on</c><00:28:40.720><c> the</c><00:28:40.880><c> right</c>

00:28:41.669 --> 00:28:41.679 align:start position:0%
we're going to do on the right
 

00:28:41.679 --> 00:28:44.549 align:start position:0%
we're going to do on the right
is<00:28:42.480><c> so</c><00:28:42.720><c> here's</c><00:28:43.039><c> our</c><00:28:43.520><c> you</c><00:28:43.679><c> know</c><00:28:43.840><c> memory</c><00:28:44.320><c> we</c><00:28:44.399><c> have</c>

00:28:44.549 --> 00:28:44.559 align:start position:0%
is so here's our you know memory we have
 

00:28:44.559 --> 00:28:45.830 align:start position:0%
is so here's our you know memory we have
a<00:28:44.640><c> block</c><00:28:44.880><c> in</c><00:28:45.039><c> memory</c>

00:28:45.830 --> 00:28:45.840 align:start position:0%
a block in memory
 

00:28:45.840 --> 00:28:48.389 align:start position:0%
a block in memory
this<00:28:46.000><c> is</c><00:28:46.080><c> say</c><00:28:46.320><c> the</c><00:28:46.399><c> bitmap</c><00:28:46.799><c> block</c><00:28:48.000><c> like</c><00:28:48.240><c> it's</c>

00:28:48.389 --> 00:28:48.399 align:start position:0%
this is say the bitmap block like it's
 

00:28:48.399 --> 00:28:49.510 align:start position:0%
this is say the bitmap block like it's
45

00:28:49.510 --> 00:28:49.520 align:start position:0%
45
 

00:28:49.520 --> 00:28:51.669 align:start position:0%
45
and<00:28:49.679><c> instead</c><00:28:50.000><c> of</c><00:28:50.159><c> writing</c><00:28:50.480><c> it</c><00:28:50.559><c> to</c><00:28:50.720><c> 45</c><00:28:51.360><c> what</c><00:28:51.600><c> we</c>

00:28:51.669 --> 00:28:51.679 align:start position:0%
and instead of writing it to 45 what we
 

00:28:51.679 --> 00:28:52.950 align:start position:0%
and instead of writing it to 45 what we
normally<00:28:52.159><c> would</c><00:28:52.320><c> have</c><00:28:52.399><c> done</c>

00:28:52.950 --> 00:28:52.960 align:start position:0%
normally would have done
 

00:28:52.960 --> 00:28:53.990 align:start position:0%
normally would have done
what<00:28:53.120><c> we're</c><00:28:53.279><c> going</c><00:28:53.279><c> to</c><00:28:53.360><c> do</c><00:28:53.520><c> is</c><00:28:53.679><c> actually</c><00:28:53.919><c> going</c>

00:28:53.990 --> 00:28:54.000 align:start position:0%
what we're going to do is actually going
 

00:28:54.000 --> 00:28:55.990 align:start position:0%
what we're going to do is actually going
to<00:28:54.159><c> write</c><00:28:54.399><c> it</c><00:28:54.559><c> into</c><00:28:54.799><c> the</c><00:28:54.960><c> log</c><00:28:55.600><c> so</c><00:28:55.760><c> we're</c><00:28:55.919><c> going</c>

00:28:55.990 --> 00:28:56.000 align:start position:0%
to write it into the log so we're going
 

00:28:56.000 --> 00:28:57.029 align:start position:0%
to write it into the log so we're going
to<00:28:56.080><c> stick</c><00:28:56.320><c> it</c><00:28:56.480><c> here</c>

00:28:57.029 --> 00:28:57.039 align:start position:0%
to stick it here
 

00:28:57.039 --> 00:28:58.950 align:start position:0%
to stick it here
and<00:28:57.200><c> remember</c><00:28:57.679><c> that</c><00:28:57.919><c> actually</c><00:28:58.399><c> should</c><00:28:58.640><c> go</c><00:28:58.799><c> to</c>

00:28:58.950 --> 00:28:58.960 align:start position:0%
and remember that actually should go to
 

00:28:58.960 --> 00:29:00.950 align:start position:0%
and remember that actually should go to
45

00:29:00.950 --> 00:29:00.960 align:start position:0%
45
 

00:29:00.960 --> 00:29:03.110 align:start position:0%
45
but<00:29:01.120><c> we</c><00:29:01.279><c> don't</c><00:29:01.440><c> put</c><00:29:01.600><c> it</c><00:29:01.679><c> there</c><00:29:02.559><c> and</c><00:29:02.720><c> we</c><00:29:02.799><c> do</c><00:29:02.960><c> that</c>

00:29:03.110 --> 00:29:03.120 align:start position:0%
but we don't put it there and we do that
 

00:29:03.120 --> 00:29:04.470 align:start position:0%
but we don't put it there and we do that
with<00:29:03.279><c> all</c><00:29:03.360><c> the</c><00:29:03.520><c> other</c><00:29:03.679><c> rights</c><00:29:03.919><c> too</c><00:29:04.240><c> so</c><00:29:04.399><c> for</c>

00:29:04.470 --> 00:29:04.480 align:start position:0%
with all the other rights too so for
 

00:29:04.480 --> 00:29:06.070 align:start position:0%
with all the other rights too so for
example<00:29:04.799><c> we'll</c><00:29:05.039><c> put</c><00:29:05.279><c> our</c>

00:29:06.070 --> 00:29:06.080 align:start position:0%
example we'll put our
 

00:29:06.080 --> 00:29:09.110 align:start position:0%
example we'll put our
inode<00:29:07.600><c> block</c><00:29:07.919><c> there</c><00:29:08.320><c> you</c><00:29:08.480><c> know</c><00:29:08.559><c> that</c><00:29:08.720><c> was</c><00:29:08.960><c> like</c>

00:29:09.110 --> 00:29:09.120 align:start position:0%
inode block there you know that was like
 

00:29:09.120 --> 00:29:10.950 align:start position:0%
inode block there you know that was like
maybe<00:29:09.440><c> 33</c><00:29:10.399><c> i</c><00:29:10.480><c> think</c>

00:29:10.950 --> 00:29:10.960 align:start position:0%
maybe 33 i think
 

00:29:10.960 --> 00:29:13.029 align:start position:0%
maybe 33 i think
if<00:29:11.120><c> i</c><00:29:11.200><c> remember</c><00:29:11.520><c> correctly</c><00:29:12.399><c> and</c><00:29:12.640><c> we'll</c><00:29:12.880><c> stick</c>

00:29:13.029 --> 00:29:13.039 align:start position:0%
if i remember correctly and we'll stick
 

00:29:13.039 --> 00:29:14.310 align:start position:0%
if i remember correctly and we'll stick
it<00:29:13.200><c> in</c><00:29:13.279><c> there</c><00:29:13.760><c> and</c>

00:29:14.310 --> 00:29:14.320 align:start position:0%
it in there and
 

00:29:14.320 --> 00:29:15.830 align:start position:0%
it in there and
you<00:29:14.399><c> know</c><00:29:14.880><c> remember</c><00:29:15.279><c> that</c><00:29:15.440><c> it</c><00:29:15.520><c> actually</c><00:29:15.760><c> has</c>

00:29:15.830 --> 00:29:15.840 align:start position:0%
you know remember that it actually has
 

00:29:15.840 --> 00:29:18.710 align:start position:0%
you know remember that it actually has
to<00:29:15.919><c> go</c><00:29:16.080><c> to</c><00:29:16.159><c> 33.</c>

00:29:18.710 --> 00:29:18.720 align:start position:0%
to go to 33.
 

00:29:18.720 --> 00:29:20.950 align:start position:0%
to go to 33.
so<00:29:18.960><c> basically</c><00:29:19.279><c> what</c><00:29:19.440><c> we</c><00:29:19.600><c> do</c><00:29:19.919><c> any</c><00:29:20.240><c> right</c><00:29:20.640><c> is</c>

00:29:20.950 --> 00:29:20.960 align:start position:0%
so basically what we do any right is
 

00:29:20.960 --> 00:29:24.549 align:start position:0%
so basically what we do any right is
first<00:29:21.360><c> walked</c>

00:29:24.549 --> 00:29:24.559 align:start position:0%
 
 

00:29:24.559 --> 00:29:26.230 align:start position:0%
 
and<00:29:24.799><c> so</c><00:29:24.960><c> we</c><00:29:25.120><c> don't</c><00:29:25.440><c> write</c><00:29:25.600><c> directly</c><00:29:26.000><c> to</c><00:29:26.159><c> the</c>

00:29:26.230 --> 00:29:26.240 align:start position:0%
and so we don't write directly to the
 

00:29:26.240 --> 00:29:28.149 align:start position:0%
and so we don't write directly to the
home<00:29:26.480><c> location</c><00:29:26.960><c> of</c><00:29:27.039><c> the</c><00:29:27.200><c> block</c><00:29:27.440><c> but</c><00:29:27.600><c> we</c><00:29:27.760><c> just</c>

00:29:28.149 --> 00:29:28.159 align:start position:0%
home location of the block but we just
 

00:29:28.159 --> 00:29:31.110 align:start position:0%
home location of the block but we just
put<00:29:28.320><c> it</c><00:29:28.480><c> always</c><00:29:28.720><c> in</c><00:29:28.799><c> the</c><00:29:29.360><c> in</c><00:29:29.440><c> the</c><00:29:29.600><c> log</c><00:29:30.799><c> then</c><00:29:31.039><c> at</c>

00:29:31.110 --> 00:29:31.120 align:start position:0%
put it always in the in the log then at
 

00:29:31.120 --> 00:29:32.789 align:start position:0%
put it always in the in the log then at
some<00:29:31.279><c> point</c><00:29:31.679><c> you</c><00:29:31.760><c> know</c><00:29:31.919><c> when</c><00:29:32.000><c> the</c><00:29:32.159><c> file</c><00:29:32.320><c> system</c>

00:29:32.789 --> 00:29:32.799 align:start position:0%
some point you know when the file system
 

00:29:32.799 --> 00:29:34.789 align:start position:0%
some point you know when the file system
operation<00:29:33.279><c> is</c><00:29:33.679><c> done</c><00:29:34.080><c> you</c><00:29:34.159><c> know</c><00:29:34.320><c> for</c><00:29:34.399><c> example</c>

00:29:34.789 --> 00:29:34.799 align:start position:0%
operation is done you know for example
 

00:29:34.799 --> 00:29:36.310 align:start position:0%
operation is done you know for example
it<00:29:34.880><c> has</c><00:29:35.279><c> you</c><00:29:35.360><c> know</c><00:29:35.520><c> these</c><00:29:35.760><c> four</c><00:29:35.919><c> or</c><00:29:36.000><c> five</c>

00:29:36.310 --> 00:29:36.320 align:start position:0%
it has you know these four or five
 

00:29:36.320 --> 00:29:37.669 align:start position:0%
it has you know these four or five
rights<00:29:36.640><c> that</c><00:29:36.799><c> we</c><00:29:36.880><c> saw</c><00:29:37.120><c> in</c><00:29:37.200><c> the</c><00:29:37.279><c> previous</c>

00:29:37.669 --> 00:29:37.679 align:start position:0%
rights that we saw in the previous
 

00:29:37.679 --> 00:29:38.630 align:start position:0%
rights that we saw in the previous
slides

00:29:38.630 --> 00:29:38.640 align:start position:0%
slides
 

00:29:38.640 --> 00:29:44.950 align:start position:0%
slides
are<00:29:38.799><c> in</c><00:29:38.880><c> the</c><00:29:39.039><c> log</c><00:29:39.440><c> we</c><00:29:39.600><c> commit</c><00:29:39.919><c> the</c><00:29:40.080><c> operation</c>

00:29:44.950 --> 00:29:44.960 align:start position:0%
 
 

00:29:44.960 --> 00:29:46.389 align:start position:0%
 
basically<00:29:45.279><c> what</c><00:29:45.440><c> it</c><00:29:45.520><c> means</c><00:29:45.840><c> is</c><00:29:46.000><c> somewhere</c><00:29:46.320><c> in</c>

00:29:46.389 --> 00:29:46.399 align:start position:0%
basically what it means is somewhere in
 

00:29:46.399 --> 00:29:48.149 align:start position:0%
basically what it means is somewhere in
the<00:29:46.559><c> log</c><00:29:47.200><c> we</c><00:29:47.360><c> just</c><00:29:47.600><c> record</c>

00:29:48.149 --> 00:29:48.159 align:start position:0%
the log we just record
 

00:29:48.159 --> 00:29:50.310 align:start position:0%
the log we just record
a<00:29:48.320><c> record</c><00:29:49.279><c> you</c><00:29:49.360><c> know</c><00:29:49.520><c> in</c><00:29:49.679><c> a</c><00:29:49.760><c> fixed</c><00:29:49.919><c> location</c>

00:29:50.310 --> 00:29:50.320 align:start position:0%
a record you know in a fixed location
 

00:29:50.320 --> 00:29:52.070 align:start position:0%
a record you know in a fixed location
that<00:29:50.480><c> basically</c><00:29:50.799><c> says</c><00:29:51.039><c> okay</c><00:29:51.360><c> well</c>

00:29:52.070 --> 00:29:52.080 align:start position:0%
that basically says okay well
 

00:29:52.080 --> 00:29:54.710 align:start position:0%
that basically says okay well
you<00:29:52.159><c> know</c><00:29:52.320><c> there</c><00:29:52.640><c> are</c><00:29:52.960><c> like</c><00:29:53.360><c> five</c><00:29:53.679><c> blocks</c><00:29:54.559><c> in</c>

00:29:54.710 --> 00:29:54.720 align:start position:0%
you know there are like five blocks in
 

00:29:54.720 --> 00:29:55.590 align:start position:0%
you know there are like five blocks in
the<00:29:54.880><c> log</c>

00:29:55.590 --> 00:29:55.600 align:start position:0%
the log
 

00:29:55.600 --> 00:29:58.630 align:start position:0%
the log
and<00:29:55.919><c> that</c><00:29:56.240><c> is</c><00:29:56.640><c> you</c><00:29:56.799><c> know</c><00:29:57.039><c> the</c><00:29:57.679><c> the</c><00:29:58.159><c> the</c><00:29:58.320><c> launch</c>

00:29:58.630 --> 00:29:58.640 align:start position:0%
and that is you know the the the launch
 

00:29:58.640 --> 00:30:01.590 align:start position:0%
and that is you know the the the launch
set<00:29:58.799><c> of</c><00:29:58.960><c> locked</c><00:29:59.279><c> rights</c>

00:30:01.590 --> 00:30:01.600 align:start position:0%
set of locked rights
 

00:30:01.600 --> 00:30:04.149 align:start position:0%
set of locked rights
and<00:30:01.760><c> then</c><00:30:02.159><c> you</c><00:30:02.320><c> know</c><00:30:02.480><c> when</c><00:30:02.720><c> we</c><00:30:02.880><c> have</c><00:30:03.120><c> all</c><00:30:03.360><c> the</c>

00:30:04.149 --> 00:30:04.159 align:start position:0%
and then you know when we have all the
 

00:30:04.159 --> 00:30:04.630 align:start position:0%
and then you know when we have all the
rights

00:30:04.630 --> 00:30:04.640 align:start position:0%
rights
 

00:30:04.640 --> 00:30:06.630 align:start position:0%
rights
stably<00:30:05.200><c> on</c><00:30:05.360><c> disk</c><00:30:05.840><c> uh</c><00:30:06.080><c> we</c><00:30:06.240><c> can</c><00:30:06.399><c> actually</c>

00:30:06.630 --> 00:30:06.640 align:start position:0%
stably on disk uh we can actually
 

00:30:06.640 --> 00:30:08.149 align:start position:0%
stably on disk uh we can actually
install<00:30:07.039><c> them</c><00:30:07.360><c> so</c><00:30:07.520><c> this</c><00:30:07.760><c> is</c><00:30:07.840><c> called</c><00:30:08.080><c> the</c>

00:30:08.149 --> 00:30:08.159 align:start position:0%
install them so this is called the
 

00:30:08.159 --> 00:30:10.389 align:start position:0%
install them so this is called the
installation<00:30:08.720><c> phase</c>

00:30:10.389 --> 00:30:10.399 align:start position:0%
installation phase
 

00:30:10.399 --> 00:30:12.070 align:start position:0%
installation phase
and<00:30:10.559><c> really</c><00:30:10.799><c> what</c><00:30:10.960><c> that</c><00:30:11.120><c> means</c><00:30:11.440><c> is</c><00:30:11.840><c> we're</c>

00:30:12.070 --> 00:30:12.080 align:start position:0%
and really what that means is we're
 

00:30:12.080 --> 00:30:14.310 align:start position:0%
and really what that means is we're
gonna<00:30:12.640><c> move</c><00:30:13.200><c> you</c><00:30:13.360><c> know</c><00:30:13.520><c> these</c><00:30:13.679><c> logs</c><00:30:14.000><c> from</c><00:30:14.159><c> the</c>

00:30:14.310 --> 00:30:14.320 align:start position:0%
gonna move you know these logs from the
 

00:30:14.320 --> 00:30:15.990 align:start position:0%
gonna move you know these logs from the
lock<00:30:14.640><c> to</c><00:30:14.720><c> their</c><00:30:14.880><c> home</c><00:30:15.120><c> location</c><00:30:15.520><c> so</c><00:30:15.679><c> we</c><00:30:15.840><c> know</c>

00:30:15.990 --> 00:30:16.000 align:start position:0%
lock to their home location so we know
 

00:30:16.000 --> 00:30:17.909 align:start position:0%
lock to their home location so we know
this<00:30:16.159><c> one</c><00:30:16.399><c> has</c><00:30:16.559><c> to</c><00:30:16.640><c> go</c><00:30:16.720><c> to</c><00:30:16.880><c> 45</c><00:30:17.360><c> so</c><00:30:17.520><c> we'll</c><00:30:17.679><c> put</c><00:30:17.840><c> it</c>

00:30:17.909 --> 00:30:17.919 align:start position:0%
this one has to go to 45 so we'll put it
 

00:30:17.919 --> 00:30:20.070 align:start position:0%
this one has to go to 45 so we'll put it
at<00:30:18.000><c> 45.</c><00:30:18.559><c> this</c><00:30:18.720><c> one</c><00:30:18.960><c> has</c><00:30:19.039><c> to</c><00:30:19.120><c> go</c><00:30:19.279><c> to</c><00:30:19.360><c> 33</c>

00:30:20.070 --> 00:30:20.080 align:start position:0%
at 45. this one has to go to 33
 

00:30:20.080 --> 00:30:21.830 align:start position:0%
at 45. this one has to go to 33
you<00:30:20.240><c> know</c><00:30:20.320><c> report</c><00:30:20.720><c> it</c><00:30:20.960><c> 33</c><00:30:21.440><c> et</c><00:30:21.520><c> cetera</c><00:30:21.760><c> et</c>

00:30:21.830 --> 00:30:21.840 align:start position:0%
you know report it 33 et cetera et
 

00:30:21.840 --> 00:30:23.350 align:start position:0%
you know report it 33 et cetera et
cetera

00:30:23.350 --> 00:30:23.360 align:start position:0%
cetera
 

00:30:23.360 --> 00:30:25.110 align:start position:0%
cetera
and<00:30:23.600><c> once</c><00:30:23.919><c> we're</c><00:30:24.080><c> done</c><00:30:24.399><c> you</c><00:30:24.640><c> know</c><00:30:24.799><c> basically</c>

00:30:25.110 --> 00:30:25.120 align:start position:0%
and once we're done you know basically
 

00:30:25.120 --> 00:30:26.549 align:start position:0%
and once we're done you know basically
we<00:30:25.200><c> can</c><00:30:25.360><c> clean</c><00:30:25.600><c> the</c><00:30:25.679><c> log</c>

00:30:26.549 --> 00:30:26.559 align:start position:0%
we can clean the log
 

00:30:26.559 --> 00:30:29.750 align:start position:0%
we can clean the log
and<00:30:26.880><c> cleaning</c><00:30:27.200><c> the</c><00:30:27.360><c> log</c>

00:30:29.750 --> 00:30:29.760 align:start position:0%
 
 

00:30:29.760 --> 00:30:31.350 align:start position:0%
 
is<00:30:29.919><c> basically</c><00:30:30.240><c> your</c><00:30:30.399><c> rewriting</c><00:30:31.039><c> you</c><00:30:31.120><c> know</c>

00:30:31.350 --> 00:30:31.360 align:start position:0%
is basically your rewriting you know
 

00:30:31.360 --> 00:30:34.389 align:start position:0%
is basically your rewriting you know
basically<00:30:31.760><c> setting</c><00:30:32.000><c> this</c><00:30:32.240><c> 5</c><00:30:32.559><c> to</c><00:30:32.799><c> 0.</c>

00:30:34.389 --> 00:30:34.399 align:start position:0%
basically setting this 5 to 0.
 

00:30:34.399 --> 00:30:38.549 align:start position:0%
basically setting this 5 to 0.
and<00:30:34.559><c> that</c><00:30:34.880><c> is</c><00:30:35.039><c> a</c><00:30:36.399><c> the</c><00:30:36.559><c> basic</c><00:30:36.880><c> plan</c>

00:30:38.549 --> 00:30:38.559 align:start position:0%
and that is a the basic plan
 

00:30:38.559 --> 00:30:40.470 align:start position:0%
and that is a the basic plan
and<00:30:38.720><c> why</c><00:30:38.880><c> is</c><00:30:39.039><c> this</c><00:30:39.200><c> plan</c><00:30:39.520><c> good</c><00:30:40.000><c> well</c><00:30:40.240><c> let's</c>

00:30:40.470 --> 00:30:40.480 align:start position:0%
and why is this plan good well let's
 

00:30:40.480 --> 00:30:41.830 align:start position:0%
and why is this plan good well let's
think<00:30:40.640><c> about</c><00:30:40.960><c> it</c>

00:30:41.830 --> 00:30:41.840 align:start position:0%
think about it
 

00:30:41.840 --> 00:30:45.909 align:start position:0%
think about it
let's<00:30:42.000><c> say</c><00:30:42.240><c> we</c><00:30:42.480><c> crash</c><00:30:43.679><c> before</c><00:30:44.159><c> here</c>

00:30:45.909 --> 00:30:45.919 align:start position:0%
let's say we crash before here
 

00:30:45.919 --> 00:30:50.789 align:start position:0%
let's say we crash before here
what<00:30:46.159><c> would</c><00:30:48.840><c> happen</c>

00:30:50.789 --> 00:30:50.799 align:start position:0%
what would happen
 

00:30:50.799 --> 00:30:53.029 align:start position:0%
what would happen
so<00:30:50.960><c> let</c><00:30:51.120><c> me</c><00:30:51.919><c> hold</c><00:30:52.080><c> that</c><00:30:52.320><c> question</c><00:30:52.720><c> let</c><00:30:52.880><c> me</c>

00:30:53.029 --> 00:30:53.039 align:start position:0%
so let me hold that question let me
 

00:30:53.039 --> 00:30:55.269 align:start position:0%
so let me hold that question let me
actually<00:30:53.279><c> talk</c><00:30:53.520><c> about</c><00:30:53.679><c> one</c><00:30:53.919><c> thing</c><00:30:54.159><c> before</c>

00:30:55.269 --> 00:30:55.279 align:start position:0%
actually talk about one thing before
 

00:30:55.279 --> 00:30:58.710 align:start position:0%
actually talk about one thing before
asking<00:30:55.520><c> that</c><00:30:55.679><c> question</c><00:30:57.600><c> let's</c><00:30:57.760><c> say</c><00:30:58.000><c> we</c>

00:30:58.710 --> 00:30:58.720 align:start position:0%
asking that question let's say we
 

00:30:58.720 --> 00:31:02.470 align:start position:0%
asking that question let's say we
crash<00:31:00.159><c> uh</c><00:31:00.799><c> and</c><00:31:01.039><c> so</c><00:31:01.200><c> we</c><00:31:01.360><c> reboot</c>

00:31:02.470 --> 00:31:02.480 align:start position:0%
crash uh and so we reboot
 

00:31:02.480 --> 00:31:05.029 align:start position:0%
crash uh and so we reboot
and<00:31:02.720><c> on</c><00:31:02.880><c> the</c><00:31:02.960><c> reboot</c><00:31:03.519><c> there's</c><00:31:03.840><c> basically</c><00:31:04.240><c> you</c>

00:31:05.029 --> 00:31:05.039 align:start position:0%
and on the reboot there's basically you
 

00:31:05.039 --> 00:31:07.190 align:start position:0%
and on the reboot there's basically you
what<00:31:05.200><c> the</c><00:31:05.360><c> file</c><00:31:05.600><c> system</c><00:31:06.000><c> does</c>

00:31:07.190 --> 00:31:07.200 align:start position:0%
what the file system does
 

00:31:07.200 --> 00:31:10.149 align:start position:0%
what the file system does
it<00:31:07.279><c> looks</c><00:31:07.519><c> like</c><00:31:07.679><c> the</c><00:31:07.760><c> commit</c><00:31:08.080><c> record</c><00:31:09.919><c> sees</c>

00:31:10.149 --> 00:31:10.159 align:start position:0%
it looks like the commit record sees
 

00:31:10.159 --> 00:31:12.230 align:start position:0%
it looks like the commit record sees
what<00:31:10.320><c> the</c><00:31:10.399><c> value</c><00:31:10.640><c> of</c><00:31:10.720><c> the</c><00:31:10.799><c> commit</c><00:31:11.120><c> record</c><00:31:11.600><c> is</c>

00:31:12.230 --> 00:31:12.240 align:start position:0%
what the value of the commit record is
 

00:31:12.240 --> 00:31:15.669 align:start position:0%
what the value of the commit record is
if<00:31:12.399><c> it</c><00:31:12.559><c> is</c><00:31:12.640><c> zero</c><00:31:13.919><c> you</c><00:31:14.080><c> know</c><00:31:14.240><c> do</c><00:31:14.399><c> nothing</c>

00:31:15.669 --> 00:31:15.679 align:start position:0%
if it is zero you know do nothing
 

00:31:15.679 --> 00:31:19.509 align:start position:0%
if it is zero you know do nothing
in<00:31:15.919><c> our</c><00:31:16.080><c> simple</c><00:31:16.840><c> scheme</c><00:31:18.559><c> and</c><00:31:18.799><c> if</c><00:31:18.960><c> it's</c>

00:31:19.509 --> 00:31:19.519 align:start position:0%
in our simple scheme and if it's
 

00:31:19.519 --> 00:31:20.950 align:start position:0%
in our simple scheme and if it's
bigger<00:31:19.760><c> to</c><00:31:19.919><c> zero</c><00:31:20.240><c> we</c><00:31:20.399><c> know</c><00:31:20.640><c> that</c><00:31:20.799><c> there</c><00:31:20.880><c> are</c>

00:31:20.950 --> 00:31:20.960 align:start position:0%
bigger to zero we know that there are
 

00:31:20.960 --> 00:31:22.630 align:start position:0%
bigger to zero we know that there are
basically<00:31:21.360><c> blocks</c><00:31:21.679><c> in</c><00:31:21.840><c> the</c><00:31:21.919><c> log</c><00:31:22.240><c> that</c>

00:31:22.630 --> 00:31:22.640 align:start position:0%
basically blocks in the log that
 

00:31:22.640 --> 00:31:25.029 align:start position:0%
basically blocks in the log that
need<00:31:22.799><c> to</c><00:31:22.880><c> be</c><00:31:23.200><c> actually</c><00:31:23.600><c> installed</c><00:31:24.640><c> and</c><00:31:24.880><c> we</c>

00:31:25.029 --> 00:31:25.039 align:start position:0%
need to be actually installed and we
 

00:31:25.039 --> 00:31:26.149 align:start position:0%
need to be actually installed and we
apparently<00:31:25.519><c> didn't</c><00:31:25.760><c> finish</c><00:31:26.000><c> the</c>

00:31:26.149 --> 00:31:26.159 align:start position:0%
apparently didn't finish the
 

00:31:26.159 --> 00:31:27.029 align:start position:0%
apparently didn't finish the
installation

00:31:27.029 --> 00:31:27.039 align:start position:0%
installation
 

00:31:27.039 --> 00:31:29.029 align:start position:0%
installation
now<00:31:27.279><c> we</c><00:31:27.440><c> crashed</c><00:31:27.919><c> you</c><00:31:28.000><c> know</c><00:31:28.240><c> after</c><00:31:28.480><c> the</c><00:31:28.559><c> commit</c>

00:31:29.029 --> 00:31:29.039 align:start position:0%
now we crashed you know after the commit
 

00:31:29.039 --> 00:31:30.630 align:start position:0%
now we crashed you know after the commit
but<00:31:29.200><c> before</c><00:31:29.600><c> cleaning</c><00:31:29.919><c> the</c><00:31:30.080><c> log</c>

00:31:30.630 --> 00:31:30.640 align:start position:0%
but before cleaning the log
 

00:31:30.640 --> 00:31:37.430 align:start position:0%
but before cleaning the log
so<00:31:30.880><c> basically</c><00:31:31.200><c> we</c><00:31:32.000><c> reinstall</c>

00:31:37.430 --> 00:31:37.440 align:start position:0%
 
 

00:31:37.440 --> 00:31:44.070 align:start position:0%
 
and<00:31:37.600><c> after</c><00:31:37.840><c> we</c><00:31:38.000><c> reinstall</c><00:31:38.640><c> we</c><00:31:38.799><c> clean</c><00:31:39.039><c> the</c><00:31:39.120><c> lock</c>

00:31:44.070 --> 00:31:44.080 align:start position:0%
 
 

00:31:44.080 --> 00:31:47.909 align:start position:0%
 
okay<00:31:45.279><c> and</c><00:31:46.320><c> this</c><00:31:46.480><c> scheme</c><00:31:46.880><c> is</c><00:31:47.039><c> good</c>

00:31:47.909 --> 00:31:47.919 align:start position:0%
okay and this scheme is good
 

00:31:47.919 --> 00:31:50.310 align:start position:0%
okay and this scheme is good
uh<00:31:48.720><c> because</c><00:31:49.039><c> it</c><00:31:49.200><c> actually</c><00:31:49.519><c> ensures</c><00:31:50.000><c> that</c><00:31:50.159><c> no</c>

00:31:50.310 --> 00:31:50.320 align:start position:0%
uh because it actually ensures that no
 

00:31:50.320 --> 00:31:51.830 align:start position:0%
uh because it actually ensures that no
matter<00:31:50.559><c> where</c><00:31:50.720><c> a</c><00:31:50.799><c> crash</c><00:31:51.200><c> happens</c>

00:31:51.830 --> 00:31:51.840 align:start position:0%
matter where a crash happens
 

00:31:51.840 --> 00:31:53.990 align:start position:0%
matter where a crash happens
we<00:31:52.080><c> either</c><00:31:52.559><c> install</c><00:31:53.279><c> all</c><00:31:53.440><c> the</c><00:31:53.519><c> blocks</c><00:31:53.840><c> of</c><00:31:53.919><c> the</c>

00:31:53.990 --> 00:31:54.000 align:start position:0%
we either install all the blocks of the
 

00:31:54.000 --> 00:31:55.830 align:start position:0%
we either install all the blocks of the
rights<00:31:54.320><c> or</c><00:31:54.399><c> we</c><00:31:54.559><c> install</c><00:31:54.880><c> none</c><00:31:55.120><c> of</c><00:31:55.200><c> them</c>

00:31:55.830 --> 00:31:55.840 align:start position:0%
rights or we install none of them
 

00:31:55.840 --> 00:31:58.389 align:start position:0%
rights or we install none of them
but<00:31:56.000><c> we're</c><00:31:56.240><c> never</c><00:31:56.559><c> in</c><00:31:56.640><c> this</c><00:31:57.039><c> uh</c><00:31:58.000><c> we'll</c><00:31:58.159><c> never</c>

00:31:58.389 --> 00:31:58.399 align:start position:0%
but we're never in this uh we'll never
 

00:31:58.399 --> 00:32:00.470 align:start position:0%
but we're never in this uh we'll never
end<00:31:58.559><c> up</c><00:31:58.640><c> in</c><00:31:58.799><c> a</c><00:31:59.039><c> situation</c><00:31:59.600><c> where</c><00:31:59.840><c> we</c><00:32:00.000><c> installed</c>

00:32:00.470 --> 00:32:00.480 align:start position:0%
end up in a situation where we installed
 

00:32:00.480 --> 00:32:01.509 align:start position:0%
end up in a situation where we installed
some<00:32:00.720><c> of</c><00:32:00.799><c> the</c><00:32:00.960><c> rights</c>

00:32:01.509 --> 00:32:01.519 align:start position:0%
some of the rights
 

00:32:01.519 --> 00:32:03.909 align:start position:0%
some of the rights
but<00:32:01.679><c> not</c><00:32:01.840><c> all</c><00:32:02.000><c> of</c><00:32:02.159><c> them</c><00:32:02.880><c> and</c><00:32:02.960><c> just</c><00:32:03.120><c> to</c><00:32:03.279><c> see</c><00:32:03.760><c> why</c>

00:32:03.909 --> 00:32:03.919 align:start position:0%
but not all of them and just to see why
 

00:32:03.919 --> 00:32:05.269 align:start position:0%
but not all of them and just to see why
this<00:32:04.159><c> is</c><00:32:04.240><c> true</c><00:32:04.480><c> let's</c><00:32:04.720><c> consider</c><00:32:05.039><c> a</c><00:32:05.039><c> couple</c>

00:32:05.269 --> 00:32:05.279 align:start position:0%
this is true let's consider a couple
 

00:32:05.279 --> 00:32:07.830 align:start position:0%
this is true let's consider a couple
cases<00:32:05.600><c> where</c><00:32:05.840><c> things</c><00:32:06.080><c> could</c><00:32:06.240><c> crash</c>

00:32:07.830 --> 00:32:07.840 align:start position:0%
cases where things could crash
 

00:32:07.840 --> 00:32:09.750 align:start position:0%
cases where things could crash
so<00:32:08.240><c> things</c><00:32:08.480><c> could</c><00:32:08.640><c> crash</c><00:32:09.120><c> between</c><00:32:09.440><c> one</c><00:32:09.600><c> and</c>

00:32:09.750 --> 00:32:09.760 align:start position:0%
so things could crash between one and
 

00:32:09.760 --> 00:32:16.630 align:start position:0%
so things could crash between one and
two<00:32:10.080><c> what</c><00:32:10.320><c> will</c><00:32:12.840><c> happen</c>

00:32:16.630 --> 00:32:16.640 align:start position:0%
 
 

00:32:16.640 --> 00:32:22.870 align:start position:0%
 
in<00:32:16.960><c> what</c><00:32:17.120><c> situation</c><00:32:17.600><c> do</c><00:32:17.760><c> we</c><00:32:17.919><c> end</c><00:32:18.159><c> up</c>

00:32:22.870 --> 00:32:22.880 align:start position:0%
 
 

00:32:22.880 --> 00:32:25.350 align:start position:0%
 
the<00:32:23.039><c> situation</c><00:32:23.679><c> in</c><00:32:23.760><c> which</c><00:32:24.240><c> on</c><00:32:24.399><c> recovery</c><00:32:24.960><c> we</c><00:32:25.120><c> do</c>

00:32:25.350 --> 00:32:25.360 align:start position:0%
the situation in which on recovery we do
 

00:32:25.360 --> 00:32:25.990 align:start position:0%
the situation in which on recovery we do
nothing

00:32:25.990 --> 00:32:26.000 align:start position:0%
nothing
 

00:32:26.000 --> 00:32:29.269 align:start position:0%
nothing
and<00:32:26.159><c> that's</c><00:32:26.480><c> okay</c><00:32:26.799><c> because</c><00:32:27.440><c> um</c><00:32:28.799><c> nothing</c><00:32:29.120><c> has</c>

00:32:29.269 --> 00:32:29.279 align:start position:0%
and that's okay because um nothing has
 

00:32:29.279 --> 00:32:31.669 align:start position:0%
and that's okay because um nothing has
been<00:32:29.440><c> written</c><00:32:29.760><c> to</c><00:32:29.840><c> the</c><00:32:30.000><c> file</c><00:32:30.240><c> system</c><00:32:30.640><c> yet</c><00:32:30.880><c> yeah</c>

00:32:31.669 --> 00:32:31.679 align:start position:0%
been written to the file system yet yeah
 

00:32:31.679 --> 00:32:33.750 align:start position:0%
been written to the file system yet yeah
no<00:32:31.919><c> no</c><00:32:32.159><c> exactly</c><00:32:32.640><c> so</c><00:32:32.960><c> this</c><00:32:33.120><c> is</c><00:32:33.360><c> the</c><00:32:33.440><c> case</c><00:32:33.600><c> where</c>

00:32:33.750 --> 00:32:33.760 align:start position:0%
no no exactly so this is the case where
 

00:32:33.760 --> 00:32:34.710 align:start position:0%
no no exactly so this is the case where
basically

00:32:34.710 --> 00:32:34.720 align:start position:0%
basically
 

00:32:34.720 --> 00:32:37.269 align:start position:0%
basically
uh<00:32:35.200><c> we</c><00:32:35.360><c> just</c><00:32:35.519><c> do</c><00:32:35.760><c> nothing</c><00:32:36.240><c> you</c><00:32:36.320><c> know</c><00:32:36.640><c> as</c><00:32:36.799><c> if</c><00:32:37.120><c> the</c>

00:32:37.269 --> 00:32:37.279 align:start position:0%
uh we just do nothing you know as if the
 

00:32:37.279 --> 00:32:37.830 align:start position:0%
uh we just do nothing you know as if the
system<00:32:37.519><c> called</c>

00:32:37.830 --> 00:32:37.840 align:start position:0%
system called
 

00:32:37.840 --> 00:32:39.430 align:start position:0%
system called
basically<00:32:38.240><c> never</c><00:32:38.480><c> executed</c><00:32:39.039><c> right</c><00:32:39.200><c> because</c>

00:32:39.430 --> 00:32:39.440 align:start position:0%
basically never executed right because
 

00:32:39.440 --> 00:32:41.110 align:start position:0%
basically never executed right because
as<00:32:39.600><c> if</c><00:32:39.679><c> the</c><00:32:39.840><c> failure</c><00:32:40.240><c> happened</c><00:32:40.559><c> slightly</c>

00:32:41.110 --> 00:32:41.120 align:start position:0%
as if the failure happened slightly
 

00:32:41.120 --> 00:32:42.789 align:start position:0%
as if the failure happened slightly
earlier<00:32:41.679><c> right</c><00:32:41.919><c> before</c><00:32:42.159><c> the</c><00:32:42.320><c> file</c><00:32:42.559><c> system</c>

00:32:42.789 --> 00:32:42.799 align:start position:0%
earlier right before the file system
 

00:32:42.799 --> 00:32:44.070 align:start position:0%
earlier right before the file system
call<00:32:43.039><c> started</c>

00:32:44.070 --> 00:32:44.080 align:start position:0%
call started
 

00:32:44.080 --> 00:32:45.590 align:start position:0%
call started
and<00:32:44.159><c> so</c><00:32:44.320><c> that's</c><00:32:44.559><c> perfectly</c><00:32:44.880><c> okay</c><00:32:45.360><c> that's</c>

00:32:45.590 --> 00:32:45.600 align:start position:0%
and so that's perfectly okay that's
 

00:32:45.600 --> 00:32:47.990 align:start position:0%
and so that's perfectly okay that's
acceptable<00:32:46.960><c> okay</c><00:32:47.200><c> what</c><00:32:47.360><c> happens</c>

00:32:47.990 --> 00:32:48.000 align:start position:0%
acceptable okay what happens
 

00:32:48.000 --> 00:32:51.350 align:start position:0%
acceptable okay what happens
uh<00:32:48.799><c> if</c><00:32:48.960><c> we</c><00:32:50.880><c> crash</c>

00:32:51.350 --> 00:32:51.360 align:start position:0%
uh if we crash
 

00:32:51.360 --> 00:32:54.470 align:start position:0%
uh if we crash
okay<00:32:51.679><c> between</c><00:32:53.279><c> after</c><00:32:53.600><c> committing</c>

00:32:54.470 --> 00:32:54.480 align:start position:0%
okay between after committing
 

00:32:54.480 --> 00:32:58.230 align:start position:0%
okay between after committing
before<00:32:54.880><c> we</c><00:32:55.039><c> installed</c>

00:32:58.230 --> 00:32:58.240 align:start position:0%
 
 

00:32:58.240 --> 00:33:00.149 align:start position:0%
 
then<00:32:58.399><c> you'll</c><00:32:58.559><c> just</c><00:32:58.880><c> redo</c><00:32:59.360><c> all</c><00:32:59.519><c> the</c><00:32:59.760><c> installs</c>

00:33:00.149 --> 00:33:00.159 align:start position:0%
then you'll just redo all the installs
 

00:33:00.159 --> 00:33:01.830 align:start position:0%
then you'll just redo all the installs
so<00:33:00.320><c> you'll</c><00:33:00.559><c> kind</c><00:33:00.720><c> of</c><00:33:00.799><c> restore</c><00:33:01.279><c> the</c><00:33:01.440><c> correct</c>

00:33:01.830 --> 00:33:01.840 align:start position:0%
so you'll kind of restore the correct
 

00:33:01.840 --> 00:33:02.870 align:start position:0%
so you'll kind of restore the correct
state

00:33:02.870 --> 00:33:02.880 align:start position:0%
state
 

00:33:02.880 --> 00:33:05.029 align:start position:0%
state
yeah<00:33:03.200><c> so</c><00:33:03.679><c> exactly</c><00:33:04.080><c> so</c><00:33:04.240><c> at</c><00:33:04.320><c> that</c><00:33:04.480><c> point</c><00:33:04.720><c> correct</c>

00:33:05.029 --> 00:33:05.039 align:start position:0%
yeah so exactly so at that point correct
 

00:33:05.039 --> 00:33:06.789 align:start position:0%
yeah so exactly so at that point correct
all<00:33:05.279><c> we</c><00:33:05.440><c> have</c><00:33:05.679><c> we</c><00:33:05.760><c> know</c><00:33:06.000><c> they're</c><00:33:06.320><c> uh</c>

00:33:06.789 --> 00:33:06.799 align:start position:0%
all we have we know they're uh
 

00:33:06.799 --> 00:33:09.590 align:start position:0%
all we have we know they're uh
all<00:33:06.960><c> the</c><00:33:07.440><c> blocks</c><00:33:07.919><c> are</c><00:33:08.240><c> in</c><00:33:08.399><c> the</c><00:33:08.640><c> log</c><00:33:09.120><c> they're</c><00:33:09.440><c> be</c>

00:33:09.590 --> 00:33:09.600 align:start position:0%
all the blocks are in the log they're be
 

00:33:09.600 --> 00:33:11.430 align:start position:0%
all the blocks are in the log they're be
all<00:33:09.760><c> written</c><00:33:10.159><c> because</c><00:33:10.399><c> we</c><00:33:10.559><c> committed</c><00:33:11.120><c> so</c><00:33:11.360><c> it</c>

00:33:11.430 --> 00:33:11.440 align:start position:0%
all written because we committed so it
 

00:33:11.440 --> 00:33:12.710 align:start position:0%
all written because we committed so it
must<00:33:11.679><c> be</c><00:33:11.840><c> the</c><00:33:11.919><c> case</c><00:33:12.159><c> that</c><00:33:12.240><c> the</c><00:33:12.320><c> whole</c><00:33:12.480><c> file</c>

00:33:12.710 --> 00:33:12.720 align:start position:0%
must be the case that the whole file
 

00:33:12.720 --> 00:33:14.389 align:start position:0%
must be the case that the whole file
system<00:33:13.039><c> operation</c><00:33:13.519><c> finished</c>

00:33:14.389 --> 00:33:14.399 align:start position:0%
system operation finished
 

00:33:14.399 --> 00:33:15.990 align:start position:0%
system operation finished
and<00:33:14.559><c> so</c><00:33:14.720><c> we</c><00:33:14.880><c> can</c><00:33:14.960><c> basically</c><00:33:15.519><c> you</c><00:33:15.679><c> know</c><00:33:15.840><c> put</c>

00:33:15.990 --> 00:33:16.000 align:start position:0%
and so we can basically you know put
 

00:33:16.000 --> 00:33:17.350 align:start position:0%
and so we can basically you know put
them<00:33:16.159><c> in</c><00:33:16.240><c> their</c><00:33:16.480><c> location</c><00:33:16.880><c> where</c><00:33:17.039><c> they</c><00:33:17.200><c> should</c>

00:33:17.350 --> 00:33:17.360 align:start position:0%
them in their location where they should
 

00:33:17.360 --> 00:33:18.710 align:start position:0%
them in their location where they should
be

00:33:18.710 --> 00:33:18.720 align:start position:0%
be
 

00:33:18.720 --> 00:33:20.549 align:start position:0%
be
and<00:33:18.960><c> then</c><00:33:19.120><c> we're</c><00:33:19.360><c> all</c><00:33:19.519><c> in</c><00:33:19.600><c> good</c><00:33:20.000><c> shape</c><00:33:20.320><c> and</c><00:33:20.399><c> so</c>

00:33:20.549 --> 00:33:20.559 align:start position:0%
and then we're all in good shape and so
 

00:33:20.559 --> 00:33:22.230 align:start position:0%
and then we're all in good shape and so
in<00:33:20.720><c> this</c><00:33:20.880><c> case</c><00:33:21.120><c> now</c><00:33:21.360><c> all</c><00:33:21.519><c> the</c><00:33:21.679><c> file</c><00:33:22.000><c> you</c><00:33:22.159><c> know</c>

00:33:22.230 --> 00:33:22.240 align:start position:0%
in this case now all the file you know
 

00:33:22.240 --> 00:33:24.710 align:start position:0%
in this case now all the file you know
in<00:33:22.320><c> this</c><00:33:22.480><c> case</c><00:33:22.640><c> what</c><00:33:22.799><c> will</c><00:33:22.960><c> end</c><00:33:23.120><c> up</c><00:33:23.279><c> is</c><00:33:23.440><c> as</c><00:33:23.600><c> if</c>

00:33:24.710 --> 00:33:24.720 align:start position:0%
in this case what will end up is as if
 

00:33:24.720 --> 00:33:27.909 align:start position:0%
in this case what will end up is as if
the<00:33:25.919><c> it</c><00:33:26.080><c> is</c><00:33:26.240><c> if</c><00:33:26.480><c> the</c><00:33:27.120><c> file</c><00:33:27.360><c> system</c><00:33:27.600><c> call</c>

00:33:27.909 --> 00:33:27.919 align:start position:0%
the it is if the file system call
 

00:33:27.919 --> 00:33:29.029 align:start position:0%
the it is if the file system call
actually<00:33:28.159><c> completely</c>

00:33:29.029 --> 00:33:29.039 align:start position:0%
actually completely
 

00:33:29.039 --> 00:33:30.789 align:start position:0%
actually completely
just<00:33:29.279><c> before</c><00:33:29.519><c> the</c><00:33:29.679><c> crash</c><00:33:30.320><c> there's</c><00:33:30.480><c> like</c><00:33:30.640><c> no</c>

00:33:30.789 --> 00:33:30.799 align:start position:0%
just before the crash there's like no
 

00:33:30.799 --> 00:33:32.310 align:start position:0%
just before the crash there's like no
difference

00:33:32.310 --> 00:33:32.320 align:start position:0%
difference
 

00:33:32.320 --> 00:33:35.509 align:start position:0%
difference
okay<00:33:33.679><c> so</c><00:33:33.840><c> what</c><00:33:34.080><c> happens</c><00:33:34.399><c> if</c><00:33:34.559><c> we</c><00:33:34.880><c> crash</c>

00:33:35.509 --> 00:33:35.519 align:start position:0%
okay so what happens if we crash
 

00:33:35.519 --> 00:33:37.750 align:start position:0%
okay so what happens if we crash
during<00:33:35.840><c> reinstall</c><00:33:36.640><c> or</c><00:33:36.880><c> like</c><00:33:37.039><c> install</c><00:33:37.600><c> or</c>

00:33:37.750 --> 00:33:37.760 align:start position:0%
during reinstall or like install or
 

00:33:37.760 --> 00:33:39.669 align:start position:0%
during reinstall or like install or
during<00:33:38.080><c> install</c><00:33:38.399><c> before</c><00:33:38.640><c> re-cleaning</c>

00:33:39.669 --> 00:33:39.679 align:start position:0%
during install before re-cleaning
 

00:33:39.679 --> 00:33:42.870 align:start position:0%
during install before re-cleaning
so<00:33:40.000><c> crash</c><00:33:40.320><c> here</c><00:33:41.200><c> in</c><00:33:41.279><c> this</c><00:33:41.519><c> case</c><00:33:42.320><c> in</c><00:33:42.399><c> this</c><00:33:42.640><c> case</c>

00:33:42.870 --> 00:33:42.880 align:start position:0%
so crash here in this case in this case
 

00:33:42.880 --> 00:33:44.470 align:start position:0%
so crash here in this case in this case
and<00:33:42.960><c> now</c><00:33:43.120><c> we'll</c><00:33:43.200><c> do</c><00:33:43.360><c> the</c><00:33:43.440><c> third</c><00:33:43.679><c> case</c>

00:33:44.470 --> 00:33:44.480 align:start position:0%
and now we'll do the third case
 

00:33:44.480 --> 00:33:46.549 align:start position:0%
and now we'll do the third case
we'll<00:33:44.880><c> install</c><00:33:45.279><c> during</c><00:33:45.679><c> installation</c><00:33:46.320><c> or</c>

00:33:46.549 --> 00:33:46.559 align:start position:0%
we'll install during installation or
 

00:33:46.559 --> 00:33:47.990 align:start position:0%
we'll install during installation or
just<00:33:47.440><c> before</c>

00:33:47.990 --> 00:33:48.000 align:start position:0%
just before
 

00:33:48.000 --> 00:33:50.230 align:start position:0%
just before
install<00:33:48.640><c> after</c><00:33:49.360><c> installing</c><00:33:49.760><c> but</c><00:33:49.919><c> before</c>

00:33:50.230 --> 00:33:50.240 align:start position:0%
install after installing but before
 

00:33:50.240 --> 00:33:51.590 align:start position:0%
install after installing but before
cleaning

00:33:51.590 --> 00:33:51.600 align:start position:0%
cleaning
 

00:33:51.600 --> 00:33:58.070 align:start position:0%
cleaning
what what<00:33:52.799><c> what</c><00:33:52.960><c> happened</c><00:33:53.279><c> then</c>

00:33:58.070 --> 00:33:58.080 align:start position:0%
 
 

00:33:58.080 --> 00:34:01.110 align:start position:0%
 
oh<00:33:58.320><c> sorry</c><00:33:58.799><c> uh</c><00:33:59.039><c> on</c><00:33:59.200><c> the</c><00:33:59.360><c> next</c><00:33:59.840><c> restart</c><00:34:00.640><c> uh</c>

00:34:01.110 --> 00:34:01.120 align:start position:0%
oh sorry uh on the next restart uh
 

00:34:01.120 --> 00:34:03.590 align:start position:0%
oh sorry uh on the next restart uh
nothing<00:34:01.519><c> has</c><00:34:01.679><c> really</c><00:34:02.720><c> changed</c><00:34:03.120><c> in</c><00:34:03.200><c> terms</c><00:34:03.440><c> of</c>

00:34:03.590 --> 00:34:03.600 align:start position:0%
nothing has really changed in terms of
 

00:34:03.600 --> 00:34:05.110 align:start position:0%
nothing has really changed in terms of
the<00:34:03.679><c> recovery</c><00:34:04.159><c> process</c>

00:34:05.110 --> 00:34:05.120 align:start position:0%
the recovery process
 

00:34:05.120 --> 00:34:07.590 align:start position:0%
the recovery process
and<00:34:05.279><c> so</c><00:34:05.840><c> we're</c><00:34:06.000><c> just</c><00:34:06.159><c> going</c><00:34:06.240><c> to</c><00:34:06.399><c> redo</c><00:34:06.799><c> the</c><00:34:06.960><c> log</c>

00:34:07.590 --> 00:34:07.600 align:start position:0%
and so we're just going to redo the log
 

00:34:07.600 --> 00:34:08.869 align:start position:0%
and so we're just going to redo the log
yeah<00:34:07.760><c> we're</c><00:34:07.840><c> going</c><00:34:07.919><c> to</c><00:34:08.000><c> redo</c><00:34:08.320><c> the</c><00:34:08.480><c> log</c><00:34:08.720><c> again</c>

00:34:08.869 --> 00:34:08.879 align:start position:0%
yeah we're going to redo the log again
 

00:34:08.879 --> 00:34:10.470 align:start position:0%
yeah we're going to redo the log again
and<00:34:08.960><c> we're</c><00:34:09.119><c> going</c><00:34:09.200><c> to</c><00:34:09.440><c> copy</c><00:34:09.760><c> basically</c><00:34:10.240><c> the</c>

00:34:10.470 --> 00:34:10.480 align:start position:0%
and we're going to copy basically the
 

00:34:10.480 --> 00:34:11.190 align:start position:0%
and we're going to copy basically the
content

00:34:11.190 --> 00:34:11.200 align:start position:0%
content
 

00:34:11.200 --> 00:34:13.270 align:start position:0%
content
again<00:34:11.679><c> you</c><00:34:11.760><c> know</c><00:34:11.919><c> to</c><00:34:12.159><c> the</c><00:34:12.560><c> locations</c><00:34:13.040><c> correct</c>

00:34:13.270 --> 00:34:13.280 align:start position:0%
again you know to the locations correct
 

00:34:13.280 --> 00:34:14.869 align:start position:0%
again you know to the locations correct
maybe<00:34:13.760><c> in</c><00:34:13.839><c> fact</c><00:34:14.000><c> we</c><00:34:14.159><c> might</c><00:34:14.320><c> do</c><00:34:14.399><c> it</c><00:34:14.480><c> multiple</c>

00:34:14.869 --> 00:34:14.879 align:start position:0%
maybe in fact we might do it multiple
 

00:34:14.879 --> 00:34:15.909 align:start position:0%
maybe in fact we might do it multiple
times

00:34:15.909 --> 00:34:15.919 align:start position:0%
times
 

00:34:15.919 --> 00:34:23.990 align:start position:0%
times
is<00:34:16.079><c> that</c><00:34:18.839><c> okay</c>

00:34:23.990 --> 00:34:24.000 align:start position:0%
 
 

00:34:24.000 --> 00:34:28.470 align:start position:0%
 
um<00:34:24.480><c> yes</c><00:34:24.879><c> because</c><00:34:25.359><c> those</c><00:34:25.679><c> are</c><00:34:26.159><c> just</c><00:34:26.960><c> rights</c>

00:34:28.470 --> 00:34:28.480 align:start position:0%
um yes because those are just rights
 

00:34:28.480 --> 00:34:31.589 align:start position:0%
um yes because those are just rights
and<00:34:29.119><c> it's</c><00:34:30.240><c> they</c><00:34:30.399><c> are</c><00:34:30.560><c> to</c><00:34:30.720><c> a</c><00:34:30.879><c> specific</c><00:34:31.200><c> location</c>

00:34:31.589 --> 00:34:31.599 align:start position:0%
and it's they are to a specific location
 

00:34:31.599 --> 00:34:32.069 align:start position:0%
and it's they are to a specific location
that<00:34:31.760><c> we</c>

00:34:32.069 --> 00:34:32.079 align:start position:0%
that we
 

00:34:32.079 --> 00:34:34.629 align:start position:0%
that we
don't<00:34:33.200><c> change</c><00:34:33.599><c> like</c><00:34:33.919><c> it's</c><00:34:34.079><c> written</c><00:34:34.399><c> in</c><00:34:34.480><c> the</c>

00:34:34.629 --> 00:34:34.639 align:start position:0%
don't change like it's written in the
 

00:34:34.639 --> 00:34:36.069 align:start position:0%
don't change like it's written in the
log<00:34:34.879><c> so</c><00:34:35.040><c> we</c><00:34:35.200><c> know</c>

00:34:36.069 --> 00:34:36.079 align:start position:0%
log so we know
 

00:34:36.079 --> 00:34:38.790 align:start position:0%
log so we know
where<00:34:36.560><c> we</c><00:34:36.720><c> should</c><00:34:36.879><c> write</c><00:34:37.200><c> every</c><00:34:37.440><c> time</c><00:34:38.560><c> yeah</c>

00:34:38.790 --> 00:34:38.800 align:start position:0%
where we should write every time yeah
 

00:34:38.800 --> 00:34:40.069 align:start position:0%
where we should write every time yeah
basically<00:34:39.119><c> every</c><00:34:39.280><c> time</c><00:34:39.440><c> we'll</c><00:34:39.599><c> do</c><00:34:39.760><c> the</c><00:34:39.839><c> same</c>

00:34:40.069 --> 00:34:40.079 align:start position:0%
basically every time we'll do the same
 

00:34:40.079 --> 00:34:41.510 align:start position:0%
basically every time we'll do the same
right<00:34:40.320><c> correct</c><00:34:40.639><c> so</c><00:34:40.879><c> let's</c><00:34:41.040><c> say</c>

00:34:41.510 --> 00:34:41.520 align:start position:0%
right correct so let's say
 

00:34:41.520 --> 00:34:43.430 align:start position:0%
right correct so let's say
in<00:34:41.679><c> block</c><00:34:41.919><c> 45</c><00:34:42.399><c> you</c><00:34:42.560><c> know</c><00:34:42.720><c> there's</c><00:34:42.960><c> the</c><00:34:43.040><c> value</c>

00:34:43.430 --> 00:34:43.440 align:start position:0%
in block 45 you know there's the value
 

00:34:43.440 --> 00:34:45.909 align:start position:0%
in block 45 you know there's the value
10<00:34:44.480><c> and</c><00:34:44.639><c> we're</c><00:34:44.960><c> going</c><00:34:45.119><c> to</c><00:34:45.200><c> write</c><00:34:45.359><c> 10</c><00:34:45.679><c> you</c><00:34:45.760><c> know</c>

00:34:45.909 --> 00:34:45.919 align:start position:0%
10 and we're going to write 10 you know
 

00:34:45.919 --> 00:34:48.230 align:start position:0%
10 and we're going to write 10 you know
to<00:34:46.079><c> location</c><00:34:46.480><c> 45</c><00:34:46.960><c> every</c><00:34:47.200><c> time</c><00:34:47.919><c> and</c><00:34:48.000><c> that's</c>

00:34:48.230 --> 00:34:48.240 align:start position:0%
to location 45 every time and that's
 

00:34:48.240 --> 00:34:49.270 align:start position:0%
to location 45 every time and that's
exactly<00:34:48.480><c> what</c><00:34:48.639><c> it</c><00:34:48.720><c> should</c><00:34:48.879><c> be</c>

00:34:49.270 --> 00:34:49.280 align:start position:0%
exactly what it should be
 

00:34:49.280 --> 00:34:50.629 align:start position:0%
exactly what it should be
and<00:34:49.520><c> like</c><00:34:49.760><c> and</c><00:34:49.919><c> repeating</c><00:34:50.240><c> that</c><00:34:50.399><c> right</c>

00:34:50.629 --> 00:34:50.639 align:start position:0%
and like and repeating that right
 

00:34:50.639 --> 00:34:52.310 align:start position:0%
and like and repeating that right
multiple<00:34:51.040><c> times</c><00:34:51.520><c> doesn't</c><00:34:51.760><c> really</c><00:34:51.919><c> do</c><00:34:52.079><c> any</c>

00:34:52.310 --> 00:34:52.320 align:start position:0%
multiple times doesn't really do any
 

00:34:52.320 --> 00:34:52.710 align:start position:0%
multiple times doesn't really do any
harm

00:34:52.710 --> 00:34:52.720 align:start position:0%
harm
 

00:34:52.720 --> 00:34:55.109 align:start position:0%
harm
right<00:34:54.079><c> because</c><00:34:54.320><c> we're</c><00:34:54.480><c> writing</c><00:34:54.800><c> the</c><00:34:54.879><c> same</c>

00:34:55.109 --> 00:34:55.119 align:start position:0%
right because we're writing the same
 

00:34:55.119 --> 00:34:56.470 align:start position:0%
right because we're writing the same
value<00:34:55.599><c> that</c><00:34:55.760><c> actually</c><00:34:56.000><c> should</c><00:34:56.159><c> be</c><00:34:56.320><c> there</c>

00:34:56.470 --> 00:34:56.480 align:start position:0%
value that actually should be there
 

00:34:56.480 --> 00:34:57.589 align:start position:0%
value that actually should be there
anyway

00:34:57.589 --> 00:34:57.599 align:start position:0%
anyway
 

00:34:57.599 --> 00:34:59.190 align:start position:0%
anyway
and<00:34:57.680><c> so</c><00:34:57.839><c> it's</c><00:34:58.000><c> perfectly</c><00:34:58.400><c> fine</c><00:34:58.800><c> you</c><00:34:58.880><c> know</c><00:34:59.040><c> for</c>

00:34:59.190 --> 00:34:59.200 align:start position:0%
and so it's perfectly fine you know for
 

00:34:59.200 --> 00:35:03.349 align:start position:0%
and so it's perfectly fine you know for
us<00:34:59.359><c> to</c><00:34:59.760><c> do</c><00:34:59.920><c> reinstallation</c><00:35:00.640><c> multiple</c><00:35:01.040><c> times</c>

00:35:03.349 --> 00:35:03.359 align:start position:0%
us to do reinstallation multiple times
 

00:35:03.359 --> 00:35:04.790 align:start position:0%
us to do reinstallation multiple times
of<00:35:03.440><c> course</c><00:35:03.680><c> we</c><00:35:03.760><c> shouldn't</c><00:35:04.000><c> serve</c><00:35:04.400><c> any</c><00:35:04.640><c> other</c>

00:35:04.790 --> 00:35:04.800 align:start position:0%
of course we shouldn't serve any other
 

00:35:04.800 --> 00:35:05.990 align:start position:0%
of course we shouldn't serve any other
file<00:35:04.960><c> system</c><00:35:05.200><c> calls</c><00:35:05.440><c> at</c><00:35:05.520><c> this</c><00:35:05.680><c> particular</c>

00:35:05.990 --> 00:35:06.000 align:start position:0%
file system calls at this particular
 

00:35:06.000 --> 00:35:07.589 align:start position:0%
file system calls at this particular
point<00:35:06.160><c> of</c><00:35:06.320><c> time</c><00:35:06.480><c> we</c><00:35:06.560><c> should</c><00:35:06.720><c> do</c><00:35:06.880><c> this</c><00:35:07.040><c> before</c>

00:35:07.589 --> 00:35:07.599 align:start position:0%
point of time we should do this before
 

00:35:07.599 --> 00:35:10.470 align:start position:0%
point of time we should do this before
we<00:35:07.760><c> restart</c><00:35:08.240><c> the</c><00:35:08.320><c> file</c><00:35:08.560><c> system</c><00:35:09.680><c> but</c><00:35:09.839><c> the</c><00:35:10.000><c> while</c>

00:35:10.470 --> 00:35:10.480 align:start position:0%
we restart the file system but the while
 

00:35:10.480 --> 00:35:11.910 align:start position:0%
we restart the file system but the while
you<00:35:10.640><c> know</c><00:35:10.880><c> the</c>

00:35:11.910 --> 00:35:11.920 align:start position:0%
you know the
 

00:35:11.920 --> 00:35:13.589 align:start position:0%
you know the
during<00:35:12.320><c> reboot</c><00:35:12.720><c> or</c><00:35:12.800><c> during</c><00:35:13.040><c> recovery</c><00:35:13.520><c> you</c>

00:35:13.589 --> 00:35:13.599 align:start position:0%
during reboot or during recovery you
 

00:35:13.599 --> 00:35:16.230 align:start position:0%
during reboot or during recovery you
know<00:35:13.680><c> we</c><00:35:13.839><c> can</c><00:35:13.920><c> just</c><00:35:14.079><c> do</c><00:35:14.240><c> this</c><00:35:14.839><c> right</c><00:35:15.920><c> another</c>

00:35:16.230 --> 00:35:16.240 align:start position:0%
know we can just do this right another
 

00:35:16.240 --> 00:35:17.829 align:start position:0%
know we can just do this right another
way<00:35:16.400><c> of</c><00:35:16.560><c> saying</c><00:35:16.800><c> that</c><00:35:16.960><c> is</c><00:35:17.119><c> that</c><00:35:17.359><c> installation</c>

00:35:17.829 --> 00:35:17.839 align:start position:0%
way of saying that is that installation
 

00:35:17.839 --> 00:35:18.470 align:start position:0%
way of saying that is that installation
is<00:35:17.920><c> basically</c>

00:35:18.470 --> 00:35:18.480 align:start position:0%
is basically
 

00:35:18.480 --> 00:35:20.230 align:start position:0%
is basically
item<00:35:18.800><c> potent</c><00:35:19.280><c> you</c><00:35:19.359><c> can</c><00:35:19.440><c> just</c><00:35:19.680><c> execute</c><00:35:20.000><c> it</c><00:35:20.079><c> many</c>

00:35:20.230 --> 00:35:20.240 align:start position:0%
item potent you can just execute it many
 

00:35:20.240 --> 00:35:22.630 align:start position:0%
item potent you can just execute it many
many<00:35:20.400><c> many</c><00:35:20.720><c> times</c><00:35:21.359><c> and</c><00:35:21.520><c> will</c><00:35:21.680><c> have</c><00:35:21.839><c> the</c><00:35:22.000><c> same</c>

00:35:22.630 --> 00:35:22.640 align:start position:0%
many many times and will have the same
 

00:35:22.640 --> 00:35:25.750 align:start position:0%
many many times and will have the same
effect<00:35:22.960><c> at</c><00:35:23.040><c> the</c><00:35:23.200><c> end</c>

00:35:25.750 --> 00:35:25.760 align:start position:0%
 
 

00:35:25.760 --> 00:35:29.589 align:start position:0%
 
a<00:35:26.079><c> question</c><00:35:26.400><c> about</c><00:35:26.720><c> that</c><00:35:27.200><c> yeah</c>

00:35:29.589 --> 00:35:29.599 align:start position:0%
 
 

00:35:29.599 --> 00:35:31.670 align:start position:0%
 
because<00:35:30.079><c> the</c><00:35:30.240><c> interface</c><00:35:30.800><c> is</c><00:35:30.880><c> just</c><00:35:31.200><c> read</c><00:35:31.520><c> and</c>

00:35:31.670 --> 00:35:31.680 align:start position:0%
because the interface is just read and
 

00:35:31.680 --> 00:35:33.510 align:start position:0%
because the interface is just read and
write<00:35:32.000><c> if</c><00:35:32.160><c> we</c><00:35:32.240><c> had</c><00:35:32.480><c> an</c><00:35:32.640><c> append</c>

00:35:33.510 --> 00:35:33.520 align:start position:0%
write if we had an append
 

00:35:33.520 --> 00:35:36.950 align:start position:0%
write if we had an append
it<00:35:34.000><c> this</c><00:35:34.240><c> would</c><00:35:34.400><c> not</c><00:35:34.640><c> be</c><00:35:35.440><c> safe</c><00:35:35.839><c> right</c>

00:35:36.950 --> 00:35:36.960 align:start position:0%
it this would not be safe right
 

00:35:36.960 --> 00:35:39.829 align:start position:0%
it this would not be safe right
yeah<00:35:37.119><c> yeah</c><00:35:37.440><c> the</c><00:35:37.839><c> there's</c><00:35:39.119><c> you</c><00:35:39.200><c> can</c><00:35:39.280><c> make</c><00:35:39.520><c> a</c><00:35:39.599><c> pen</c>

00:35:39.829 --> 00:35:39.839 align:start position:0%
yeah yeah the there's you can make a pen
 

00:35:39.839 --> 00:35:40.790 align:start position:0%
yeah yeah the there's you can make a pen
safe<00:35:40.079><c> too</c>

00:35:40.790 --> 00:35:40.800 align:start position:0%
safe too
 

00:35:40.800 --> 00:35:42.790 align:start position:0%
safe too
ignore<00:35:41.440><c> fancy</c><00:35:41.920><c> logging</c><00:35:42.240><c> schemes</c><00:35:42.560><c> but</c><00:35:42.720><c> for</c>

00:35:42.790 --> 00:35:42.800 align:start position:0%
ignore fancy logging schemes but for
 

00:35:42.800 --> 00:35:43.990 align:start position:0%
ignore fancy logging schemes but for
this<00:35:42.960><c> particular</c><00:35:43.280><c> logging</c><00:35:43.599><c> scheme</c>

00:35:43.990 --> 00:35:44.000 align:start position:0%
this particular logging scheme
 

00:35:44.000 --> 00:35:45.109 align:start position:0%
this particular logging scheme
you<00:35:44.079><c> know</c><00:35:44.240><c> we</c><00:35:44.320><c> don't</c><00:35:44.480><c> have</c><00:35:44.560><c> to</c><00:35:44.640><c> worry</c><00:35:44.880><c> about</c>

00:35:45.109 --> 00:35:45.119 align:start position:0%
you know we don't have to worry about
 

00:35:45.119 --> 00:35:47.750 align:start position:0%
you know we don't have to worry about
that<00:35:46.560><c> in</c><00:35:46.640><c> fact</c><00:35:46.880><c> like</c><00:35:47.119><c> in</c><00:35:47.200><c> some</c><00:35:47.359><c> sense</c><00:35:47.599><c> the</c>

00:35:47.750 --> 00:35:47.760 align:start position:0%
that in fact like in some sense the
 

00:35:47.760 --> 00:35:49.750 align:start position:0%
that in fact like in some sense the
append<00:35:48.079><c> is</c><00:35:48.160><c> a</c><00:35:48.240><c> file</c><00:35:48.480><c> system</c><00:35:48.800><c> level</c><00:35:49.119><c> operation</c>

00:35:49.750 --> 00:35:49.760 align:start position:0%
append is a file system level operation
 

00:35:49.760 --> 00:35:52.710 align:start position:0%
append is a file system level operation
and<00:35:49.920><c> at</c><00:35:50.000><c> that</c><00:35:50.240><c> level</c><00:35:50.560><c> we</c><00:35:50.640><c> can</c><00:35:50.800><c> make</c><00:35:50.960><c> it</c><00:35:51.280><c> uh</c>

00:35:52.710 --> 00:35:52.720 align:start position:0%
and at that level we can make it uh
 

00:35:52.720 --> 00:35:53.349 align:start position:0%
and at that level we can make it uh
atomic

00:35:53.349 --> 00:35:53.359 align:start position:0%
atomic
 

00:35:53.359 --> 00:35:56.829 align:start position:0%
atomic
using<00:35:53.680><c> the</c><00:35:53.839><c> logging</c><00:35:54.160><c> scheme</c><00:35:55.760><c> that</c><00:35:56.000><c> we</c><00:35:56.079><c> have</c>

00:35:56.829 --> 00:35:56.839 align:start position:0%
using the logging scheme that we have
 

00:35:56.839 --> 00:35:58.150 align:start position:0%
using the logging scheme that we have
here

00:35:58.150 --> 00:35:58.160 align:start position:0%
here
 

00:35:58.160 --> 00:36:01.030 align:start position:0%
here
i<00:35:58.400><c> see</c><00:35:58.800><c> thank</c><00:35:58.960><c> you</c><00:35:59.760><c> i</c><00:36:00.000><c> also</c><00:36:00.240><c> have</c><00:36:00.400><c> a</c><00:36:00.480><c> question</c>

00:36:01.030 --> 00:36:01.040 align:start position:0%
i see thank you i also have a question
 

00:36:01.040 --> 00:36:01.430 align:start position:0%
i see thank you i also have a question
yep

00:36:01.430 --> 00:36:01.440 align:start position:0%
yep
 

00:36:01.440 --> 00:36:03.030 align:start position:0%
yep
go<00:36:01.599><c> ahead</c><00:36:01.839><c> what</c><00:36:02.000><c> would</c><00:36:02.160><c> happen</c><00:36:02.480><c> if</c><00:36:02.720><c> the</c><00:36:02.800><c> file</c>

00:36:03.030 --> 00:36:03.040 align:start position:0%
go ahead what would happen if the file
 

00:36:03.040 --> 00:36:05.270 align:start position:0%
go ahead what would happen if the file
system<00:36:03.440><c> crashed</c><00:36:04.400><c> while</c><00:36:04.640><c> you</c><00:36:04.800><c> were</c><00:36:04.960><c> committing</c>

00:36:05.270 --> 00:36:05.280 align:start position:0%
system crashed while you were committing
 

00:36:05.280 --> 00:36:06.310 align:start position:0%
system crashed while you were committing
so<00:36:05.440><c> you</c><00:36:05.599><c> want</c><00:36:05.839><c> to</c><00:36:06.000><c> like</c>

00:36:06.310 --> 00:36:06.320 align:start position:0%
so you want to like
 

00:36:06.320 --> 00:36:08.470 align:start position:0%
so you want to like
execute<00:36:06.720><c> multiple</c><00:36:07.200><c> rights</c><00:36:08.000><c> and</c><00:36:08.079><c> then</c><00:36:08.240><c> you</c>

00:36:08.470 --> 00:36:08.480 align:start position:0%
execute multiple rights and then you
 

00:36:08.480 --> 00:36:11.430 align:start position:0%
execute multiple rights and then you
only<00:36:08.640><c> commit</c><00:36:09.040><c> like</c><00:36:09.359><c> half</c><00:36:09.599><c> of</c><00:36:09.680><c> them</c>

00:36:11.430 --> 00:36:11.440 align:start position:0%
only commit like half of them
 

00:36:11.440 --> 00:36:12.790 align:start position:0%
only commit like half of them
yeah<00:36:11.680><c> okay</c><00:36:11.839><c> so</c><00:36:12.000><c> can</c><00:36:12.160><c> you</c><00:36:12.240><c> speak</c><00:36:12.480><c> up</c><00:36:12.560><c> a</c><00:36:12.640><c> little</c>

00:36:12.790 --> 00:36:12.800 align:start position:0%
yeah okay so can you speak up a little
 

00:36:12.800 --> 00:36:14.550 align:start position:0%
yeah okay so can you speak up a little
bit<00:36:12.880><c> more</c><00:36:13.119><c> because</c><00:36:13.520><c> your</c><00:36:13.680><c> volume</c><00:36:14.000><c> is</c><00:36:14.160><c> low</c>

00:36:14.550 --> 00:36:14.560 align:start position:0%
bit more because your volume is low
 

00:36:14.560 --> 00:36:17.910 align:start position:0%
bit more because your volume is low
oh<00:36:14.720><c> yes</c><00:36:15.040><c> sorry</c><00:36:15.760><c> so</c><00:36:16.400><c> if</c><00:36:16.560><c> you</c><00:36:16.720><c> wanted</c><00:36:17.040><c> to</c>

00:36:17.910 --> 00:36:17.920 align:start position:0%
oh yes sorry so if you wanted to
 

00:36:17.920 --> 00:36:20.870 align:start position:0%
oh yes sorry so if you wanted to
like<00:36:18.320><c> commit</c><00:36:18.720><c> multiple</c><00:36:19.680><c> rights</c><00:36:20.240><c> at</c><00:36:20.400><c> once</c><00:36:20.640><c> like</c>

00:36:20.870 --> 00:36:20.880 align:start position:0%
like commit multiple rights at once like
 

00:36:20.880 --> 00:36:22.230 align:start position:0%
like commit multiple rights at once like
in<00:36:21.040><c> an</c><00:36:21.119><c> atomic</c><00:36:21.760><c> way</c>

00:36:22.230 --> 00:36:22.240 align:start position:0%
in an atomic way
 

00:36:22.240 --> 00:36:25.109 align:start position:0%
in an atomic way
but<00:36:22.480><c> your</c><00:36:23.200><c> system</c><00:36:23.599><c> crashes</c><00:36:24.560><c> in</c><00:36:24.640><c> the</c><00:36:24.800><c> middle</c><00:36:25.040><c> of</c>

00:36:25.109 --> 00:36:25.119 align:start position:0%
but your system crashes in the middle of
 

00:36:25.119 --> 00:36:25.990 align:start position:0%
but your system crashes in the middle of
committing<00:36:25.599><c> so</c><00:36:25.760><c> you</c>

00:36:25.990 --> 00:36:26.000 align:start position:0%
committing so you
 

00:36:26.000 --> 00:36:28.230 align:start position:0%
committing so you
are<00:36:26.240><c> only</c><00:36:26.560><c> able</c><00:36:26.720><c> to</c><00:36:26.880><c> commit</c><00:36:27.440><c> like</c><00:36:27.680><c> half</c><00:36:28.000><c> of</c><00:36:28.079><c> the</c>

00:36:28.230 --> 00:36:28.240 align:start position:0%
are only able to commit like half of the
 

00:36:28.240 --> 00:36:29.270 align:start position:0%
are only able to commit like half of the
rights

00:36:29.270 --> 00:36:29.280 align:start position:0%
rights
 

00:36:29.280 --> 00:36:31.190 align:start position:0%
rights
uh<00:36:29.520><c> what</c><00:36:29.680><c> would</c><00:36:29.839><c> happen</c><00:36:30.079><c> in</c><00:36:30.160><c> that</c><00:36:30.400><c> instance</c><00:36:31.040><c> uh</c>

00:36:31.190 --> 00:36:31.200 align:start position:0%
uh what would happen in that instance uh
 

00:36:31.200 --> 00:36:33.030 align:start position:0%
uh what would happen in that instance uh
okay<00:36:31.440><c> so</c><00:36:31.920><c> this</c><00:36:32.079><c> is</c><00:36:32.160><c> a</c><00:36:32.240><c> very</c><00:36:32.400><c> important</c><00:36:32.720><c> point</c>

00:36:33.030 --> 00:36:33.040 align:start position:0%
okay so this is a very important point
 

00:36:33.040 --> 00:36:34.710 align:start position:0%
okay so this is a very important point
i'm<00:36:33.119><c> glad</c><00:36:33.359><c> you</c><00:36:33.440><c> asked</c><00:36:33.599><c> the</c><00:36:33.680><c> question</c><00:36:34.160><c> so</c><00:36:34.480><c> first</c>

00:36:34.710 --> 00:36:34.720 align:start position:0%
i'm glad you asked the question so first
 

00:36:34.720 --> 00:36:36.710 align:start position:0%
i'm glad you asked the question so first
of<00:36:34.880><c> all</c><00:36:35.680><c> the</c><00:36:35.920><c> the</c>

00:36:36.710 --> 00:36:36.720 align:start position:0%
of all the the
 

00:36:36.720 --> 00:36:39.349 align:start position:0%
of all the the
the<00:36:37.280><c> you</c><00:36:37.440><c> commit</c><00:36:38.320><c> in</c><00:36:38.640><c> writing</c><00:36:38.880><c> this</c><00:36:39.040><c> commit</c>

00:36:39.349 --> 00:36:39.359 align:start position:0%
the you commit in writing this commit
 

00:36:39.359 --> 00:36:39.990 align:start position:0%
the you commit in writing this commit
operation<00:36:39.760><c> here</c>

00:36:39.990 --> 00:36:40.000 align:start position:0%
operation here
 

00:36:40.000 --> 00:36:42.230 align:start position:0%
operation here
correct<00:36:40.240><c> this</c><00:36:40.480><c> you</c><00:36:40.640><c> know</c><00:36:40.800><c> step</c><00:36:41.040><c> two</c><00:36:41.839><c> you</c><00:36:42.000><c> only</c>

00:36:42.230 --> 00:36:42.240 align:start position:0%
correct this you know step two you only
 

00:36:42.240 --> 00:36:43.829 align:start position:0%
correct this you know step two you only
execute<00:36:42.640><c> that</c><00:36:42.800><c> commit</c><00:36:43.119><c> operation</c>

00:36:43.829 --> 00:36:43.839 align:start position:0%
execute that commit operation
 

00:36:43.839 --> 00:36:45.670 align:start position:0%
execute that commit operation
after<00:36:44.240><c> you</c><00:36:44.320><c> already</c><00:36:44.720><c> logged</c><00:36:45.040><c> all</c><00:36:45.200><c> the</c><00:36:45.359><c> rights</c>

00:36:45.670 --> 00:36:45.680 align:start position:0%
after you already logged all the rights
 

00:36:45.680 --> 00:36:47.270 align:start position:0%
after you already logged all the rights
that<00:36:45.839><c> you</c><00:36:45.920><c> were</c><00:36:46.079><c> planning</c><00:36:46.400><c> to</c><00:36:46.560><c> execute</c>

00:36:47.270 --> 00:36:47.280 align:start position:0%
that you were planning to execute
 

00:36:47.280 --> 00:36:50.390 align:start position:0%
that you were planning to execute
right<00:36:48.560><c> so</c><00:36:49.040><c> at</c><00:36:49.200><c> the</c><00:36:49.280><c> point</c><00:36:49.520><c> you</c><00:36:49.680><c> do</c><00:36:49.760><c> to</c><00:36:49.839><c> commit</c>

00:36:50.390 --> 00:36:50.400 align:start position:0%
right so at the point you do to commit
 

00:36:50.400 --> 00:36:54.550 align:start position:0%
right so at the point you do to commit
all<00:36:50.640><c> the</c><00:36:50.800><c> writes</c><00:36:51.040><c> are</c><00:36:51.200><c> in</c><00:36:51.280><c> the</c><00:36:51.440><c> log</c><00:36:53.280><c> and</c><00:36:53.520><c> so</c>

00:36:54.550 --> 00:36:54.560 align:start position:0%
all the writes are in the log and so
 

00:36:54.560 --> 00:36:56.390 align:start position:0%
all the writes are in the log and so
the<00:36:54.720><c> commit</c><00:36:55.119><c> operation</c><00:36:55.520><c> itself</c><00:36:56.160><c> you</c><00:36:56.320><c> know</c>

00:36:56.390 --> 00:36:56.400 align:start position:0%
the commit operation itself you know
 

00:36:56.400 --> 00:36:57.589 align:start position:0%
the commit operation itself you know
it's<00:36:56.480><c> an</c><00:36:56.640><c> interesting</c><00:36:56.960><c> question</c><00:36:57.280><c> like</c><00:36:57.440><c> what</c>

00:36:57.589 --> 00:36:57.599 align:start position:0%
it's an interesting question like what
 

00:36:57.599 --> 00:36:58.550 align:start position:0%
it's an interesting question like what
happens<00:36:57.920><c> there</c>

00:36:58.550 --> 00:36:58.560 align:start position:0%
happens there
 

00:36:58.560 --> 00:37:01.349 align:start position:0%
happens there
so<00:36:59.200><c> uh</c><00:36:59.440><c> the</c><00:36:59.680><c> way</c><00:37:00.160><c> the</c><00:37:00.800><c> the</c><00:37:00.880><c> way</c><00:37:01.040><c> i</c><00:37:01.119><c> sort</c><00:37:01.280><c> of</c>

00:37:01.349 --> 00:37:01.359 align:start position:0%
so uh the way the the way i sort of
 

00:37:01.359 --> 00:37:02.950 align:start position:0%
so uh the way the the way i sort of
indicated<00:37:01.760><c> this</c><00:37:01.920><c> on</c><00:37:02.000><c> this</c><00:37:02.160><c> like</c><00:37:02.480><c> the</c><00:37:02.640><c> commit</c>

00:37:02.950 --> 00:37:02.960 align:start position:0%
indicated this on this like the commit
 

00:37:02.960 --> 00:37:05.109 align:start position:0%
indicated this on this like the commit
operation<00:37:03.359><c> writes</c><00:37:03.599><c> a</c><00:37:03.760><c> single</c><00:37:04.160><c> block</c>

00:37:05.109 --> 00:37:05.119 align:start position:0%
operation writes a single block
 

00:37:05.119 --> 00:37:07.670 align:start position:0%
operation writes a single block
like<00:37:05.280><c> the</c><00:37:05.440><c> single</c><00:37:05.760><c> sector</c><00:37:06.160><c> on</c><00:37:06.240><c> the</c><00:37:06.400><c> disk</c><00:37:07.280><c> and</c>

00:37:07.670 --> 00:37:07.680 align:start position:0%
like the single sector on the disk and
 

00:37:07.680 --> 00:37:09.270 align:start position:0%
like the single sector on the disk and
the<00:37:07.920><c> standard</c><00:37:08.320><c> assumption</c><00:37:08.880><c> that</c><00:37:09.040><c> file</c>

00:37:09.270 --> 00:37:09.280 align:start position:0%
the standard assumption that file
 

00:37:09.280 --> 00:37:10.550 align:start position:0%
the standard assumption that file
systems<00:37:09.839><c> make</c>

00:37:10.550 --> 00:37:10.560 align:start position:0%
systems make
 

00:37:10.560 --> 00:37:13.589 align:start position:0%
systems make
is<00:37:10.720><c> that</c><00:37:11.119><c> a</c><00:37:11.520><c> single</c><00:37:12.800><c> block</c><00:37:13.200><c> write</c>

00:37:13.589 --> 00:37:13.599 align:start position:0%
is that a single block write
 

00:37:13.599 --> 00:37:15.670 align:start position:0%
is that a single block write
or<00:37:13.760><c> single</c><00:37:14.079><c> sector</c><00:37:14.480><c> write</c><00:37:14.960><c> is</c><00:37:15.119><c> an</c><00:37:15.280><c> atomic</c>

00:37:15.670 --> 00:37:15.680 align:start position:0%
or single sector write is an atomic
 

00:37:15.680 --> 00:37:17.270 align:start position:0%
or single sector write is an atomic
operation

00:37:17.270 --> 00:37:17.280 align:start position:0%
operation
 

00:37:17.280 --> 00:37:19.430 align:start position:0%
operation
meaning<00:37:17.680><c> that</c><00:37:18.160><c> if</c><00:37:18.320><c> you</c><00:37:18.480><c> write</c><00:37:18.720><c> it</c><00:37:18.960><c> the</c><00:37:19.119><c> whole</c>

00:37:19.430 --> 00:37:19.440 align:start position:0%
meaning that if you write it the whole
 

00:37:19.440 --> 00:37:20.470 align:start position:0%
meaning that if you write it the whole
sector<00:37:19.760><c> will</c><00:37:19.920><c> be</c><00:37:20.079><c> written</c>

00:37:20.470 --> 00:37:20.480 align:start position:0%
sector will be written
 

00:37:20.480 --> 00:37:22.069 align:start position:0%
sector will be written
or<00:37:20.720><c> none</c><00:37:20.880><c> of</c><00:37:20.960><c> the</c><00:37:21.119><c> sector</c><00:37:21.359><c> will</c><00:37:21.520><c> be</c><00:37:21.680><c> written</c><00:37:21.920><c> so</c>

00:37:22.069 --> 00:37:22.079 align:start position:0%
or none of the sector will be written so
 

00:37:22.079 --> 00:37:23.349 align:start position:0%
or none of the sector will be written so
the<00:37:22.160><c> sector</c><00:37:22.480><c> will</c><00:37:22.640><c> never</c><00:37:22.800><c> be</c><00:37:22.960><c> written</c>

00:37:23.349 --> 00:37:23.359 align:start position:0%
the sector will never be written
 

00:37:23.359 --> 00:37:24.790 align:start position:0%
the sector will never be written
partially

00:37:24.790 --> 00:37:24.800 align:start position:0%
partially
 

00:37:24.800 --> 00:37:26.630 align:start position:0%
partially
and<00:37:24.960><c> so</c><00:37:25.119><c> there's</c><00:37:25.359><c> always</c><00:37:25.680><c> you</c><00:37:25.760><c> know</c><00:37:26.160><c> clearly</c>

00:37:26.630 --> 00:37:26.640 align:start position:0%
and so there's always you know clearly
 

00:37:26.640 --> 00:37:28.230 align:start position:0%
and so there's always you know clearly
you<00:37:26.720><c> know</c><00:37:26.880><c> valid</c><00:37:27.200><c> data</c><00:37:27.599><c> in</c><00:37:27.680><c> that</c><00:37:27.839><c> particular</c>

00:37:28.230 --> 00:37:28.240 align:start position:0%
you know valid data in that particular
 

00:37:28.240 --> 00:37:28.950 align:start position:0%
you know valid data in that particular
sector

00:37:28.950 --> 00:37:28.960 align:start position:0%
sector
 

00:37:28.960 --> 00:37:31.109 align:start position:0%
sector
and<00:37:29.040><c> so</c><00:37:29.359><c> basically</c><00:37:29.839><c> this</c><00:37:30.480><c> operation</c><00:37:30.960><c> that</c>

00:37:31.109 --> 00:37:31.119 align:start position:0%
and so basically this operation that
 

00:37:31.119 --> 00:37:33.510 align:start position:0%
and so basically this operation that
commit<00:37:31.440><c> operation</c><00:37:32.000><c> writing</c><00:37:32.320><c> the</c><00:37:32.400><c> log</c><00:37:32.720><c> header</c>

00:37:33.510 --> 00:37:33.520 align:start position:0%
commit operation writing the log header
 

00:37:33.520 --> 00:37:35.510 align:start position:0%
commit operation writing the log header
uh<00:37:33.920><c> is</c><00:37:34.320><c> the</c><00:37:34.400><c> writing</c><00:37:34.640><c> the</c><00:37:34.720><c> commit</c><00:37:35.040><c> record</c><00:37:35.359><c> is</c>

00:37:35.510 --> 00:37:35.520 align:start position:0%
uh is the writing the commit record is
 

00:37:35.520 --> 00:37:37.109 align:start position:0%
uh is the writing the commit record is
the the<00:37:35.920><c> real</c><00:37:36.160><c> commit</c><00:37:36.560><c> operation</c>

00:37:37.109 --> 00:37:37.119 align:start position:0%
the the real commit operation
 

00:37:37.119 --> 00:37:39.430 align:start position:0%
the the real commit operation
like<00:37:37.359><c> if</c><00:37:37.520><c> that</c><00:37:37.839><c> succeeds</c><00:37:38.960><c> and</c><00:37:39.200><c> there's</c>

00:37:39.430 --> 00:37:39.440 align:start position:0%
like if that succeeds and there's
 

00:37:39.440 --> 00:37:40.150 align:start position:0%
like if that succeeds and there's
basically<00:37:39.839><c> a</c>

00:37:40.150 --> 00:37:40.160 align:start position:0%
basically a
 

00:37:40.160 --> 00:37:42.310 align:start position:0%
basically a
say<00:37:40.400><c> a</c><00:37:40.480><c> five</c><00:37:40.960><c> in</c><00:37:41.119><c> the</c><00:37:41.200><c> commit</c><00:37:41.520><c> header</c><00:37:42.079><c> you</c><00:37:42.160><c> know</c>

00:37:42.310 --> 00:37:42.320 align:start position:0%
say a five in the commit header you know
 

00:37:42.320 --> 00:37:43.670 align:start position:0%
say a five in the commit header you know
we<00:37:42.480><c> know</c><00:37:42.800><c> that</c><00:37:42.960><c> there</c><00:37:43.119><c> are</c><00:37:43.200><c> five</c>

00:37:43.670 --> 00:37:43.680 align:start position:0%
we know that there are five
 

00:37:43.680 --> 00:37:45.750 align:start position:0%
we know that there are five
blocks<00:37:44.160><c> in</c><00:37:44.320><c> the</c><00:37:44.880><c> log</c><00:37:45.280><c> and</c><00:37:45.359><c> we</c><00:37:45.520><c> have</c><00:37:45.680><c> to</c>

00:37:45.750 --> 00:37:45.760 align:start position:0%
blocks in the log and we have to
 

00:37:45.760 --> 00:37:48.630 align:start position:0%
blocks in the log and we have to
reinstall<00:37:46.320><c> those</c><00:37:46.560><c> five</c><00:37:46.800><c> blocks</c>

00:37:48.630 --> 00:37:48.640 align:start position:0%
reinstall those five blocks
 

00:37:48.640 --> 00:37:50.630 align:start position:0%
reinstall those five blocks
if<00:37:48.880><c> the</c><00:37:48.960><c> commit</c><00:37:49.280><c> header</c><00:37:49.920><c> didn't</c><00:37:50.240><c> make</c><00:37:50.400><c> it</c><00:37:50.480><c> to</c>

00:37:50.630 --> 00:37:50.640 align:start position:0%
if the commit header didn't make it to
 

00:37:50.640 --> 00:37:53.829 align:start position:0%
if the commit header didn't make it to
disk<00:37:51.599><c> then</c><00:37:51.920><c> the</c><00:37:52.079><c> value</c><00:37:52.400><c> would</c><00:37:52.480><c> still</c><00:37:52.720><c> be</c><00:37:52.880><c> zero</c>

00:37:53.829 --> 00:37:53.839 align:start position:0%
disk then the value would still be zero
 

00:37:53.839 --> 00:37:55.109 align:start position:0%
disk then the value would still be zero
and<00:37:54.000><c> we'll</c><00:37:54.160><c> just</c><00:37:54.400><c> treat</c><00:37:54.560><c> it</c><00:37:54.720><c> as</c><00:37:54.880><c> if</c><00:37:55.040><c> the</c>

00:37:55.109 --> 00:37:55.119 align:start position:0%
and we'll just treat it as if the
 

00:37:55.119 --> 00:37:58.950 align:start position:0%
and we'll just treat it as if the
transaction<00:37:55.520><c> never</c><00:37:55.839><c> happened</c>

00:37:58.950 --> 00:37:58.960 align:start position:0%
 
 

00:37:58.960 --> 00:38:01.990 align:start position:0%
 
thank<00:37:59.200><c> you</c><00:38:00.240><c> and</c><00:38:00.640><c> the</c><00:38:00.800><c> key</c><00:38:01.520><c> rule</c>

00:38:01.990 --> 00:38:02.000 align:start position:0%
thank you and the key rule
 

00:38:02.000 --> 00:38:03.910 align:start position:0%
thank you and the key rule
that<00:38:02.160><c> you're</c><00:38:02.320><c> sort</c><00:38:02.480><c> of</c><00:38:02.640><c> hinting</c><00:38:03.040><c> at</c><00:38:03.599><c> that</c>

00:38:03.910 --> 00:38:03.920 align:start position:0%
that you're sort of hinting at that
 

00:38:03.920 --> 00:38:05.990 align:start position:0%
that you're sort of hinting at that
actually<00:38:04.240><c> has</c><00:38:04.400><c> to</c><00:38:04.480><c> be</c><00:38:04.960><c> true</c>

00:38:05.990 --> 00:38:06.000 align:start position:0%
actually has to be true
 

00:38:06.000 --> 00:38:06.950 align:start position:0%
actually has to be true
is<00:38:06.079><c> something</c><00:38:06.320><c> that's</c><00:38:06.480><c> called</c><00:38:06.640><c> the</c><00:38:06.800><c> right</c>

00:38:06.950 --> 00:38:06.960 align:start position:0%
is something that's called the right
 

00:38:06.960 --> 00:38:09.349 align:start position:0%
is something that's called the right
ahead<00:38:07.280><c> rule</c><00:38:08.079><c> which</c><00:38:08.400><c> means</c><00:38:08.720><c> that</c>

00:38:09.349 --> 00:38:09.359 align:start position:0%
ahead rule which means that
 

00:38:09.359 --> 00:38:12.150 align:start position:0%
ahead rule which means that
a<00:38:09.599><c> logging</c><00:38:10.000><c> system</c><00:38:10.560><c> cannot</c><00:38:11.040><c> install</c><00:38:11.520><c> rights</c>

00:38:12.150 --> 00:38:12.160 align:start position:0%
a logging system cannot install rights
 

00:38:12.160 --> 00:38:12.950 align:start position:0%
a logging system cannot install rights
until

00:38:12.950 --> 00:38:12.960 align:start position:0%
until
 

00:38:12.960 --> 00:38:15.109 align:start position:0%
until
all<00:38:13.200><c> the</c><00:38:13.359><c> rights</c><00:38:13.599><c> are</c><00:38:13.760><c> into</c><00:38:14.000><c> the</c><00:38:14.160><c> rn</c><00:38:14.800><c> are</c><00:38:14.960><c> in</c>

00:38:15.109 --> 00:38:15.119 align:start position:0%
all the rights are into the rn are in
 

00:38:15.119 --> 00:38:19.910 align:start position:0%
all the rights are into the rn are in
the<00:38:16.839><c> log</c>

00:38:19.910 --> 00:38:19.920 align:start position:0%
 
 

00:38:19.920 --> 00:38:21.510 align:start position:0%
 
any<00:38:20.400><c> more</c><00:38:20.640><c> questions</c><00:38:20.880><c> about</c><00:38:21.119><c> this</c><00:38:21.200><c> sort</c><00:38:21.440><c> of</c>

00:38:21.510 --> 00:38:21.520 align:start position:0%
any more questions about this sort of
 

00:38:21.520 --> 00:38:30.829 align:start position:0%
any more questions about this sort of
basic<00:38:21.920><c> plan</c>

00:38:30.829 --> 00:38:30.839 align:start position:0%
 
 

00:38:30.839 --> 00:38:33.349 align:start position:0%
 
okay<00:38:31.920><c> good</c>

00:38:33.349 --> 00:38:33.359 align:start position:0%
okay good
 

00:38:33.359 --> 00:38:36.470 align:start position:0%
okay good
um

00:38:36.470 --> 00:38:36.480 align:start position:0%
 
 

00:38:36.480 --> 00:38:42.230 align:start position:0%
 
let's<00:38:36.720><c> see</c>

00:38:42.230 --> 00:38:42.240 align:start position:0%
 
 

00:38:42.240 --> 00:38:45.349 align:start position:0%
 
so<00:38:42.400><c> what</c><00:38:42.560><c> i</c><00:38:42.880><c> what</c><00:38:43.040><c> i'm</c><00:38:43.119><c> gonna</c><00:38:44.640><c> there's</c><00:38:45.040><c> many</c>

00:38:45.349 --> 00:38:45.359 align:start position:0%
so what i what i'm gonna there's many
 

00:38:45.359 --> 00:38:47.349 align:start position:0%
so what i what i'm gonna there's many
many<00:38:45.920><c> uh</c><00:38:46.240><c> different</c><00:38:46.480><c> versions</c><00:38:46.880><c> of</c><00:38:47.040><c> logging</c>

00:38:47.349 --> 00:38:47.359 align:start position:0%
many uh different versions of logging
 

00:38:47.359 --> 00:38:49.510 align:start position:0%
many uh different versions of logging
schemes<00:38:47.839><c> and</c><00:38:48.000><c> i</c><00:38:48.240><c> sketched</c><00:38:48.640><c> out</c><00:38:48.800><c> here</c><00:38:49.200><c> a</c><00:38:49.280><c> very</c>

00:38:49.510 --> 00:38:49.520 align:start position:0%
schemes and i sketched out here a very
 

00:38:49.520 --> 00:38:50.630 align:start position:0%
schemes and i sketched out here a very
simple<00:38:49.920><c> one</c>

00:38:50.630 --> 00:38:50.640 align:start position:0%
simple one
 

00:38:50.640 --> 00:38:52.550 align:start position:0%
simple one
uh<00:38:50.960><c> you</c><00:38:51.119><c> know</c><00:38:51.200><c> it's</c><00:38:51.520><c> perfectly</c><00:38:52.000><c> fine</c><00:38:52.320><c> you</c><00:38:52.400><c> know</c>

00:38:52.550 --> 00:38:52.560 align:start position:0%
uh you know it's perfectly fine you know
 

00:38:52.560 --> 00:38:54.230 align:start position:0%
uh you know it's perfectly fine you know
they're<00:38:52.720><c> schemes</c><00:38:53.119><c> where</c><00:38:53.280><c> basically</c><00:38:53.760><c> the</c><00:38:54.000><c> law</c>

00:38:54.230 --> 00:38:54.240 align:start position:0%
they're schemes where basically the law
 

00:38:54.240 --> 00:38:56.710 align:start position:0%
they're schemes where basically the law
the<00:38:54.400><c> cleaning</c><00:38:54.720><c> of</c><00:38:54.800><c> the</c><00:38:54.880><c> log</c><00:38:55.200><c> is</c><00:38:55.280><c> postponed</c><00:38:56.400><c> uh</c>

00:38:56.710 --> 00:38:56.720 align:start position:0%
the cleaning of the log is postponed uh
 

00:38:56.720 --> 00:38:59.349 align:start position:0%
the cleaning of the log is postponed uh
installation<00:38:57.359><c> is</c><00:38:57.440><c> postponed</c><00:38:57.839><c> until</c><00:38:58.079><c> later</c>

00:38:59.349 --> 00:38:59.359 align:start position:0%
installation is postponed until later
 

00:38:59.359 --> 00:39:00.870 align:start position:0%
installation is postponed until later
but<00:38:59.520><c> i'm</c><00:38:59.680><c> just</c><00:38:59.839><c> going</c><00:38:59.920><c> to</c><00:39:00.079><c> run</c><00:39:00.400><c> sort</c><00:39:00.560><c> of</c><00:39:00.640><c> with</c>

00:39:00.870 --> 00:39:00.880 align:start position:0%
but i'm just going to run sort of with
 

00:39:00.880 --> 00:39:02.870 align:start position:0%
but i'm just going to run sort of with
this<00:39:01.040><c> very</c><00:39:01.359><c> simple</c><00:39:02.240><c> scheme</c>

00:39:02.870 --> 00:39:02.880 align:start position:0%
this very simple scheme
 

00:39:02.880 --> 00:39:04.630 align:start position:0%
this very simple scheme
and<00:39:02.960><c> then</c><00:39:03.200><c> on</c><00:39:03.440><c> next</c><00:39:03.680><c> week</c><00:39:03.920><c> we'll</c><00:39:04.160><c> see</c><00:39:04.400><c> more</c>

00:39:04.630 --> 00:39:04.640 align:start position:0%
and then on next week we'll see more
 

00:39:04.640 --> 00:39:07.349 align:start position:0%
and then on next week we'll see more
sophisticated<00:39:05.839><c> logging</c><00:39:06.240><c> protocols</c>

00:39:07.349 --> 00:39:07.359 align:start position:0%
sophisticated logging protocols
 

00:39:07.359 --> 00:39:08.870 align:start position:0%
sophisticated logging protocols
but<00:39:07.599><c> all</c><00:39:07.680><c> those</c><00:39:07.920><c> logging</c><00:39:08.160><c> protocols</c><00:39:08.640><c> follow</c>

00:39:08.870 --> 00:39:08.880 align:start position:0%
but all those logging protocols follow
 

00:39:08.880 --> 00:39:10.390 align:start position:0%
but all those logging protocols follow
this<00:39:09.040><c> right</c><00:39:09.200><c> ahead</c><00:39:09.520><c> rule</c><00:39:09.839><c> that</c>

00:39:10.390 --> 00:39:10.400 align:start position:0%
this right ahead rule that
 

00:39:10.400 --> 00:39:11.670 align:start position:0%
this right ahead rule that
you<00:39:10.560><c> know</c><00:39:10.640><c> before</c><00:39:10.960><c> you</c><00:39:11.119><c> write</c><00:39:11.280><c> the</c><00:39:11.359><c> commit</c>

00:39:11.670 --> 00:39:11.680 align:start position:0%
you know before you write the commit
 

00:39:11.680 --> 00:39:13.589 align:start position:0%
you know before you write the commit
record<00:39:12.320><c> you</c><00:39:12.560><c> have</c><00:39:12.720><c> to</c><00:39:12.880><c> make</c><00:39:13.040><c> sure</c><00:39:13.200><c> that</c><00:39:13.440><c> all</c>

00:39:13.589 --> 00:39:13.599 align:start position:0%
record you have to make sure that all
 

00:39:13.599 --> 00:39:14.710 align:start position:0%
record you have to make sure that all
the<00:39:13.760><c> rights</c>

00:39:14.710 --> 00:39:14.720 align:start position:0%
the rights
 

00:39:14.720 --> 00:39:18.870 align:start position:0%
the rights
are<00:39:14.960><c> in</c><00:39:15.200><c> the</c><00:39:15.599><c> log</c>

00:39:18.870 --> 00:39:18.880 align:start position:0%
 
 

00:39:18.880 --> 00:39:20.710 align:start position:0%
 
but<00:39:19.040><c> then</c><00:39:19.200><c> there's</c><00:39:19.359><c> a</c><00:39:19.440><c> lot</c><00:39:19.839><c> within</c><00:39:20.160><c> that</c><00:39:20.480><c> still</c>

00:39:20.710 --> 00:39:20.720 align:start position:0%
but then there's a lot within that still
 

00:39:20.720 --> 00:39:22.470 align:start position:0%
but then there's a lot within that still
there's<00:39:20.960><c> a</c><00:39:21.040><c> ton</c><00:39:21.200><c> of</c><00:39:21.359><c> flexibility</c><00:39:22.079><c> in</c>

00:39:22.470 --> 00:39:22.480 align:start position:0%
there's a ton of flexibility in
 

00:39:22.480 --> 00:39:25.030 align:start position:0%
there's a ton of flexibility in
designing<00:39:23.200><c> a</c><00:39:23.520><c> particular</c><00:39:24.079><c> logging</c><00:39:24.480><c> protocol</c>

00:39:25.030 --> 00:39:25.040 align:start position:0%
designing a particular logging protocol
 

00:39:25.040 --> 00:39:25.510 align:start position:0%
designing a particular logging protocol
as<00:39:25.200><c> they're</c>

00:39:25.510 --> 00:39:25.520 align:start position:0%
as they're
 

00:39:25.520 --> 00:39:28.470 align:start position:0%
as they're
typically<00:39:25.920><c> called</c><00:39:27.440><c> okay</c><00:39:27.839><c> i'm</c><00:39:28.000><c> going</c><00:39:28.079><c> to</c><00:39:28.320><c> look</c>

00:39:28.470 --> 00:39:28.480 align:start position:0%
typically called okay i'm going to look
 

00:39:28.480 --> 00:39:29.510 align:start position:0%
typically called okay i'm going to look
a<00:39:28.560><c> little</c><00:39:28.720><c> bit</c><00:39:28.880><c> uh</c>

00:39:29.510 --> 00:39:29.520 align:start position:0%
a little bit uh
 

00:39:29.520 --> 00:39:32.630 align:start position:0%
a little bit uh
how<00:39:29.680><c> this</c><00:39:29.920><c> then</c><00:39:30.240><c> is</c><00:39:30.640><c> manifest</c><00:39:31.119><c> itself</c><00:39:31.599><c> in</c><00:39:31.920><c> xv6</c>

00:39:32.630 --> 00:39:32.640 align:start position:0%
how this then is manifest itself in xv6
 

00:39:32.640 --> 00:39:33.990 align:start position:0%
how this then is manifest itself in xv6
you<00:39:32.800><c> know</c><00:39:32.960><c> as</c><00:39:33.040><c> a</c><00:39:33.119><c> sort</c><00:39:33.280><c> of</c><00:39:33.359><c> a</c><00:39:33.440><c> case</c><00:39:33.680><c> study</c><00:39:33.920><c> and</c>

00:39:33.990 --> 00:39:34.000 align:start position:0%
you know as a sort of a case study and
 

00:39:34.000 --> 00:39:37.589 align:start position:0%
you know as a sort of a case study and
to<00:39:34.160><c> make</c><00:39:34.240><c> things</c><00:39:34.480><c> really</c><00:39:34.800><c> concrete</c>

00:39:37.589 --> 00:39:37.599 align:start position:0%
 
 

00:39:37.599 --> 00:39:41.270 align:start position:0%
 
um<00:39:39.920><c> okay</c><00:39:40.160><c> so</c><00:39:40.320><c> in</c><00:39:40.480><c> xv6</c>

00:39:41.270 --> 00:39:41.280 align:start position:0%
um okay so in xv6
 

00:39:41.280 --> 00:39:43.349 align:start position:0%
um okay so in xv6
they're<00:39:41.520><c> sort</c><00:39:41.680><c> of</c><00:39:42.320><c> uh</c><00:39:42.880><c> we're</c><00:39:43.040><c> going</c><00:39:43.119><c> to</c><00:39:43.200><c> look</c>

00:39:43.349 --> 00:39:43.359 align:start position:0%
they're sort of uh we're going to look
 

00:39:43.359 --> 00:39:44.870 align:start position:0%
they're sort of uh we're going to look
at<00:39:43.440><c> two</c><00:39:43.680><c> sort</c><00:39:43.839><c> of</c><00:39:43.920><c> pieces</c><00:39:44.160><c> of</c><00:39:44.320><c> state</c><00:39:44.640><c> if</c><00:39:44.720><c> you</c>

00:39:44.870 --> 00:39:44.880 align:start position:0%
at two sort of pieces of state if you
 

00:39:44.880 --> 00:39:45.430 align:start position:0%
at two sort of pieces of state if you
will

00:39:45.430 --> 00:39:45.440 align:start position:0%
will
 

00:39:45.440 --> 00:39:48.069 align:start position:0%
will
the<00:39:45.599><c> stuff</c><00:39:45.839><c> that</c><00:39:46.000><c> is</c><00:39:46.160><c> actually</c><00:39:46.400><c> on</c><00:39:46.640><c> disk</c><00:39:48.000><c> and</c>

00:39:48.069 --> 00:39:48.079 align:start position:0%
the stuff that is actually on disk and
 

00:39:48.079 --> 00:39:48.630 align:start position:0%
the stuff that is actually on disk and
that<00:39:48.400><c> is</c>

00:39:48.630 --> 00:39:48.640 align:start position:0%
that is
 

00:39:48.640 --> 00:39:52.550 align:start position:0%
that is
um<00:39:49.119><c> you</c><00:39:49.200><c> know</c><00:39:49.359><c> things</c><00:39:49.599><c> that</c><00:39:49.680><c> are</c><00:39:49.920><c> in</c><00:39:50.079><c> memory</c>

00:39:52.550 --> 00:39:52.560 align:start position:0%
 
 

00:39:52.560 --> 00:39:57.109 align:start position:0%
 
and<00:39:55.119><c> in-memory</c><00:39:55.680><c> contents</c><00:39:56.079><c> will</c><00:39:56.320><c> disappear</c>

00:39:57.109 --> 00:39:57.119 align:start position:0%
and in-memory contents will disappear
 

00:39:57.119 --> 00:39:58.630 align:start position:0%
and in-memory contents will disappear
on<00:39:57.359><c> or</c><00:39:57.599><c> the</c><00:39:57.680><c> way</c><00:39:57.839><c> we</c><00:39:57.920><c> should</c><00:39:58.079><c> think</c><00:39:58.240><c> about</c><00:39:58.480><c> it</c>

00:39:58.630 --> 00:39:58.640 align:start position:0%
on or the way we should think about it
 

00:39:58.640 --> 00:39:59.829 align:start position:0%
on or the way we should think about it
is<00:39:58.720><c> that</c><00:39:58.880><c> the</c><00:39:58.960><c> in-memory</c><00:39:59.359><c> contents</c><00:39:59.760><c> will</c>

00:39:59.829 --> 00:39:59.839 align:start position:0%
is that the in-memory contents will
 

00:39:59.839 --> 00:40:00.790 align:start position:0%
is that the in-memory contents will
disappear<00:40:00.400><c> on</c>

00:40:00.790 --> 00:40:00.800 align:start position:0%
disappear on
 

00:40:00.800 --> 00:40:04.630 align:start position:0%
disappear on
on<00:40:00.960><c> a</c><00:40:01.040><c> crash</c><00:40:01.440><c> or</c><00:40:01.599><c> a</c><00:40:01.680><c> power</c><00:40:02.000><c> failure</c><00:40:03.520><c> um</c>

00:40:04.630 --> 00:40:04.640 align:start position:0%
on a crash or a power failure um
 

00:40:04.640 --> 00:40:08.790 align:start position:0%
on a crash or a power failure um
and<00:40:05.680><c> the</c><00:40:07.040><c> structure</c><00:40:07.520><c> of</c><00:40:07.599><c> the</c><00:40:07.760><c> xv6</c><00:40:08.319><c> log</c>

00:40:08.790 --> 00:40:08.800 align:start position:0%
and the structure of the xv6 log
 

00:40:08.800 --> 00:40:12.550 align:start position:0%
and the structure of the xv6 log
as<00:40:09.200><c> always</c><00:40:09.680><c> is</c><00:40:10.560><c> extremely</c><00:40:11.280><c> simple</c>

00:40:12.550 --> 00:40:12.560 align:start position:0%
as always is extremely simple
 

00:40:12.560 --> 00:40:15.589 align:start position:0%
as always is extremely simple
uh<00:40:13.040><c> there's</c><00:40:13.359><c> actually</c><00:40:14.319><c> we</c><00:40:14.480><c> have</c><00:40:14.960><c> one</c><00:40:15.200><c> block</c><00:40:15.520><c> at</c>

00:40:15.589 --> 00:40:15.599 align:start position:0%
uh there's actually we have one block at
 

00:40:15.599 --> 00:40:16.309 align:start position:0%
uh there's actually we have one block at
the<00:40:15.680><c> beginning</c>

00:40:16.309 --> 00:40:16.319 align:start position:0%
the beginning
 

00:40:16.319 --> 00:40:18.390 align:start position:0%
the beginning
that's<00:40:16.480><c> the</c><00:40:16.560><c> header</c><00:40:16.880><c> block</c><00:40:17.920><c> and</c><00:40:18.079><c> that</c><00:40:18.240><c> is</c>

00:40:18.390 --> 00:40:18.400 align:start position:0%
that's the header block and that is
 

00:40:18.400 --> 00:40:19.910 align:start position:0%
that's the header block and that is
basically<00:40:18.720><c> our</c><00:40:18.880><c> commit</c><00:40:19.200><c> record</c><00:40:19.599><c> you</c><00:40:19.680><c> know</c><00:40:19.839><c> it</c>

00:40:19.910 --> 00:40:19.920 align:start position:0%
basically our commit record you know it
 

00:40:19.920 --> 00:40:21.270 align:start position:0%
basically our commit record you know it
contains

00:40:21.270 --> 00:40:21.280 align:start position:0%
contains
 

00:40:21.280 --> 00:40:23.190 align:start position:0%
contains
the<00:40:21.520><c> number</c><00:40:22.000><c> n</c><00:40:22.240><c> which</c><00:40:22.480><c> is</c><00:40:22.560><c> like</c><00:40:22.720><c> the</c><00:40:22.880><c> number</c><00:40:23.119><c> of</c>

00:40:23.190 --> 00:40:23.200 align:start position:0%
the number n which is like the number of
 

00:40:23.200 --> 00:40:24.470 align:start position:0%
the number n which is like the number of
blocks<00:40:23.520><c> in</c><00:40:23.680><c> the</c><00:40:23.760><c> log</c>

00:40:24.470 --> 00:40:24.480 align:start position:0%
blocks in the log
 

00:40:24.480 --> 00:40:28.230 align:start position:0%
blocks in the log
and<00:40:24.640><c> then</c><00:40:24.800><c> for</c><00:40:24.960><c> each</c><00:40:25.280><c> block</c><00:40:26.640><c> the</c>

00:40:28.230 --> 00:40:28.240 align:start position:0%
and then for each block the
 

00:40:28.240 --> 00:40:30.150 align:start position:0%
and then for each block the
the<00:40:28.400><c> block</c><00:40:28.720><c> number</c><00:40:29.200><c> the</c><00:40:29.359><c> home</c><00:40:29.599><c> location</c><00:40:30.079><c> of</c>

00:40:30.150 --> 00:40:30.160 align:start position:0%
the block number the home location of
 

00:40:30.160 --> 00:40:32.309 align:start position:0%
the block number the home location of
that<00:40:30.319><c> block</c>

00:40:32.309 --> 00:40:32.319 align:start position:0%
that block
 

00:40:32.319 --> 00:40:33.430 align:start position:0%
that block
blah<00:40:32.480><c> blah</c><00:40:32.640><c> blah</c><00:40:32.800><c> blah</c><00:40:33.040><c> so</c><00:40:33.200><c> they're</c><00:40:33.359><c> going</c><00:40:33.440><c> to</c>

00:40:33.430 --> 00:40:33.440 align:start position:0%
blah blah blah blah so they're going to
 

00:40:33.440 --> 00:40:37.990 align:start position:0%
blah blah blah blah so they're going to
be<00:40:33.599><c> end</c><00:40:33.760><c> of</c><00:40:36.839><c> those</c>

00:40:37.990 --> 00:40:38.000 align:start position:0%
be end of those
 

00:40:38.000 --> 00:40:40.870 align:start position:0%
be end of those
so<00:40:38.319><c> then</c><00:40:38.960><c> in</c><00:40:39.119><c> the</c><00:40:39.280><c> log</c><00:40:39.599><c> itself</c><00:40:40.079><c> r</c><00:40:40.319><c> basically</c><00:40:40.720><c> is</c>

00:40:40.870 --> 00:40:40.880 align:start position:0%
so then in the log itself r basically is
 

00:40:40.880 --> 00:40:41.829 align:start position:0%
so then in the log itself r basically is
the<00:40:40.960><c> data</c><00:40:41.280><c> for</c><00:40:41.440><c> that</c>

00:40:41.829 --> 00:40:41.839 align:start position:0%
the data for that
 

00:40:41.839 --> 00:40:43.750 align:start position:0%
the data for that
you<00:40:41.920><c> know</c><00:40:42.160><c> it</c><00:40:42.319><c> belongs</c><00:40:42.720><c> to</c><00:40:42.800><c> that</c><00:40:43.359><c> so</c><00:40:43.520><c> here's</c>

00:40:43.750 --> 00:40:43.760 align:start position:0%
you know it belongs to that so here's
 

00:40:43.760 --> 00:40:45.109 align:start position:0%
you know it belongs to that so here's
the<00:40:43.920><c> data</c><00:40:44.240><c> of</c>

00:40:45.109 --> 00:40:45.119 align:start position:0%
the data of
 

00:40:45.119 --> 00:40:50.150 align:start position:0%
the data of
bn0<00:40:46.560><c> here's</c><00:40:46.880><c> the</c><00:40:46.960><c> data</c><00:40:47.359><c> of</c><00:40:47.800><c> bn1</c><00:40:48.880><c> etc</c>

00:40:50.150 --> 00:40:50.160 align:start position:0%
bn0 here's the data of bn1 etc
 

00:40:50.160 --> 00:40:54.309 align:start position:0%
bn0 here's the data of bn1 etc
to<00:40:51.040><c> and</c><00:40:51.200><c> b</c><00:40:51.520><c> n</c><00:40:51.839><c> minus</c><00:40:52.160><c> one</c>

00:40:54.309 --> 00:40:54.319 align:start position:0%
to and b n minus one
 

00:40:54.319 --> 00:40:56.790 align:start position:0%
to and b n minus one
so<00:40:54.480><c> that's</c><00:40:54.800><c> what's</c><00:40:55.040><c> in</c><00:40:55.119><c> the</c><00:40:55.280><c> log</c><00:40:56.319><c> uh</c><00:40:56.640><c> and</c>

00:40:56.790 --> 00:40:56.800 align:start position:0%
so that's what's in the log uh and
 

00:40:56.800 --> 00:40:57.990 align:start position:0%
so that's what's in the log uh and
actually<00:40:57.119><c> does</c><00:40:57.280><c> the</c><00:40:57.359><c> only</c><00:40:57.599><c> thing</c><00:40:57.680><c> that's</c><00:40:57.839><c> sort</c>

00:40:57.990 --> 00:40:58.000 align:start position:0%
actually does the only thing that's sort
 

00:40:58.000 --> 00:41:00.550 align:start position:0%
actually does the only thing that's sort
of<00:40:58.079><c> in</c><00:40:58.160><c> the</c><00:40:58.319><c> log</c><00:40:58.560><c> there's</c><00:40:58.800><c> nothing</c><00:40:59.040><c> more</c><00:40:59.200><c> to</c><00:40:59.440><c> it</c>

00:41:00.550 --> 00:41:00.560 align:start position:0%
of in the log there's nothing more to it
 

00:41:00.560 --> 00:41:02.230 align:start position:0%
of in the log there's nothing more to it
then<00:41:00.800><c> in</c><00:41:00.960><c> memory</c><00:41:01.359><c> when</c><00:41:01.599><c> a</c><00:41:01.680><c> while</c><00:41:01.920><c> the</c><00:41:02.000><c> file</c>

00:41:02.230 --> 00:41:02.240 align:start position:0%
then in memory when a while the file
 

00:41:02.240 --> 00:41:05.829 align:start position:0%
then in memory when a while the file
system<00:41:02.560><c> is</c><00:41:02.640><c> running</c><00:41:03.440><c> uh</c><00:41:03.760><c> there's</c><00:41:04.079><c> an</c><00:41:04.240><c> in</c><00:41:04.400><c> copy</c>

00:41:05.829 --> 00:41:05.839 align:start position:0%
system is running uh there's an in copy
 

00:41:05.839 --> 00:41:09.430 align:start position:0%
system is running uh there's an in copy
or<00:41:06.160><c> in-memory</c><00:41:06.560><c> version</c><00:41:06.880><c> of</c><00:41:07.040><c> the</c><00:41:07.119><c> header</c>

00:41:09.430 --> 00:41:09.440 align:start position:0%
or in-memory version of the header
 

00:41:09.440 --> 00:41:12.150 align:start position:0%
or in-memory version of the header
and<00:41:09.760><c> it</c><00:41:09.920><c> basically</c><00:41:10.400><c> has</c><00:41:10.720><c> the</c><00:41:10.880><c> n</c><00:41:11.440><c> and</c><00:41:11.760><c> it</c><00:41:11.920><c> has</c>

00:41:12.150 --> 00:41:12.160 align:start position:0%
and it basically has the n and it has
 

00:41:12.160 --> 00:41:17.670 align:start position:0%
and it basically has the n and it has
array<00:41:12.800><c> of</c><00:41:13.040><c> block</c><00:41:13.280><c> numbers</c>

00:41:17.670 --> 00:41:17.680 align:start position:0%
 
 

00:41:17.680 --> 00:41:20.710 align:start position:0%
 
etc<00:41:18.960><c> uh</c><00:41:20.079><c> and</c><00:41:20.240><c> then</c>

00:41:20.710 --> 00:41:20.720 align:start position:0%
etc uh and then
 

00:41:20.720 --> 00:41:23.829 align:start position:0%
etc uh and then
you<00:41:20.800><c> know</c><00:41:21.040><c> these</c><00:41:21.200><c> block</c><00:41:21.520><c> numbers</c><00:41:22.400><c> uh</c><00:41:22.880><c> refer</c><00:41:23.280><c> to</c>

00:41:23.829 --> 00:41:23.839 align:start position:0%
you know these block numbers uh refer to
 

00:41:23.839 --> 00:41:26.069 align:start position:0%
you know these block numbers uh refer to
uh<00:41:24.160><c> blocks</c><00:41:24.480><c> that</c><00:41:24.640><c> are</c><00:41:24.800><c> sitting</c><00:41:25.200><c> in</c><00:41:25.440><c> the</c><00:41:25.599><c> data</c>

00:41:26.069 --> 00:41:26.079 align:start position:0%
uh blocks that are sitting in the data
 

00:41:26.079 --> 00:41:27.510 align:start position:0%
uh blocks that are sitting in the data
that<00:41:26.319><c> actually</c>

00:41:27.510 --> 00:41:27.520 align:start position:0%
that actually
 

00:41:27.520 --> 00:41:29.030 align:start position:0%
that actually
corresponds<00:41:28.079><c> to</c><00:41:28.240><c> the</c><00:41:28.319><c> block</c><00:41:28.560><c> numbers</c><00:41:28.880><c> that</c>

00:41:29.030 --> 00:41:29.040 align:start position:0%
corresponds to the block numbers that
 

00:41:29.040 --> 00:41:30.390 align:start position:0%
corresponds to the block numbers that
are<00:41:29.119><c> sort</c><00:41:29.280><c> of</c><00:41:29.359><c> sitting</c><00:41:29.599><c> in</c><00:41:29.680><c> this</c><00:41:29.920><c> in-memory</c>

00:41:30.390 --> 00:41:30.400 align:start position:0%
are sort of sitting in this in-memory
 

00:41:30.400 --> 00:41:31.270 align:start position:0%
are sort of sitting in this in-memory
data<00:41:30.640><c> structure</c>

00:41:31.270 --> 00:41:31.280 align:start position:0%
data structure
 

00:41:31.280 --> 00:41:34.230 align:start position:0%
data structure
they<00:41:31.520><c> live</c><00:41:31.760><c> in</c><00:41:31.920><c> the</c><00:41:32.319><c> block</c><00:41:32.839><c> cache</c><00:41:33.839><c> which</c><00:41:34.079><c> you</c>

00:41:34.230 --> 00:41:34.240 align:start position:0%
they live in the block cache which you
 

00:41:34.240 --> 00:41:34.470 align:start position:0%
they live in the block cache which you
know

00:41:34.470 --> 00:41:34.480 align:start position:0%
know
 

00:41:34.480 --> 00:41:37.190 align:start position:0%
know
by<00:41:34.640><c> now</c><00:41:34.800><c> you're</c><00:41:35.040><c> well</c><00:41:35.200><c> familiar</c><00:41:35.680><c> with</c><00:41:36.720><c> and</c><00:41:36.960><c> so</c>

00:41:37.190 --> 00:41:37.200 align:start position:0%
by now you're well familiar with and so
 

00:41:37.200 --> 00:41:38.710 align:start position:0%
by now you're well familiar with and so
maybe<00:41:37.520><c> this</c><00:41:37.760><c> is</c><00:41:37.839><c> like</c><00:41:38.000><c> block</c><00:41:38.319><c> 10</c>

00:41:38.710 --> 00:41:38.720 align:start position:0%
maybe this is like block 10
 

00:41:38.720 --> 00:41:42.230 align:start position:0%
maybe this is like block 10
is<00:41:38.960><c> the</c><00:41:40.319><c> first</c><00:41:40.720><c> block</c><00:41:41.040><c> in</c><00:41:41.119><c> the</c><00:41:41.280><c> log</c><00:41:41.680><c> or</c><00:41:41.920><c> maybe</c>

00:41:42.230 --> 00:41:42.240 align:start position:0%
is the first block in the log or maybe
 

00:41:42.240 --> 00:41:44.309 align:start position:0%
is the first block in the log or maybe
let<00:41:42.400><c> me</c><00:41:42.880><c> take</c><00:41:43.040><c> a</c><00:41:43.119><c> more</c><00:41:43.280><c> concrete</c><00:41:43.680><c> example</c><00:41:44.000><c> from</c>

00:41:44.309 --> 00:41:44.319 align:start position:0%
let me take a more concrete example from
 

00:41:44.319 --> 00:41:46.390 align:start position:0%
let me take a more concrete example from
that<00:41:44.560><c> lines</c><00:41:44.880><c> up</c><00:41:45.040><c> with</c><00:41:45.280><c> our</c><00:41:45.440><c> previous</c><00:41:45.920><c> thing</c><00:41:46.079><c> so</c>

00:41:46.390 --> 00:41:46.400 align:start position:0%
that lines up with our previous thing so
 

00:41:46.400 --> 00:41:49.349 align:start position:0%
that lines up with our previous thing so
maybe<00:41:46.640><c> this</c><00:41:46.880><c> is</c><00:41:47.040><c> like</c><00:41:47.200><c> 45</c>

00:41:49.349 --> 00:41:49.359 align:start position:0%
maybe this is like 45
 

00:41:49.359 --> 00:41:51.190 align:start position:0%
maybe this is like 45
and<00:41:49.680><c> basically</c><00:41:50.240><c> you</c><00:41:50.319><c> know</c><00:41:50.560><c> somewhere</c><00:41:50.880><c> in</c><00:41:51.040><c> the</c>

00:41:51.190 --> 00:41:51.200 align:start position:0%
and basically you know somewhere in the
 

00:41:51.200 --> 00:41:53.030 align:start position:0%
and basically you know somewhere in the
in<00:41:51.440><c> cash</c><00:41:52.160><c> in</c><00:41:52.319><c> the</c><00:41:52.400><c> broadcast</c>

00:41:53.030 --> 00:41:53.040 align:start position:0%
in cash in the broadcast
 

00:41:53.040 --> 00:41:55.589 align:start position:0%
in cash in the broadcast
of<00:41:53.119><c> course</c><00:41:53.440><c> you</c><00:41:53.599><c> know</c><00:41:53.680><c> whatever</c><00:41:54.160><c> block</c><00:41:54.400><c> for</c><00:41:54.720><c> 45</c>

00:41:55.589 --> 00:41:55.599 align:start position:0%
of course you know whatever block for 45
 

00:41:55.599 --> 00:41:56.950 align:start position:0%
of course you know whatever block for 45
and<00:41:55.680><c> here's</c><00:41:56.000><c> his</c><00:41:56.160><c> data</c>

00:41:56.950 --> 00:41:56.960 align:start position:0%
and here's his data
 

00:41:56.960 --> 00:41:59.990 align:start position:0%
and here's his data
okay<00:41:58.079><c> and</c><00:41:58.160><c> that's</c><00:41:58.319><c> one</c><00:41:58.480><c> of</c><00:41:58.560><c> the</c><00:41:58.720><c> structures</c><00:41:59.520><c> uh</c>

00:41:59.990 --> 00:42:00.000 align:start position:0%
okay and that's one of the structures uh
 

00:42:00.000 --> 00:42:03.109 align:start position:0%
okay and that's one of the structures uh
that<00:42:00.839><c> uh</c>

00:42:03.109 --> 00:42:03.119 align:start position:0%
that uh
 

00:42:03.119 --> 00:42:06.390 align:start position:0%
that uh
the<00:42:04.079><c> on</c><00:42:04.319><c> disk</c><00:42:04.960><c> uh</c><00:42:05.359><c> the</c><00:42:05.520><c> in-memory</c><00:42:05.920><c> file</c><00:42:06.160><c> system</c>

00:42:06.390 --> 00:42:06.400 align:start position:0%
the on disk uh the in-memory file system
 

00:42:06.400 --> 00:42:07.030 align:start position:0%
the on disk uh the in-memory file system
has<00:42:06.720><c> and</c>

00:42:07.030 --> 00:42:07.040 align:start position:0%
has and
 

00:42:07.040 --> 00:42:08.630 align:start position:0%
has and
on<00:42:07.200><c> this</c><00:42:07.440><c> file</c><00:42:07.680><c> system</c><00:42:07.920><c> has</c><00:42:08.079><c> so</c><00:42:08.240><c> the</c><00:42:08.319><c> unless</c>

00:42:08.630 --> 00:42:08.640 align:start position:0%
on this file system has so the unless
 

00:42:08.640 --> 00:42:10.309 align:start position:0%
on this file system has so the unless
file<00:42:08.880><c> system</c><00:42:09.200><c> just</c><00:42:09.359><c> has</c><00:42:09.599><c> the</c><00:42:09.760><c> log</c>

00:42:10.309 --> 00:42:10.319 align:start position:0%
file system just has the log
 

00:42:10.319 --> 00:42:12.069 align:start position:0%
file system just has the log
the<00:42:10.480><c> in-memory</c><00:42:10.960><c> has</c><00:42:11.280><c> these</c><00:42:11.440><c> data</c><00:42:11.760><c> structures</c>

00:42:12.069 --> 00:42:12.079 align:start position:0%
the in-memory has these data structures
 

00:42:12.079 --> 00:42:13.349 align:start position:0%
the in-memory has these data structures
to<00:42:12.240><c> orchestrate</c>

00:42:13.349 --> 00:42:13.359 align:start position:0%
to orchestrate
 

00:42:13.359 --> 00:42:15.030 align:start position:0%
to orchestrate
uh<00:42:13.680><c> these</c><00:42:13.920><c> multi-write</c><00:42:14.480><c> operations</c><00:42:14.960><c> that</c>

00:42:15.030 --> 00:42:15.040 align:start position:0%
uh these multi-write operations that
 

00:42:15.040 --> 00:42:17.109 align:start position:0%
uh these multi-write operations that
we're<00:42:15.200><c> going</c><00:42:15.280><c> to</c><00:42:15.359><c> be</c><00:42:15.520><c> doing</c>

00:42:17.109 --> 00:42:17.119 align:start position:0%
we're going to be doing
 

00:42:17.119 --> 00:42:20.230 align:start position:0%
we're going to be doing
okay

00:42:20.230 --> 00:42:20.240 align:start position:0%
 
 

00:42:20.240 --> 00:42:23.030 align:start position:0%
 
so<00:42:21.119><c> to</c><00:42:21.280><c> make</c><00:42:21.440><c> this</c><00:42:21.599><c> a</c><00:42:21.599><c> little</c><00:42:21.839><c> more</c><00:42:22.000><c> concrete</c>

00:42:23.030 --> 00:42:23.040 align:start position:0%
so to make this a little more concrete
 

00:42:23.040 --> 00:42:25.750 align:start position:0%
so to make this a little more concrete
just<00:42:23.280><c> let's</c><00:42:23.520><c> look</c><00:42:23.680><c> at</c><00:42:23.839><c> some</c><00:42:24.079><c> code</c>

00:42:25.750 --> 00:42:25.760 align:start position:0%
just let's look at some code
 

00:42:25.760 --> 00:42:28.950 align:start position:0%
just let's look at some code
and<00:42:26.560><c> that</c><00:42:26.720><c> will</c><00:42:26.880><c> help</c><00:42:27.119><c> us</c><00:42:27.520><c> understand</c>

00:42:28.950 --> 00:42:28.960 align:start position:0%
and that will help us understand
 

00:42:28.960 --> 00:42:33.430 align:start position:0%
and that will help us understand
how<00:42:29.119><c> everything</c><00:42:29.520><c> works</c>

00:42:33.430 --> 00:42:33.440 align:start position:0%
 
 

00:42:33.440 --> 00:42:36.710 align:start position:0%
 
so<00:42:33.760><c> let</c><00:42:33.920><c> me</c><00:42:36.079><c> pull</c><00:42:36.319><c> up</c>

00:42:36.710 --> 00:42:36.720 align:start position:0%
so let me pull up
 

00:42:36.720 --> 00:42:41.109 align:start position:0%
so let me pull up
some<00:42:36.960><c> code</c><00:42:38.160><c> and</c><00:42:38.400><c> let</c><00:42:38.560><c> me</c><00:42:38.720><c> put</c><00:42:38.880><c> this</c><00:42:39.200><c> next</c><00:42:39.440><c> to</c><00:42:39.680><c> it</c>

00:42:41.109 --> 00:42:41.119 align:start position:0%
some code and let me put this next to it
 

00:42:41.119 --> 00:42:43.910 align:start position:0%
some code and let me put this next to it
keep<00:42:41.359><c> that</c><00:42:41.680><c> picture</c><00:42:42.880><c> so</c><00:42:43.040><c> that</c><00:42:43.200><c> we</c><00:42:43.359><c> can</c><00:42:43.599><c> look</c><00:42:43.760><c> at</c>

00:42:43.910 --> 00:42:43.920 align:start position:0%
keep that picture so that we can look at
 

00:42:43.920 --> 00:42:44.870 align:start position:0%
keep that picture so that we can look at
it<00:42:44.079><c> if</c><00:42:44.160><c> we</c>

00:42:44.870 --> 00:42:44.880 align:start position:0%
it if we
 

00:42:44.880 --> 00:42:48.309 align:start position:0%
it if we
want<00:42:45.119><c> to</c><00:42:45.280><c> or</c><00:42:45.440><c> i</c><00:42:45.520><c> can</c><00:42:45.680><c> point</c><00:42:45.920><c> to</c><00:42:46.079><c> it</c>

00:42:48.309 --> 00:42:48.319 align:start position:0%
 
 

00:42:48.319 --> 00:42:53.589 align:start position:0%
 
can<00:42:48.560><c> everybody</c><00:42:48.800><c> see</c><00:42:48.960><c> my</c><00:42:49.119><c> code</c>

00:42:53.589 --> 00:42:53.599 align:start position:0%
 
 

00:42:53.599 --> 00:42:55.430 align:start position:0%
 
yeah<00:42:54.319><c> somebody</c><00:42:54.720><c> has</c><00:42:54.800><c> to</c><00:42:54.880><c> confirm</c><00:42:55.280><c> that</c>

00:42:55.430 --> 00:42:55.440 align:start position:0%
yeah somebody has to confirm that
 

00:42:55.440 --> 00:42:56.870 align:start position:0%
yeah somebody has to confirm that
they've<00:42:55.680><c> seen</c><00:42:56.000><c> the</c>

00:42:56.870 --> 00:42:56.880 align:start position:0%
they've seen the
 

00:42:56.880 --> 00:42:59.349 align:start position:0%
they've seen the
emacs<00:42:57.280><c> window</c><00:42:58.000><c> yeah</c><00:42:58.240><c> we</c><00:42:58.319><c> can</c><00:42:58.480><c> see</c><00:42:58.640><c> it</c><00:42:58.960><c> good</c>

00:42:59.349 --> 00:42:59.359 align:start position:0%
emacs window yeah we can see it good
 

00:42:59.359 --> 00:43:00.230 align:start position:0%
emacs window yeah we can see it good
good

00:43:00.230 --> 00:43:00.240 align:start position:0%
good
 

00:43:00.240 --> 00:43:03.990 align:start position:0%
good
is<00:43:00.400><c> it</c><00:43:00.480><c> big</c><00:43:00.720><c> enough</c>

00:43:03.990 --> 00:43:04.000 align:start position:0%
 
 

00:43:04.000 --> 00:43:06.950 align:start position:0%
 
i<00:43:04.160><c> think</c><00:43:04.400><c> it's</c><00:43:04.560><c> good</c><00:43:05.359><c> okay</c><00:43:05.920><c> it</c><00:43:06.000><c> looks</c><00:43:06.240><c> good</c>

00:43:06.950 --> 00:43:06.960 align:start position:0%
i think it's good okay it looks good
 

00:43:06.960 --> 00:43:08.390 align:start position:0%
i think it's good okay it looks good
okay<00:43:07.280><c> thank</c><00:43:07.440><c> you</c>

00:43:08.390 --> 00:43:08.400 align:start position:0%
okay thank you
 

00:43:08.400 --> 00:43:11.510 align:start position:0%
okay thank you
okay<00:43:08.640><c> so</c><00:43:09.119><c> let's</c><00:43:09.599><c> start</c><00:43:09.839><c> with</c><00:43:10.079><c> the</c><00:43:11.119><c> you</c><00:43:11.280><c> know</c>

00:43:11.510 --> 00:43:11.520 align:start position:0%
okay so let's start with the you know
 

00:43:11.520 --> 00:43:14.150 align:start position:0%
okay so let's start with the you know
i i<00:43:12.000><c> talked</c><00:43:12.240><c> about</c><00:43:12.480><c> transactions</c><00:43:13.040><c> right</c><00:43:13.440><c> um</c>

00:43:14.150 --> 00:43:14.160 align:start position:0%
i i talked about transactions right um
 

00:43:14.160 --> 00:43:15.589 align:start position:0%
i i talked about transactions right um
uh<00:43:14.480><c> you</c><00:43:14.640><c> know</c><00:43:14.800><c> the</c><00:43:14.960><c> fact</c><00:43:15.200><c> that</c>

00:43:15.589 --> 00:43:15.599 align:start position:0%
uh you know the fact that
 

00:43:15.599 --> 00:43:18.870 align:start position:0%
uh you know the fact that
you<00:43:15.760><c> know</c><00:43:15.920><c> the</c><00:43:16.880><c> we</c><00:43:17.040><c> should</c><00:43:17.200><c> not</c><00:43:17.359><c> commit</c><00:43:18.079><c> until</c>

00:43:18.870 --> 00:43:18.880 align:start position:0%
you know the we should not commit until
 

00:43:18.880 --> 00:43:19.910 align:start position:0%
you know the we should not commit until
you<00:43:19.040><c> know</c><00:43:19.119><c> we</c><00:43:19.200><c> should</c><00:43:19.359><c> not</c><00:43:19.440><c> write</c><00:43:19.599><c> a</c><00:43:19.680><c> commit</c>

00:43:19.910 --> 00:43:19.920 align:start position:0%
you know we should not write a commit
 

00:43:19.920 --> 00:43:22.390 align:start position:0%
you know we should not write a commit
writer<00:43:20.319><c> until</c><00:43:20.560><c> all</c><00:43:20.720><c> the</c><00:43:20.880><c> rights</c><00:43:21.119><c> have</c><00:43:21.280><c> done</c>

00:43:22.390 --> 00:43:22.400 align:start position:0%
writer until all the rights have done
 

00:43:22.400 --> 00:43:24.710 align:start position:0%
writer until all the rights have done
and<00:43:22.880><c> uh</c><00:43:23.040><c> so</c><00:43:23.200><c> that</c><00:43:23.440><c> means</c><00:43:23.760><c> that</c><00:43:23.920><c> the</c><00:43:24.480><c> file</c>

00:43:24.710 --> 00:43:24.720 align:start position:0%
and uh so that means that the file
 

00:43:24.720 --> 00:43:26.230 align:start position:0%
and uh so that means that the file
system<00:43:25.040><c> operations</c>

00:43:26.230 --> 00:43:26.240 align:start position:0%
system operations
 

00:43:26.240 --> 00:43:27.829 align:start position:0%
system operations
must<00:43:26.640><c> indicate</c><00:43:27.040><c> sort</c><00:43:27.200><c> of</c><00:43:27.280><c> what</c><00:43:27.440><c> the</c><00:43:27.520><c> beginning</c>

00:43:27.829 --> 00:43:27.839 align:start position:0%
must indicate sort of what the beginning
 

00:43:27.839 --> 00:43:29.430 align:start position:0%
must indicate sort of what the beginning
of<00:43:27.920><c> transaction</c><00:43:28.560><c> is</c><00:43:28.720><c> and</c><00:43:28.960><c> particularly</c><00:43:29.280><c> what</c>

00:43:29.430 --> 00:43:29.440 align:start position:0%
of transaction is and particularly what
 

00:43:29.440 --> 00:43:31.349 align:start position:0%
of transaction is and particularly what
the<00:43:29.520><c> end</c><00:43:29.680><c> of</c><00:43:29.839><c> the</c><00:43:29.920><c> transaction</c><00:43:30.400><c> is</c>

00:43:31.349 --> 00:43:31.359 align:start position:0%
the end of the transaction is
 

00:43:31.359 --> 00:43:33.990 align:start position:0%
the end of the transaction is
and<00:43:31.920><c> the</c><00:43:32.079><c> way</c><00:43:32.319><c> that</c><00:43:32.560><c> happens</c><00:43:32.880><c> in</c><00:43:33.040><c> xv6</c><00:43:33.599><c> is</c><00:43:33.680><c> that</c>

00:43:33.990 --> 00:43:34.000 align:start position:0%
and the way that happens in xv6 is that
 

00:43:34.000 --> 00:43:36.230 align:start position:0%
and the way that happens in xv6 is that
every<00:43:34.240><c> file</c><00:43:34.480><c> system</c><00:43:34.880><c> call</c>

00:43:36.230 --> 00:43:36.240 align:start position:0%
every file system call
 

00:43:36.240 --> 00:43:38.630 align:start position:0%
every file system call
you<00:43:36.400><c> know</c><00:43:36.560><c> here's</c><00:43:37.280><c> open</c><00:43:37.920><c> the</c><00:43:38.000><c> corresponds</c><00:43:38.480><c> to</c>

00:43:38.630 --> 00:43:38.640 align:start position:0%
you know here's open the corresponds to
 

00:43:38.640 --> 00:43:40.870 align:start position:0%
you know here's open the corresponds to
create<00:43:38.960><c> basically</c><00:43:39.760><c> starts</c><00:43:40.079><c> with</c><00:43:40.240><c> begin</c><00:43:40.640><c> up</c>

00:43:40.870 --> 00:43:40.880 align:start position:0%
create basically starts with begin up
 

00:43:40.880 --> 00:43:41.190 align:start position:0%
create basically starts with begin up
and

00:43:41.190 --> 00:43:41.200 align:start position:0%
and
 

00:43:41.200 --> 00:43:42.790 align:start position:0%
and
you<00:43:41.280><c> know</c><00:43:41.440><c> basically</c><00:43:41.839><c> indicates</c><00:43:42.319><c> like</c><00:43:42.480><c> okay</c><00:43:42.720><c> i</c>

00:43:42.790 --> 00:43:42.800 align:start position:0%
you know basically indicates like okay i
 

00:43:42.800 --> 00:43:44.710 align:start position:0%
you know basically indicates like okay i
want<00:43:42.960><c> to</c><00:43:43.040><c> start</c><00:43:43.200><c> a</c><00:43:43.280><c> transaction</c><00:43:44.160><c> and</c><00:43:44.400><c> i</c><00:43:44.480><c> want</c>

00:43:44.710 --> 00:43:44.720 align:start position:0%
want to start a transaction and i want
 

00:43:44.720 --> 00:43:45.990 align:start position:0%
want to start a transaction and i want
all<00:43:44.880><c> the</c><00:43:45.040><c> block</c><00:43:45.440><c> rights</c><00:43:45.680><c> that</c><00:43:45.839><c> i've</c><00:43:45.920><c> been</c>

00:43:45.990 --> 00:43:46.000 align:start position:0%
all the block rights that i've been
 

00:43:46.000 --> 00:43:47.510 align:start position:0%
all the block rights that i've been
doing<00:43:46.240><c> between</c><00:43:46.560><c> begin</c><00:43:46.880><c> up</c>

00:43:47.510 --> 00:43:47.520 align:start position:0%
doing between begin up
 

00:43:47.520 --> 00:43:49.190 align:start position:0%
doing between begin up
and<00:43:47.760><c> end</c><00:43:48.000><c> up</c><00:43:48.160><c> which</c><00:43:48.400><c> is</c><00:43:48.480><c> basically</c><00:43:48.800><c> at</c><00:43:48.880><c> the</c><00:43:49.040><c> end</c>

00:43:49.190 --> 00:43:49.200 align:start position:0%
and end up which is basically at the end
 

00:43:49.200 --> 00:43:51.510 align:start position:0%
and end up which is basically at the end
of<00:43:49.440><c> the</c><00:43:49.520><c> transaction</c><00:43:50.480><c> to</c><00:43:50.640><c> be</c><00:43:50.800><c> atomic</c>

00:43:51.510 --> 00:43:51.520 align:start position:0%
of the transaction to be atomic
 

00:43:51.520 --> 00:43:52.790 align:start position:0%
of the transaction to be atomic
meaning<00:43:51.920><c> you</c><00:43:52.079><c> know</c><00:43:52.240><c> they</c><00:43:52.319><c> should</c><00:43:52.480><c> be</c><00:43:52.640><c> all</c>

00:43:52.790 --> 00:43:52.800 align:start position:0%
meaning you know they should be all
 

00:43:52.800 --> 00:43:54.870 align:start position:0%
meaning you know they should be all
applied<00:43:53.040><c> to</c><00:43:53.200><c> none</c><00:43:53.359><c> of</c><00:43:53.440><c> them</c><00:43:53.680><c> should</c><00:43:53.839><c> replied</c>

00:43:54.870 --> 00:43:54.880 align:start position:0%
applied to none of them should replied
 

00:43:54.880 --> 00:43:57.910 align:start position:0%
applied to none of them should replied
okay<00:43:55.680><c> and</c><00:43:55.760><c> so</c><00:43:56.000><c> every</c><00:43:56.480><c> file</c><00:43:56.720><c> system</c><00:43:57.119><c> call</c><00:43:57.520><c> in</c>

00:43:57.910 --> 00:43:57.920 align:start position:0%
okay and so every file system call in
 

00:43:57.920 --> 00:44:01.349 align:start position:0%
okay and so every file system call in
uh<00:43:59.200><c> xv6</c><00:44:00.000><c> has</c><00:44:00.240><c> that</c><00:44:00.480><c> structure</c><00:44:00.960><c> and</c><00:44:01.200><c> that</c>

00:44:01.349 --> 00:44:01.359 align:start position:0%
uh xv6 has that structure and that
 

00:44:01.359 --> 00:44:02.230 align:start position:0%
uh xv6 has that structure and that
basically<00:44:01.760><c> has</c><00:44:01.839><c> begin</c>

00:44:02.230 --> 00:44:02.240 align:start position:0%
basically has begin
 

00:44:02.240 --> 00:44:04.069 align:start position:0%
basically has begin
up<00:44:02.640><c> then</c><00:44:02.880><c> the</c><00:44:03.200><c> code</c><00:44:03.440><c> that</c><00:44:03.599><c> implements</c><00:44:04.000><c> the</c>

00:44:04.069 --> 00:44:04.079 align:start position:0%
up then the code that implements the
 

00:44:04.079 --> 00:44:07.030 align:start position:0%
up then the code that implements the
file<00:44:04.319><c> system</c><00:44:04.640><c> call</c><00:44:04.880><c> and</c><00:44:04.960><c> then</c><00:44:05.200><c> end</c><00:44:05.520><c> up</c>

00:44:07.030 --> 00:44:07.040 align:start position:0%
file system call and then end up
 

00:44:07.040 --> 00:44:08.390 align:start position:0%
file system call and then end up
and<00:44:07.200><c> at</c><00:44:07.440><c> end</c><00:44:07.599><c> up</c><00:44:07.760><c> is</c><00:44:07.920><c> basically</c><00:44:08.160><c> where</c><00:44:08.319><c> the</c>

00:44:08.390 --> 00:44:08.400 align:start position:0%
and at end up is basically where the
 

00:44:08.400 --> 00:44:10.390 align:start position:0%
and at end up is basically where the
commit<00:44:08.640><c> operation</c><00:44:09.040><c> happens</c>

00:44:10.390 --> 00:44:10.400 align:start position:0%
commit operation happens
 

00:44:10.400 --> 00:44:12.790 align:start position:0%
commit operation happens
uh<00:44:10.800><c> so</c><00:44:10.960><c> basically</c><00:44:11.440><c> between</c><00:44:11.920><c> beginner</c><00:44:12.480><c> and</c><00:44:12.640><c> end</c>

00:44:12.790 --> 00:44:12.800 align:start position:0%
uh so basically between beginner and end
 

00:44:12.800 --> 00:44:13.670 align:start position:0%
uh so basically between beginner and end
up

00:44:13.670 --> 00:44:13.680 align:start position:0%
up
 

00:44:13.680 --> 00:44:15.510 align:start position:0%
up
the<00:44:13.839><c> on</c><00:44:14.079><c> disk</c><00:44:14.480><c> or</c><00:44:14.560><c> the</c><00:44:14.800><c> in-memory</c><00:44:15.200><c> data</c>

00:44:15.510 --> 00:44:15.520 align:start position:0%
the on disk or the in-memory data
 

00:44:15.520 --> 00:44:16.710 align:start position:0%
the on disk or the in-memory data
structure<00:44:15.760><c> should</c><00:44:15.920><c> be</c><00:44:16.160><c> updated</c><00:44:16.480><c> you</c><00:44:16.640><c> know</c>

00:44:16.710 --> 00:44:16.720 align:start position:0%
structure should be updated you know
 

00:44:16.720 --> 00:44:17.430 align:start position:0%
structure should be updated you know
whatever<00:44:17.119><c> the</c>

00:44:17.430 --> 00:44:17.440 align:start position:0%
whatever the
 

00:44:17.440 --> 00:44:19.270 align:start position:0%
whatever the
memory<00:44:17.839><c> log</c><00:44:18.000><c> may</c><00:44:18.160><c> be</c><00:44:18.319><c> updated</c><00:44:18.880><c> the</c><00:44:19.040><c> block</c>

00:44:19.270 --> 00:44:19.280 align:start position:0%
memory log may be updated the block
 

00:44:19.280 --> 00:44:20.950 align:start position:0%
memory log may be updated the block
cache<00:44:19.520><c> might</c><00:44:19.680><c> be</c><00:44:19.839><c> updated</c>

00:44:20.950 --> 00:44:20.960 align:start position:0%
cache might be updated
 

00:44:20.960 --> 00:44:24.150 align:start position:0%
cache might be updated
but<00:44:21.119><c> nothing</c><00:44:21.520><c> really</c><00:44:21.920><c> happens</c><00:44:22.880><c> until</c><00:44:23.359><c> end</c><00:44:23.599><c> up</c>

00:44:24.150 --> 00:44:24.160 align:start position:0%
but nothing really happens until end up
 

00:44:24.160 --> 00:44:25.829 align:start position:0%
but nothing really happens until end up
and<00:44:24.319><c> at</c><00:44:24.480><c> end</c><00:44:24.720><c> of</c><00:44:24.880><c> time</c><00:44:25.200><c> we're</c><00:44:25.359><c> basically</c><00:44:25.760><c> going</c>

00:44:25.829 --> 00:44:25.839 align:start position:0%
and at end of time we're basically going
 

00:44:25.839 --> 00:44:28.069 align:start position:0%
and at end of time we're basically going
to<00:44:26.480><c> put</c><00:44:26.640><c> things</c><00:44:26.960><c> into</c><00:44:27.200><c> the</c><00:44:27.359><c> log</c>

00:44:28.069 --> 00:44:28.079 align:start position:0%
to put things into the log
 

00:44:28.079 --> 00:44:30.630 align:start position:0%
to put things into the log
and<00:44:28.160><c> then</c><00:44:28.400><c> if</c><00:44:28.560><c> we</c><00:44:29.119><c> uh</c><00:44:29.920><c> done</c><00:44:30.240><c> with</c><00:44:30.400><c> putting</c>

00:44:30.630 --> 00:44:30.640 align:start position:0%
and then if we uh done with putting
 

00:44:30.640 --> 00:44:31.670 align:start position:0%
and then if we uh done with putting
everything<00:44:31.040><c> in</c><00:44:31.119><c> the</c><00:44:31.200><c> log</c>

00:44:31.670 --> 00:44:31.680 align:start position:0%
everything in the log
 

00:44:31.680 --> 00:44:33.030 align:start position:0%
everything in the log
we'll<00:44:31.920><c> actually</c><00:44:32.240><c> you</c><00:44:32.319><c> know</c><00:44:32.480><c> write</c><00:44:32.640><c> the</c><00:44:32.720><c> commit</c>

00:44:33.030 --> 00:44:33.040 align:start position:0%
we'll actually you know write the commit
 

00:44:33.040 --> 00:44:35.990 align:start position:0%
we'll actually you know write the commit
record<00:44:33.359><c> or</c><00:44:33.599><c> the</c><00:44:33.920><c> log</c><00:44:34.839><c> header</c>

00:44:35.990 --> 00:44:36.000 align:start position:0%
record or the log header
 

00:44:36.000 --> 00:44:39.190 align:start position:0%
record or the log header
okay<00:44:37.119><c> so</c><00:44:37.280><c> let's</c><00:44:37.520><c> uh</c>

00:44:39.190 --> 00:44:39.200 align:start position:0%
okay so let's uh
 

00:44:39.200 --> 00:44:40.550 align:start position:0%
okay so let's uh
so<00:44:39.520><c> what</c><00:44:39.680><c> is</c><00:44:39.839><c> interesting</c><00:44:40.160><c> of</c><00:44:40.240><c> course</c><00:44:40.400><c> then</c>

00:44:40.550 --> 00:44:40.560 align:start position:0%
so what is interesting of course then
 

00:44:40.560 --> 00:44:42.309 align:start position:0%
so what is interesting of course then
what<00:44:40.720><c> happens</c><00:44:41.040><c> is</c><00:44:41.200><c> every</c><00:44:41.520><c> write</c><00:44:41.839><c> correctly</c>

00:44:42.309 --> 00:44:42.319 align:start position:0%
what happens is every write correctly
 

00:44:42.319 --> 00:44:44.150 align:start position:0%
what happens is every write correctly
whenever<00:44:42.880><c> one</c><00:44:43.040><c> of</c><00:44:43.119><c> these</c><00:44:43.280><c> file</c><00:44:43.520><c> system</c><00:44:43.839><c> calls</c>

00:44:44.150 --> 00:44:44.160 align:start position:0%
whenever one of these file system calls
 

00:44:44.160 --> 00:44:44.550 align:start position:0%
whenever one of these file system calls
does

00:44:44.550 --> 00:44:44.560 align:start position:0%
does
 

00:44:44.560 --> 00:44:48.069 align:start position:0%
does
a<00:44:44.880><c> disk</c><00:44:45.200><c> write</c><00:44:45.920><c> um</c><00:44:47.280><c> the</c><00:44:47.520><c> you</c><00:44:47.599><c> know</c><00:44:47.760><c> something</c>

00:44:48.069 --> 00:44:48.079 align:start position:0%
a disk write um the you know something
 

00:44:48.079 --> 00:44:48.630 align:start position:0%
a disk write um the you know something
must<00:44:48.240><c> happen</c>

00:44:48.630 --> 00:44:48.640 align:start position:0%
must happen
 

00:44:48.640 --> 00:44:52.710 align:start position:0%
must happen
so<00:44:48.960><c> if</c><00:44:49.119><c> we</c><00:44:49.200><c> go</c><00:44:49.359><c> back</c><00:44:49.680><c> for</c><00:44:49.760><c> example</c><00:44:50.160><c> to</c><00:44:51.599><c> fs.c</c>

00:44:52.710 --> 00:44:52.720 align:start position:0%
so if we go back for example to fs.c
 

00:44:52.720 --> 00:44:55.750 align:start position:0%
so if we go back for example to fs.c
you<00:44:52.800><c> know</c><00:44:53.040><c> look</c><00:44:53.200><c> at</c><00:44:53.359><c> ialoc</c><00:44:54.480><c> uh</c><00:44:55.200><c> i</c><00:44:55.359><c> alec</c>

00:44:55.750 --> 00:44:55.760 align:start position:0%
you know look at ialoc uh i alec
 

00:44:55.760 --> 00:44:58.069 align:start position:0%
you know look at ialoc uh i alec
basically<00:44:56.240><c> what</c><00:44:56.480><c> it</c><00:44:56.560><c> calls</c><00:44:56.880><c> it</c><00:44:57.040><c> doesn't</c><00:44:57.359><c> call</c>

00:44:58.069 --> 00:44:58.079 align:start position:0%
basically what it calls it doesn't call
 

00:44:58.079 --> 00:45:01.510 align:start position:0%
basically what it calls it doesn't call
b<00:44:58.319><c> write</c><00:44:58.800><c> directly</c><00:45:00.480><c> but</c><00:45:00.640><c> it</c><00:45:00.720><c> actually</c><00:45:00.960><c> calls</c>

00:45:01.510 --> 00:45:01.520 align:start position:0%
b write directly but it actually calls
 

00:45:01.520 --> 00:45:02.829 align:start position:0%
b write directly but it actually calls
[Music]

00:45:02.829 --> 00:45:02.839 align:start position:0%
[Music]
 

00:45:02.839 --> 00:45:05.349 align:start position:0%
[Music]
logarite<00:45:04.240><c> and</c><00:45:04.480><c> so</c><00:45:04.640><c> we're</c><00:45:04.800><c> going</c><00:45:04.880><c> to</c><00:45:04.960><c> see</c><00:45:05.200><c> what</c>

00:45:05.349 --> 00:45:05.359 align:start position:0%
logarite and so we're going to see what
 

00:45:05.359 --> 00:45:06.710 align:start position:0%
logarite and so we're going to see what
log<00:45:05.599><c> right</c><00:45:05.839><c> does</c><00:45:06.160><c> and</c>

00:45:06.710 --> 00:45:06.720 align:start position:0%
log right does and
 

00:45:06.720 --> 00:45:08.790 align:start position:0%
log right does and
log<00:45:06.960><c> right</c><00:45:07.200><c> is</c><00:45:07.680><c> basically</c><00:45:08.079><c> the</c><00:45:08.480><c> function</c>

00:45:08.790 --> 00:45:08.800 align:start position:0%
log right is basically the function
 

00:45:08.800 --> 00:45:10.550 align:start position:0%
log right is basically the function
implemented<00:45:09.200><c> by</c><00:45:09.359><c> the</c><00:45:09.440><c> logging</c><00:45:09.839><c> system</c>

00:45:10.550 --> 00:45:10.560 align:start position:0%
implemented by the logging system
 

00:45:10.560 --> 00:45:12.470 align:start position:0%
implemented by the logging system
and<00:45:10.720><c> every</c><00:45:11.119><c> rate</c><00:45:11.520><c> that</c><00:45:11.760><c> basically</c><00:45:12.160><c> a</c><00:45:12.240><c> file</c>

00:45:12.470 --> 00:45:12.480 align:start position:0%
and every rate that basically a file
 

00:45:12.480 --> 00:45:14.230 align:start position:0%
and every rate that basically a file
system<00:45:12.800><c> called</c><00:45:13.040><c> us</c><00:45:13.280><c> between</c><00:45:13.599><c> begin</c><00:45:13.920><c> up</c><00:45:14.079><c> and</c>

00:45:14.230 --> 00:45:14.240 align:start position:0%
system called us between begin up and
 

00:45:14.240 --> 00:45:14.950 align:start position:0%
system called us between begin up and
end<00:45:14.400><c> up</c>

00:45:14.950 --> 00:45:14.960 align:start position:0%
end up
 

00:45:14.960 --> 00:45:23.270 align:start position:0%
end up
always<00:45:15.359><c> goes</c><00:45:15.520><c> to</c><00:45:15.920><c> log</c><00:45:16.839><c> right</c>

00:45:23.270 --> 00:45:23.280 align:start position:0%
 
 

00:45:23.280 --> 00:45:25.030 align:start position:0%
 
so<00:45:23.440><c> here's</c><00:45:23.680><c> log</c><00:45:24.000><c> right</c><00:45:24.319><c> and</c><00:45:24.560><c> log</c><00:45:24.800><c> right</c>

00:45:25.030 --> 00:45:25.040 align:start position:0%
so here's log right and log right
 

00:45:25.040 --> 00:45:26.470 align:start position:0%
so here's log right and log right
actually<00:45:25.280><c> is</c><00:45:25.520><c> reasonable</c>

00:45:26.470 --> 00:45:26.480 align:start position:0%
actually is reasonable
 

00:45:26.480 --> 00:45:29.910 align:start position:0%
actually is reasonable
uh<00:45:27.040><c> you</c><00:45:27.200><c> know</c><00:45:27.280><c> straightforward</c><00:45:28.560><c> um</c>

00:45:29.910 --> 00:45:29.920 align:start position:0%
uh you know straightforward um
 

00:45:29.920 --> 00:45:32.870 align:start position:0%
uh you know straightforward um
the<00:45:30.560><c> you</c><00:45:30.640><c> know</c><00:45:30.800><c> we've</c><00:45:31.119><c> written</c><00:45:31.359><c> the</c><00:45:31.520><c> block</c><00:45:32.319><c> uh</c>

00:45:32.870 --> 00:45:32.880 align:start position:0%
the you know we've written the block uh
 

00:45:32.880 --> 00:45:33.750 align:start position:0%
the you know we've written the block uh
in<00:45:33.119><c> the</c>

00:45:33.750 --> 00:45:33.760 align:start position:0%
in the
 

00:45:33.760 --> 00:45:35.750 align:start position:0%
in the
block<00:45:34.079><c> cache</c><00:45:34.640><c> so</c><00:45:34.880><c> somewhere</c><00:45:35.359><c> basically</c>

00:45:35.750 --> 00:45:35.760 align:start position:0%
block cache so somewhere basically
 

00:45:35.760 --> 00:45:37.510 align:start position:0%
block cache so somewhere basically
you're<00:45:36.000><c> 45</c><00:45:36.560><c> maybe</c><00:45:36.800><c> this</c><00:45:36.960><c> is</c><00:45:37.040><c> like</c><00:45:37.200><c> the</c><00:45:37.359><c> right</c>

00:45:37.510 --> 00:45:37.520 align:start position:0%
you're 45 maybe this is like the right
 

00:45:37.520 --> 00:45:38.710 align:start position:0%
you're 45 maybe this is like the right
to<00:45:37.680><c> 45.</c>

00:45:38.710 --> 00:45:38.720 align:start position:0%
to 45.
 

00:45:38.720 --> 00:45:41.750 align:start position:0%
to 45.
we've<00:45:39.040><c> updated</c><00:45:39.440><c> you</c><00:45:39.520><c> know</c><00:45:39.680><c> 45</c><00:45:41.200><c> in</c>

00:45:41.750 --> 00:45:41.760 align:start position:0%
we've updated you know 45 in
 

00:45:41.760 --> 00:45:43.589 align:start position:0%
we've updated you know 45 in
the<00:45:41.839><c> block</c><00:45:42.160><c> cache</c><00:45:42.720><c> and</c><00:45:42.800><c> now</c><00:45:42.960><c> we're</c><00:45:43.119><c> basically</c>

00:45:43.589 --> 00:45:43.599 align:start position:0%
the block cache and now we're basically
 

00:45:43.599 --> 00:45:45.829 align:start position:0%
the block cache and now we're basically
record<00:45:44.319><c> in</c><00:45:44.480><c> the</c><00:45:44.640><c> in-memory</c><00:45:45.119><c> data</c><00:45:45.440><c> structures</c>

00:45:45.829 --> 00:45:45.839 align:start position:0%
record in the in-memory data structures
 

00:45:45.839 --> 00:45:46.230 align:start position:0%
record in the in-memory data structures
that

00:45:46.230 --> 00:45:46.240 align:start position:0%
that
 

00:45:46.240 --> 00:45:48.390 align:start position:0%
that
to<00:45:46.400><c> some</c><00:45:46.560><c> point</c><00:45:46.800><c> later</c><00:45:47.040><c> at</c><00:45:47.119><c> commit</c><00:45:47.520><c> point</c><00:45:48.079><c> we</c>

00:45:48.390 --> 00:45:48.400 align:start position:0%
to some point later at commit point we
 

00:45:48.400 --> 00:45:50.309 align:start position:0%
to some point later at commit point we
need<00:45:48.560><c> to</c><00:45:48.640><c> write</c><00:45:48.880><c> this</c><00:45:49.040><c> block</c><00:45:49.280><c> into</c><00:45:49.520><c> the</c>

00:45:50.309 --> 00:45:50.319 align:start position:0%
need to write this block into the
 

00:45:50.319 --> 00:45:53.270 align:start position:0%
need to write this block into the
log<00:45:51.440><c> and</c><00:45:51.839><c> so</c><00:45:52.160><c> you</c><00:45:52.240><c> know</c><00:45:52.560><c> basically</c><00:45:53.040><c> you</c><00:45:53.119><c> know</c>

00:45:53.270 --> 00:45:53.280 align:start position:0%
log and so you know basically you know
 

00:45:53.280 --> 00:45:54.230 align:start position:0%
log and so you know basically you know
the<00:45:53.440><c> code</c><00:45:53.680><c> is</c>

00:45:54.230 --> 00:45:54.240 align:start position:0%
the code is
 

00:45:54.240 --> 00:45:56.150 align:start position:0%
the code is
oops<00:45:55.280><c> the</c><00:45:55.440><c> code</c><00:45:55.680><c> is</c><00:45:55.839><c> reasonable</c>

00:45:56.150 --> 00:45:56.160 align:start position:0%
oops the code is reasonable
 

00:45:56.160 --> 00:45:57.349 align:start position:0%
oops the code is reasonable
straightforward

00:45:57.349 --> 00:45:57.359 align:start position:0%
straightforward
 

00:45:57.359 --> 00:46:00.870 align:start position:0%
straightforward
uh<00:45:58.480><c> acquires</c><00:45:59.119><c> a</c><00:45:59.280><c> lock</c><00:45:59.680><c> on</c><00:45:59.839><c> the</c><00:46:00.000><c> header</c>

00:46:00.870 --> 00:46:00.880 align:start position:0%
uh acquires a lock on the header
 

00:46:00.880 --> 00:46:04.150 align:start position:0%
uh acquires a lock on the header
and<00:46:01.520><c> and</c><00:46:01.680><c> basically</c><00:46:02.160><c> updates</c><00:46:02.640><c> the</c><00:46:02.800><c> header</c>

00:46:04.150 --> 00:46:04.160 align:start position:0%
and and basically updates the header
 

00:46:04.160 --> 00:46:06.150 align:start position:0%
and and basically updates the header
uh<00:46:04.560><c> and</c><00:46:05.119><c> in</c><00:46:05.200><c> particular</c><00:46:05.520><c> what</c><00:46:05.680><c> it</c><00:46:05.760><c> does</c><00:46:06.079><c> you</c>

00:46:06.150 --> 00:46:06.160 align:start position:0%
uh and in particular what it does you
 

00:46:06.160 --> 00:46:07.190 align:start position:0%
uh and in particular what it does you
know<00:46:06.319><c> it</c><00:46:06.480><c> goes</c><00:46:06.720><c> through</c>

00:46:07.190 --> 00:46:07.200 align:start position:0%
know it goes through
 

00:46:07.200 --> 00:46:10.630 align:start position:0%
know it goes through
you<00:46:07.359><c> know</c><00:46:07.520><c> the</c><00:46:07.920><c> uh</c><00:46:09.280><c> it</c><00:46:09.440><c> updates</c><00:46:09.839><c> n</c><00:46:10.079><c> or</c><00:46:10.319><c> actually</c>

00:46:10.630 --> 00:46:10.640 align:start position:0%
you know the uh it updates n or actually
 

00:46:10.640 --> 00:46:12.470 align:start position:0%
you know the uh it updates n or actually
the<00:46:10.720><c> first</c><00:46:10.960><c> thing</c><00:46:11.119><c> it</c><00:46:11.200><c> does</c><00:46:11.520><c> it</c><00:46:11.680><c> actually</c><00:46:12.079><c> sees</c>

00:46:12.470 --> 00:46:12.480 align:start position:0%
the first thing it does it actually sees
 

00:46:12.480 --> 00:46:14.630 align:start position:0%
the first thing it does it actually sees
if<00:46:12.640><c> there's</c><00:46:12.880><c> already</c><00:46:13.200><c> a</c><00:46:13.359><c> copy</c><00:46:13.680><c> of</c><00:46:13.839><c> 45</c>

00:46:14.630 --> 00:46:14.640 align:start position:0%
if there's already a copy of 45
 

00:46:14.640 --> 00:46:18.390 align:start position:0%
if there's already a copy of 45
in<00:46:14.800><c> the</c><00:46:16.319><c> if</c><00:46:16.480><c> 45</c><00:46:17.040><c> is</c><00:46:17.119><c> already</c><00:46:17.520><c> recorded</c><00:46:18.240><c> as</c>

00:46:18.390 --> 00:46:18.400 align:start position:0%
in the if 45 is already recorded as
 

00:46:18.400 --> 00:46:19.670 align:start position:0%
in the if 45 is already recorded as
being<00:46:18.640><c> having</c><00:46:18.960><c> to</c><00:46:19.119><c> write</c><00:46:19.359><c> to</c>

00:46:19.670 --> 00:46:19.680 align:start position:0%
being having to write to
 

00:46:19.680 --> 00:46:21.430 align:start position:0%
being having to write to
written<00:46:20.000><c> to</c><00:46:20.560><c> and</c><00:46:20.720><c> if</c><00:46:20.880><c> that's</c><00:46:21.119><c> the</c><00:46:21.200><c> case</c>

00:46:21.430 --> 00:46:21.440 align:start position:0%
written to and if that's the case
 

00:46:21.440 --> 00:46:23.109 align:start position:0%
written to and if that's the case
nothing<00:46:21.680><c> else</c><00:46:21.839><c> has</c><00:46:22.000><c> to</c><00:46:22.160><c> be</c><00:46:22.240><c> done</c><00:46:22.480><c> because</c><00:46:22.720><c> 45</c>

00:46:23.109 --> 00:46:23.119 align:start position:0%
nothing else has to be done because 45
 

00:46:23.119 --> 00:46:24.710 align:start position:0%
nothing else has to be done because 45
will<00:46:23.280><c> be</c><00:46:23.440><c> written</c><00:46:23.680><c> to</c>

00:46:24.710 --> 00:46:24.720 align:start position:0%
will be written to
 

00:46:24.720 --> 00:46:26.710 align:start position:0%
will be written to
uh<00:46:25.200><c> and</c><00:46:25.440><c> so</c><00:46:25.599><c> we're</c><00:46:25.760><c> done</c><00:46:26.079><c> and</c><00:46:26.240><c> this</c><00:46:26.400><c> sometimes</c>

00:46:26.710 --> 00:46:26.720 align:start position:0%
uh and so we're done and this sometimes
 

00:46:26.720 --> 00:46:28.950 align:start position:0%
uh and so we're done and this sometimes
it's<00:46:26.880><c> called</c><00:46:27.040><c> lock</c><00:46:27.280><c> absorption</c>

00:46:28.950 --> 00:46:28.960 align:start position:0%
it's called lock absorption
 

00:46:28.960 --> 00:46:32.069 align:start position:0%
it's called lock absorption
um<00:46:30.960><c> if</c><00:46:31.440><c> you</c><00:46:31.599><c> know</c>

00:46:32.069 --> 00:46:32.079 align:start position:0%
um if you know
 

00:46:32.079 --> 00:46:35.510 align:start position:0%
um if you know
block<00:46:32.319><c> 45</c><00:46:32.880><c> is</c><00:46:33.040><c> not</c><00:46:33.599><c> in</c><00:46:33.839><c> the</c><00:46:34.480><c> array</c><00:46:34.880><c> yet</c><00:46:35.119><c> or</c><00:46:35.280><c> not</c>

00:46:35.510 --> 00:46:35.520 align:start position:0%
block 45 is not in the array yet or not
 

00:46:35.520 --> 00:46:37.270 align:start position:0%
block 45 is not in the array yet or not
in<00:46:35.680><c> the</c>

00:46:37.270 --> 00:46:37.280 align:start position:0%
in the
 

00:46:37.280 --> 00:46:38.630 align:start position:0%
in the
the<00:46:37.440><c> list</c><00:46:37.680><c> of</c><00:46:37.839><c> blocks</c><00:46:38.160><c> or</c><00:46:38.240><c> the</c><00:46:38.319><c> array</c><00:46:38.480><c> of</c>

00:46:38.630 --> 00:46:38.640 align:start position:0%
the list of blocks or the array of
 

00:46:38.640 --> 00:46:40.710 align:start position:0%
the list of blocks or the array of
blocks<00:46:38.960><c> that</c><00:46:39.040><c> needs</c><00:46:39.280><c> to</c><00:46:39.359><c> be</c><00:46:39.839><c> written</c><00:46:40.079><c> to</c><00:46:40.240><c> disk</c>

00:46:40.710 --> 00:46:40.720 align:start position:0%
blocks that needs to be written to disk
 

00:46:40.720 --> 00:46:42.630 align:start position:0%
blocks that needs to be written to disk
then<00:46:40.880><c> basically</c><00:46:41.280><c> you</c><00:46:41.440><c> know</c><00:46:41.760><c> the</c><00:46:41.920><c> only</c><00:46:42.160><c> thing</c>

00:46:42.630 --> 00:46:42.640 align:start position:0%
then basically you know the only thing
 

00:46:42.640 --> 00:46:44.470 align:start position:0%
then basically you know the only thing
this<00:46:42.880><c> particular</c><00:46:43.280><c> piece</c><00:46:43.440><c> of</c><00:46:43.520><c> code</c><00:46:43.760><c> does</c>

00:46:44.470 --> 00:46:44.480 align:start position:0%
this particular piece of code does
 

00:46:44.480 --> 00:46:46.790 align:start position:0%
this particular piece of code does
is<00:46:44.800><c> basically</c><00:46:45.200><c> bump</c><00:46:45.440><c> up</c><00:46:45.599><c> and</c><00:46:46.160><c> and</c><00:46:46.400><c> stick</c><00:46:46.720><c> you</c>

00:46:46.790 --> 00:46:46.800 align:start position:0%
is basically bump up and and stick you
 

00:46:46.800 --> 00:46:48.230 align:start position:0%
is basically bump up and and stick you
know<00:46:46.960><c> that</c><00:46:47.119><c> block</c><00:46:47.359><c> number</c><00:46:47.680><c> that</c><00:46:47.760><c> needs</c><00:46:48.000><c> to</c><00:46:48.079><c> be</c>

00:46:48.230 --> 00:46:48.240 align:start position:0%
know that block number that needs to be
 

00:46:48.240 --> 00:46:48.710 align:start position:0%
know that block number that needs to be
written

00:46:48.710 --> 00:46:48.720 align:start position:0%
written
 

00:46:48.720 --> 00:46:53.109 align:start position:0%
written
into<00:46:49.200><c> the</c><00:46:49.839><c> next</c><00:46:50.160><c> entry</c><00:46:50.640><c> or</c><00:46:50.880><c> into</c><00:46:51.119><c> that</c><00:46:51.359><c> entry</c>

00:46:53.109 --> 00:46:53.119 align:start position:0%
into the next entry or into that entry
 

00:46:53.119 --> 00:46:54.470 align:start position:0%
into the next entry or into that entry
then<00:46:53.359><c> the</c><00:46:53.440><c> only</c><00:46:53.680><c> other</c><00:46:53.839><c> thing</c><00:46:54.000><c> it</c><00:46:54.079><c> does</c><00:46:54.319><c> and</c>

00:46:54.470 --> 00:46:54.480 align:start position:0%
then the only other thing it does and
 

00:46:54.480 --> 00:46:57.190 align:start position:0%
then the only other thing it does and
i'll<00:46:54.640><c> talk</c><00:46:54.800><c> about</c><00:46:54.960><c> this</c><00:46:55.119><c> later</c><00:46:55.920><c> it</c><00:46:56.079><c> will</c><00:46:56.319><c> pin</c>

00:46:57.190 --> 00:46:57.200 align:start position:0%
i'll talk about this later it will pin
 

00:46:57.200 --> 00:47:00.230 align:start position:0%
i'll talk about this later it will pin
the<00:46:58.000><c> block</c><00:46:58.560><c> in</c><00:46:58.720><c> the</c><00:46:59.119><c> buffer</c><00:46:59.440><c> cache</c>

00:47:00.230 --> 00:47:00.240 align:start position:0%
the block in the buffer cache
 

00:47:00.240 --> 00:47:03.109 align:start position:0%
the block in the buffer cache
and<00:47:00.640><c> uh</c><00:47:01.119><c> let</c><00:47:01.280><c> me</c><00:47:01.440><c> postpone</c><00:47:01.920><c> why</c><00:47:02.640><c> for</c><00:47:02.800><c> a</c><00:47:02.880><c> little</c>

00:47:03.109 --> 00:47:03.119 align:start position:0%
and uh let me postpone why for a little
 

00:47:03.119 --> 00:47:03.829 align:start position:0%
and uh let me postpone why for a little
while

00:47:03.829 --> 00:47:03.839 align:start position:0%
while
 

00:47:03.839 --> 00:47:06.550 align:start position:0%
while
but<00:47:04.000><c> i</c><00:47:04.079><c> will</c><00:47:04.240><c> come</c><00:47:04.400><c> back</c><00:47:04.480><c> to</c><00:47:04.640><c> that</c><00:47:04.800><c> later</c><00:47:06.480><c> and</c>

00:47:06.550 --> 00:47:06.560 align:start position:0%
but i will come back to that later and
 

00:47:06.560 --> 00:47:07.910 align:start position:0%
but i will come back to that later and
that's<00:47:06.800><c> actually</c><00:47:07.040><c> all</c><00:47:07.200><c> what</c><00:47:07.359><c> log</c><00:47:07.599><c> right</c><00:47:07.760><c> there</c>

00:47:07.910 --> 00:47:07.920 align:start position:0%
that's actually all what log right there
 

00:47:07.920 --> 00:47:08.390 align:start position:0%
that's actually all what log right there
is<00:47:08.000><c> doing</c>

00:47:08.390 --> 00:47:08.400 align:start position:0%
is doing
 

00:47:08.400 --> 00:47:10.790 align:start position:0%
is doing
so<00:47:08.880><c> every</c><00:47:09.200><c> file</c><00:47:09.359><c> system</c><00:47:09.680><c> call</c><00:47:10.240><c> that</c><00:47:10.480><c> you</c><00:47:10.640><c> know</c>

00:47:10.790 --> 00:47:10.800 align:start position:0%
so every file system call that you know
 

00:47:10.800 --> 00:47:11.829 align:start position:0%
so every file system call that you know
needs<00:47:10.960><c> to</c><00:47:11.280><c> update</c>

00:47:11.829 --> 00:47:11.839 align:start position:0%
needs to update
 

00:47:11.839 --> 00:47:13.270 align:start position:0%
needs to update
a<00:47:11.920><c> block</c><00:47:12.240><c> you</c><00:47:12.400><c> know</c><00:47:12.560><c> updates</c><00:47:12.800><c> the</c><00:47:12.960><c> block</c><00:47:13.119><c> in</c>

00:47:13.270 --> 00:47:13.280 align:start position:0%
a block you know updates the block in
 

00:47:13.280 --> 00:47:14.950 align:start position:0%
a block you know updates the block in
the<00:47:13.359><c> block</c><00:47:13.599><c> cache</c><00:47:14.160><c> and</c><00:47:14.240><c> then</c><00:47:14.560><c> basically</c>

00:47:14.950 --> 00:47:14.960 align:start position:0%
the block cache and then basically
 

00:47:14.960 --> 00:47:16.069 align:start position:0%
the block cache and then basically
appends<00:47:15.440><c> it</c>

00:47:16.069 --> 00:47:16.079 align:start position:0%
appends it
 

00:47:16.079 --> 00:47:19.030 align:start position:0%
appends it
uh<00:47:16.480><c> to</c><00:47:16.800><c> this</c><00:47:17.119><c> in-memory</c><00:47:17.680><c> data</c><00:47:17.920><c> structure</c><00:47:18.720><c> uh</c>

00:47:19.030 --> 00:47:19.040 align:start position:0%
uh to this in-memory data structure uh
 

00:47:19.040 --> 00:47:21.030 align:start position:0%
uh to this in-memory data structure uh
unless<00:47:19.599><c> you</c><00:47:19.760><c> know</c><00:47:19.920><c> it's</c><00:47:20.079><c> already</c><00:47:20.400><c> there</c>

00:47:21.030 --> 00:47:21.040 align:start position:0%
unless you know it's already there
 

00:47:21.040 --> 00:47:22.829 align:start position:0%
unless you know it's already there
in<00:47:21.200><c> which</c><00:47:21.359><c> case</c><00:47:21.680><c> you</c><00:47:21.760><c> know</c><00:47:21.839><c> it</c><00:47:21.920><c> just</c><00:47:22.160><c> absorbs</c>

00:47:22.829 --> 00:47:22.839 align:start position:0%
in which case you know it just absorbs
 

00:47:22.839 --> 00:47:24.470 align:start position:0%
in which case you know it just absorbs
it

00:47:24.470 --> 00:47:24.480 align:start position:0%
it
 

00:47:24.480 --> 00:47:29.190 align:start position:0%
it
does<00:47:24.720><c> that</c><00:47:24.800><c> make</c><00:47:24.960><c> sense</c>

00:47:29.190 --> 00:47:29.200 align:start position:0%
 
 

00:47:29.200 --> 00:47:31.190 align:start position:0%
 
so<00:47:29.440><c> does</c><00:47:29.680><c> that</c><00:47:29.760><c> mean</c><00:47:30.079><c> that</c><00:47:30.400><c> b</c><00:47:30.640><c> right</c><00:47:30.960><c> shouldn't</c>

00:47:31.190 --> 00:47:31.200 align:start position:0%
so does that mean that b right shouldn't
 

00:47:31.200 --> 00:47:33.190 align:start position:0%
so does that mean that b right shouldn't
be<00:47:31.359><c> used</c><00:47:32.000><c> by</c><00:47:32.240><c> itself</c>

00:47:33.190 --> 00:47:33.200 align:start position:0%
be used by itself
 

00:47:33.200 --> 00:47:36.870 align:start position:0%
be used by itself
at<00:47:33.359><c> all</c><00:47:34.160><c> so</c><00:47:34.559><c> you</c><00:47:34.640><c> get</c><00:47:35.920><c> b</c><00:47:36.079><c> write</c><00:47:36.400><c> shouldn't</c><00:47:36.720><c> be</c>

00:47:36.870 --> 00:47:36.880 align:start position:0%
at all so you get b write shouldn't be
 

00:47:36.880 --> 00:47:37.589 align:start position:0%
at all so you get b write shouldn't be
used

00:47:37.589 --> 00:47:37.599 align:start position:0%
used
 

00:47:37.599 --> 00:47:40.710 align:start position:0%
used
by<00:47:37.839><c> itself</c><00:47:38.640><c> only</c><00:47:39.119><c> as</c><00:47:40.000><c> yes</c>

00:47:40.710 --> 00:47:40.720 align:start position:0%
by itself only as yes
 

00:47:40.720 --> 00:47:42.870 align:start position:0%
by itself only as yes
that's<00:47:40.960><c> just</c><00:47:41.119><c> correct</c><00:47:41.760><c> yeah</c><00:47:42.079><c> basically</c><00:47:42.559><c> all</c>

00:47:42.870 --> 00:47:42.880 align:start position:0%
that's just correct yeah basically all
 

00:47:42.880 --> 00:47:44.069 align:start position:0%
that's just correct yeah basically all
the<00:47:42.960><c> one</c><00:47:43.119><c> way</c><00:47:43.280><c> to</c><00:47:43.359><c> think</c><00:47:43.520><c> about</c><00:47:43.680><c> it</c><00:47:43.760><c> is</c><00:47:43.920><c> that</c>

00:47:44.069 --> 00:47:44.079 align:start position:0%
the one way to think about it is that
 

00:47:44.079 --> 00:47:44.470 align:start position:0%
the one way to think about it is that
every<00:47:44.240><c> b</c>

00:47:44.470 --> 00:47:44.480 align:start position:0%
every b
 

00:47:44.480 --> 00:47:46.710 align:start position:0%
every b
write<00:47:44.880><c> in</c><00:47:45.040><c> the</c><00:47:45.119><c> file</c><00:47:45.359><c> system</c><00:47:45.680><c> is</c><00:47:45.839><c> uh</c><00:47:46.319><c> replaced</c>

00:47:46.710 --> 00:47:46.720 align:start position:0%
write in the file system is uh replaced
 

00:47:46.720 --> 00:47:53.829 align:start position:0%
write in the file system is uh replaced
by<00:47:46.960><c> log</c><00:47:50.839><c> right</c>

00:47:53.829 --> 00:47:53.839 align:start position:0%
by log right
 

00:47:53.839 --> 00:47:56.950 align:start position:0%
by log right
okay<00:47:54.400><c> um</c><00:47:55.440><c> so</c><00:47:55.599><c> now</c><00:47:56.160><c> let's</c><00:47:56.319><c> see</c><00:47:56.480><c> what</c><00:47:56.720><c> actually</c>

00:47:56.950 --> 00:47:56.960 align:start position:0%
okay um so now let's see what actually
 

00:47:56.960 --> 00:47:57.430 align:start position:0%
okay um so now let's see what actually
happens

00:47:57.430 --> 00:47:57.440 align:start position:0%
happens
 

00:47:57.440 --> 00:47:59.750 align:start position:0%
happens
at<00:47:57.760><c> end</c><00:47:58.079><c> op</c><00:47:58.319><c> correct</c><00:47:58.559><c> because</c><00:47:58.880><c> that's</c><00:47:59.200><c> where</c>

00:47:59.750 --> 00:47:59.760 align:start position:0%
at end op correct because that's where
 

00:47:59.760 --> 00:48:02.150 align:start position:0%
at end op correct because that's where
the<00:47:59.920><c> exciting</c><00:48:00.319><c> part</c><00:48:00.559><c> happens</c>

00:48:02.150 --> 00:48:02.160 align:start position:0%
the exciting part happens
 

00:48:02.160 --> 00:48:04.710 align:start position:0%
the exciting part happens
uh<00:48:03.280><c> and</c><00:48:03.680><c> i'm</c><00:48:03.760><c> gonna</c><00:48:04.079><c> there's</c><00:48:04.240><c> a</c><00:48:04.319><c> couple</c><00:48:04.480><c> things</c>

00:48:04.710 --> 00:48:04.720 align:start position:0%
uh and i'm gonna there's a couple things
 

00:48:04.720 --> 00:48:07.190 align:start position:0%
uh and i'm gonna there's a couple things
cases<00:48:05.040><c> that</c><00:48:05.200><c> i</c><00:48:05.280><c> just</c><00:48:05.440><c> want</c><00:48:05.599><c> to</c>

00:48:07.190 --> 00:48:07.200 align:start position:0%
cases that i just want to
 

00:48:07.200 --> 00:48:09.430 align:start position:0%
cases that i just want to
avoid<00:48:07.599><c> talking</c><00:48:07.920><c> about</c><00:48:08.319><c> a</c><00:48:08.400><c> little</c><00:48:08.559><c> bit</c><00:48:08.720><c> later</c>

00:48:09.430 --> 00:48:09.440 align:start position:0%
avoid talking about a little bit later
 

00:48:09.440 --> 00:48:10.230 align:start position:0%
avoid talking about a little bit later
because<00:48:09.760><c> they</c>

00:48:10.230 --> 00:48:10.240 align:start position:0%
because they
 

00:48:10.240 --> 00:48:12.150 align:start position:0%
because they
you<00:48:10.400><c> know</c><00:48:10.480><c> even</c><00:48:10.720><c> this</c><00:48:10.960><c> simple</c><00:48:11.440><c> logging</c><00:48:11.760><c> system</c>

00:48:12.150 --> 00:48:12.160 align:start position:0%
you know even this simple logging system
 

00:48:12.160 --> 00:48:13.910 align:start position:0%
you know even this simple logging system
actually<00:48:12.400><c> has</c><00:48:12.640><c> some</c><00:48:12.800><c> subtle</c><00:48:13.119><c> complexities</c>

00:48:13.910 --> 00:48:13.920 align:start position:0%
actually has some subtle complexities
 

00:48:13.920 --> 00:48:14.470 align:start position:0%
actually has some subtle complexities
and

00:48:14.470 --> 00:48:14.480 align:start position:0%
and
 

00:48:14.480 --> 00:48:15.910 align:start position:0%
and
most<00:48:14.720><c> of</c><00:48:14.800><c> the</c><00:48:14.880><c> beginning</c><00:48:15.200><c> of</c><00:48:15.280><c> this</c><00:48:15.440><c> code</c><00:48:15.680><c> deals</c>

00:48:15.910 --> 00:48:15.920 align:start position:0%
most of the beginning of this code deals
 

00:48:15.920 --> 00:48:17.990 align:start position:0%
most of the beginning of this code deals
with<00:48:16.079><c> these</c><00:48:16.480><c> subtle</c><00:48:16.720><c> complexities</c>

00:48:17.990 --> 00:48:18.000 align:start position:0%
with these subtle complexities
 

00:48:18.000 --> 00:48:20.150 align:start position:0%
with these subtle complexities
uh<00:48:18.240><c> but</c><00:48:18.319><c> i</c><00:48:18.480><c> just</c><00:48:18.640><c> want</c><00:48:18.720><c> to</c><00:48:19.040><c> like</c><00:48:19.200><c> at</c><00:48:19.359><c> the</c><00:48:19.760><c> normal</c>

00:48:20.150 --> 00:48:20.160 align:start position:0%
uh but i just want to like at the normal
 

00:48:20.160 --> 00:48:21.109 align:start position:0%
uh but i just want to like at the normal
case<00:48:20.400><c> you</c><00:48:20.559><c> know</c><00:48:20.720><c> there's</c>

00:48:21.109 --> 00:48:21.119 align:start position:0%
case you know there's
 

00:48:21.119 --> 00:48:23.430 align:start position:0%
case you know there's
or<00:48:21.280><c> there's</c><00:48:21.520><c> the</c><00:48:21.680><c> simple</c><00:48:22.000><c> case</c><00:48:22.319><c> where</c><00:48:23.200><c> no</c>

00:48:23.430 --> 00:48:23.440 align:start position:0%
or there's the simple case where no
 

00:48:23.440 --> 00:48:25.190 align:start position:0%
or there's the simple case where no
other<00:48:24.000><c> file</c><00:48:24.160><c> system</c><00:48:24.480><c> operations</c><00:48:24.960><c> are</c><00:48:25.119><c> in</c>

00:48:25.190 --> 00:48:25.200 align:start position:0%
other file system operations are in
 

00:48:25.200 --> 00:48:26.150 align:start position:0%
other file system operations are in
progress

00:48:26.150 --> 00:48:26.160 align:start position:0%
progress
 

00:48:26.160 --> 00:48:28.710 align:start position:0%
progress
uh<00:48:26.480><c> we</c><00:48:26.880><c> execute</c><00:48:27.359><c> you</c><00:48:27.440><c> know</c><00:48:27.599><c> create</c><00:48:27.920><c> file</c><00:48:28.559><c> and</c>

00:48:28.710 --> 00:48:28.720 align:start position:0%
uh we execute you know create file and
 

00:48:28.720 --> 00:48:30.230 align:start position:0%
uh we execute you know create file and
basically<00:48:29.280><c> we're</c><00:48:29.520><c> getting</c><00:48:29.760><c> to</c><00:48:29.920><c> the</c><00:48:30.000><c> point</c>

00:48:30.230 --> 00:48:30.240 align:start position:0%
basically we're getting to the point
 

00:48:30.240 --> 00:48:31.829 align:start position:0%
basically we're getting to the point
where<00:48:30.400><c> we</c><00:48:30.559><c> want</c><00:48:30.720><c> to</c><00:48:30.800><c> commit</c><00:48:31.040><c> it</c>

00:48:31.829 --> 00:48:31.839 align:start position:0%
where we want to commit it
 

00:48:31.839 --> 00:48:33.750 align:start position:0%
where we want to commit it
and<00:48:32.079><c> so</c><00:48:32.480><c> the</c><00:48:32.960><c> code</c><00:48:33.280><c> is</c><00:48:33.440><c> pretty</c>

00:48:33.750 --> 00:48:33.760 align:start position:0%
and so the code is pretty
 

00:48:33.760 --> 00:48:35.030 align:start position:0%
and so the code is pretty
straightforward

00:48:35.030 --> 00:48:35.040 align:start position:0%
straightforward
 

00:48:35.040 --> 00:48:37.510 align:start position:0%
straightforward
and<00:48:35.119><c> calls</c><00:48:35.520><c> commit</c><00:48:36.640><c> and</c><00:48:36.800><c> so</c><00:48:36.960><c> let's</c><00:48:37.200><c> look</c><00:48:37.440><c> at</c>

00:48:37.510 --> 00:48:37.520 align:start position:0%
and calls commit and so let's look at
 

00:48:37.520 --> 00:48:41.510 align:start position:0%
and calls commit and so let's look at
commit

00:48:41.510 --> 00:48:41.520 align:start position:0%
 
 

00:48:41.520 --> 00:48:44.150 align:start position:0%
 
so<00:48:41.680><c> here's</c><00:48:41.920><c> commit</c><00:48:43.200><c> i</c><00:48:43.280><c> miss</c><00:48:43.520><c> a</c><00:48:43.599><c> commit</c><00:48:43.920><c> does</c>

00:48:44.150 --> 00:48:44.160 align:start position:0%
so here's commit i miss a commit does
 

00:48:44.160 --> 00:48:45.270 align:start position:0%
so here's commit i miss a commit does
two<00:48:44.480><c> basically</c>

00:48:45.270 --> 00:48:45.280 align:start position:0%
two basically
 

00:48:45.280 --> 00:48:48.150 align:start position:0%
two basically
steps<00:48:45.760><c> and</c><00:48:45.839><c> basically</c><00:48:46.319><c> writes</c><00:48:46.559><c> the</c><00:48:46.839><c> log</c><00:48:48.079><c> and</c>

00:48:48.150 --> 00:48:48.160 align:start position:0%
steps and basically writes the log and
 

00:48:48.160 --> 00:48:49.349 align:start position:0%
steps and basically writes the log and
that's<00:48:48.400><c> basically</c><00:48:48.880><c> writing</c>

00:48:49.349 --> 00:48:49.359 align:start position:0%
that's basically writing
 

00:48:49.359 --> 00:48:52.549 align:start position:0%
that's basically writing
all<00:48:49.599><c> these</c><00:48:51.200><c> all</c><00:48:51.440><c> these</c><00:48:51.760><c> block</c><00:48:52.079><c> numbers</c><00:48:52.400><c> that</c>

00:48:52.549 --> 00:48:52.559 align:start position:0%
all these all these block numbers that
 

00:48:52.559 --> 00:48:53.190 align:start position:0%
all these all these block numbers that
are<00:48:52.720><c> sitting</c>

00:48:53.190 --> 00:48:53.200 align:start position:0%
are sitting
 

00:48:53.200 --> 00:48:55.910 align:start position:0%
are sitting
you<00:48:53.280><c> know</c><00:48:53.520><c> in</c><00:48:53.760><c> the</c><00:48:54.000><c> in-memory</c><00:48:54.880><c> uh</c><00:48:55.119><c> header</c><00:48:55.760><c> and</c>

00:48:55.910 --> 00:48:55.920 align:start position:0%
you know in the in-memory uh header and
 

00:48:55.920 --> 00:48:57.349 align:start position:0%
you know in the in-memory uh header and
writes<00:48:56.160><c> them</c><00:48:56.319><c> basically</c><00:48:56.640><c> all</c><00:48:56.800><c> to</c><00:48:56.960><c> the</c>

00:48:57.349 --> 00:48:57.359 align:start position:0%
writes them basically all to the
 

00:48:57.359 --> 00:48:59.589 align:start position:0%
writes them basically all to the
the<00:48:57.440><c> header</c><00:48:57.839><c> on</c><00:48:58.079><c> disk</c><00:48:58.720><c> including</c><00:48:59.280><c> you</c><00:48:59.440><c> know</c>

00:48:59.589 --> 00:48:59.599 align:start position:0%
the header on disk including you know
 

00:48:59.599 --> 00:49:02.309 align:start position:0%
the header on disk including you know
this<00:48:59.839><c> number</c><00:49:00.839><c> n</c>

00:49:02.309 --> 00:49:02.319 align:start position:0%
this number n
 

00:49:02.319 --> 00:49:05.349 align:start position:0%
this number n
right<00:49:02.720><c> and</c><00:49:02.960><c> so</c><00:49:03.119><c> let's</c><00:49:03.359><c> see</c><00:49:04.319><c> uh</c><00:49:04.640><c> that</c><00:49:04.880><c> is</c><00:49:05.119><c> that's</c>

00:49:05.349 --> 00:49:05.359 align:start position:0%
right and so let's see uh that is that's
 

00:49:05.359 --> 00:49:06.309 align:start position:0%
right and so let's see uh that is that's
what<00:49:05.520><c> right</c><00:49:05.760><c> head</c><00:49:06.000><c> does</c>

00:49:06.309 --> 00:49:06.319 align:start position:0%
what right head does
 

00:49:06.319 --> 00:49:09.030 align:start position:0%
what right head does
sorry<00:49:07.440><c> uh</c><00:49:07.680><c> a</c><00:49:07.839><c> write</c><00:49:08.079><c> log</c><00:49:08.319><c> basically</c><00:49:08.720><c> writes</c>

00:49:09.030 --> 00:49:09.040 align:start position:0%
sorry uh a write log basically writes
 

00:49:09.040 --> 00:49:09.670 align:start position:0%
sorry uh a write log basically writes
you<00:49:09.119><c> know</c><00:49:09.280><c> the</c>

00:49:09.670 --> 00:49:09.680 align:start position:0%
you know the
 

00:49:09.680 --> 00:49:12.870 align:start position:0%
you know the
blocks<00:49:10.240><c> from</c><00:49:10.400><c> the</c><00:49:10.559><c> buffer</c><00:49:10.880><c> cache</c><00:49:11.599><c> into</c><00:49:12.400><c> their</c>

00:49:12.870 --> 00:49:12.880 align:start position:0%
blocks from the buffer cache into their
 

00:49:12.880 --> 00:49:16.150 align:start position:0%
blocks from the buffer cache into their
uh<00:49:13.280><c> respective</c><00:49:14.480><c> into</c><00:49:14.720><c> the</c><00:49:14.880><c> log</c><00:49:15.200><c> itself</c>

00:49:16.150 --> 00:49:16.160 align:start position:0%
uh respective into the log itself
 

00:49:16.160 --> 00:49:18.309 align:start position:0%
uh respective into the log itself
so<00:49:16.319><c> let's</c><00:49:16.559><c> see</c><00:49:16.800><c> what</c><00:49:17.040><c> red</c><00:49:17.280><c> log</c><00:49:17.520><c> is</c><00:49:17.839><c> right</c><00:49:18.000><c> above</c>

00:49:18.309 --> 00:49:18.319 align:start position:0%
so let's see what red log is right above
 

00:49:18.319 --> 00:49:19.589 align:start position:0%
so let's see what red log is right above
here

00:49:19.589 --> 00:49:19.599 align:start position:0%
here
 

00:49:19.599 --> 00:49:21.670 align:start position:0%
here
and<00:49:20.319><c> you</c><00:49:20.400><c> can</c><00:49:20.559><c> see</c><00:49:20.720><c> what</c><00:49:20.880><c> it</c><00:49:20.960><c> does</c><00:49:21.359><c> you</c><00:49:21.440><c> know</c><00:49:21.599><c> it</c>

00:49:21.670 --> 00:49:21.680 align:start position:0%
and you can see what it does you know it
 

00:49:21.680 --> 00:49:23.349 align:start position:0%
and you can see what it does you know it
goes<00:49:22.000><c> through</c><00:49:22.400><c> you</c><00:49:22.480><c> know</c><00:49:22.640><c> this</c><00:49:22.880><c> array</c>

00:49:23.349 --> 00:49:23.359 align:start position:0%
goes through you know this array
 

00:49:23.359 --> 00:49:26.870 align:start position:0%
goes through you know this array
you<00:49:23.520><c> know</c><00:49:23.680><c> one</c><00:49:23.920><c> at</c><00:49:24.079><c> a</c><00:49:24.160><c> time</c><00:49:25.040><c> and</c><00:49:25.359><c> basically</c><00:49:26.319><c> uh</c>

00:49:26.870 --> 00:49:26.880 align:start position:0%
you know one at a time and basically uh
 

00:49:26.880 --> 00:49:29.990 align:start position:0%
you know one at a time and basically uh
right<00:49:27.200><c> down</c><00:49:27.520><c> to</c><00:49:27.760><c> the</c><00:49:27.920><c> lock</c><00:49:28.839><c> position</c>

00:49:29.990 --> 00:49:30.000 align:start position:0%
right down to the lock position
 

00:49:30.000 --> 00:49:32.710 align:start position:0%
right down to the lock position
in<00:49:30.160><c> the</c><00:49:30.319><c> log</c><00:49:31.440><c> okay</c><00:49:31.680><c> so</c><00:49:31.839><c> it</c><00:49:32.000><c> reads</c><00:49:32.319><c> you</c><00:49:32.480><c> know</c><00:49:32.559><c> the</c>

00:49:32.710 --> 00:49:32.720 align:start position:0%
in the log okay so it reads you know the
 

00:49:32.720 --> 00:49:33.190 align:start position:0%
in the log okay so it reads you know the
log

00:49:33.190 --> 00:49:33.200 align:start position:0%
log
 

00:49:33.200 --> 00:49:36.309 align:start position:0%
log
block<00:49:34.480><c> then</c><00:49:34.800><c> sticks</c><00:49:35.119><c> it</c><00:49:35.280><c> in</c><00:49:35.440><c> there</c>

00:49:36.309 --> 00:49:36.319 align:start position:0%
block then sticks it in there
 

00:49:36.319 --> 00:49:37.910 align:start position:0%
block then sticks it in there
by<00:49:36.559><c> copying</c><00:49:36.960><c> it</c><00:49:37.119><c> and</c><00:49:37.200><c> then</c><00:49:37.440><c> writing</c><00:49:37.760><c> it</c>

00:49:37.910 --> 00:49:37.920 align:start position:0%
by copying it and then writing it
 

00:49:37.920 --> 00:49:40.710 align:start position:0%
by copying it and then writing it
actually<00:49:38.319><c> out</c><00:49:38.640><c> to</c><00:49:38.880><c> the</c><00:49:39.040><c> disk</c>

00:49:40.710 --> 00:49:40.720 align:start position:0%
actually out to the disk
 

00:49:40.720 --> 00:49:42.950 align:start position:0%
actually out to the disk
so<00:49:40.960><c> this</c><00:49:41.119><c> basically</c><00:49:41.520><c> ensures</c><00:49:41.920><c> like</c><00:49:42.079><c> walk</c><00:49:42.319><c> 45</c>

00:49:42.950 --> 00:49:42.960 align:start position:0%
so this basically ensures like walk 45
 

00:49:42.960 --> 00:49:44.549 align:start position:0%
so this basically ensures like walk 45
land<00:49:43.200><c> up</c><00:49:43.359><c> here</c><00:49:43.839><c> you</c><00:49:43.920><c> know</c><00:49:44.079><c> it's</c><00:49:44.240><c> let's</c><00:49:44.400><c> say</c>

00:49:44.549 --> 00:49:44.559 align:start position:0%
land up here you know it's let's say
 

00:49:44.559 --> 00:49:45.589 align:start position:0%
land up here you know it's let's say
this<00:49:44.800><c> is</c><00:49:44.880><c> 32</c>

00:49:45.589 --> 00:49:45.599 align:start position:0%
this is 32
 

00:49:45.599 --> 00:49:47.030 align:start position:0%
this is 32
that<00:49:45.760><c> will</c><00:49:45.920><c> end</c><00:49:46.079><c> up</c><00:49:46.240><c> there</c><00:49:46.559><c> et</c><00:49:46.720><c> cetera</c><00:49:46.960><c> et</c>

00:49:47.030 --> 00:49:47.040 align:start position:0%
that will end up there et cetera et
 

00:49:47.040 --> 00:49:48.950 align:start position:0%
that will end up there et cetera et
cetera

00:49:48.950 --> 00:49:48.960 align:start position:0%
cetera
 

00:49:48.960 --> 00:49:50.870 align:start position:0%
cetera
then<00:49:49.200><c> in</c><00:49:49.280><c> the</c><00:49:49.440><c> end</c><00:49:49.839><c> so</c><00:49:50.160><c> at</c><00:49:50.240><c> this</c><00:49:50.400><c> point</c><00:49:50.640><c> we</c><00:49:50.800><c> have</c>

00:49:50.870 --> 00:49:50.880 align:start position:0%
then in the end so at this point we have
 

00:49:50.880 --> 00:49:52.549 align:start position:0%
then in the end so at this point we have
not<00:49:51.040><c> committed</c><00:49:51.359><c> yet</c><00:49:51.599><c> right</c><00:49:51.920><c> the</c><00:49:52.079><c> only</c><00:49:52.319><c> thing</c>

00:49:52.549 --> 00:49:52.559 align:start position:0%
not committed yet right the only thing
 

00:49:52.559 --> 00:49:54.230 align:start position:0%
not committed yet right the only thing
we've<00:49:52.720><c> done</c><00:49:53.040><c> is</c><00:49:53.200><c> basically</c><00:49:53.520><c> putting</c><00:49:53.839><c> blocks</c>

00:49:54.230 --> 00:49:54.240 align:start position:0%
we've done is basically putting blocks
 

00:49:54.240 --> 00:49:55.349 align:start position:0%
we've done is basically putting blocks
into<00:49:54.480><c> the</c><00:49:54.640><c> log</c>

00:49:55.349 --> 00:49:55.359 align:start position:0%
into the log
 

00:49:55.359 --> 00:49:57.030 align:start position:0%
into the log
and<00:49:55.599><c> if</c><00:49:55.760><c> we</c><00:49:55.920><c> were</c><00:49:56.079><c> crash</c><00:49:56.480><c> at</c><00:49:56.559><c> this</c><00:49:56.720><c> particular</c>

00:49:57.030 --> 00:49:57.040 align:start position:0%
and if we were crash at this particular
 

00:49:57.040 --> 00:49:58.870 align:start position:0%
and if we were crash at this particular
point<00:49:57.280><c> in</c><00:49:57.359><c> time</c><00:49:57.680><c> you</c><00:49:57.760><c> know</c><00:49:57.920><c> before</c>

00:49:58.870 --> 00:49:58.880 align:start position:0%
point in time you know before
 

00:49:58.880 --> 00:50:00.790 align:start position:0%
point in time you know before
you<00:49:59.040><c> know</c><00:49:59.200><c> calling</c><00:49:59.520><c> right</c><00:49:59.839><c> ahead</c><00:50:00.400><c> before</c>

00:50:00.790 --> 00:50:00.800 align:start position:0%
you know calling right ahead before
 

00:50:00.800 --> 00:50:01.990 align:start position:0%
you know calling right ahead before
right<00:50:00.960><c> hack</c><00:50:01.200><c> succeeded</c>

00:50:01.990 --> 00:50:02.000 align:start position:0%
right hack succeeded
 

00:50:02.000 --> 00:50:04.390 align:start position:0%
right hack succeeded
and<00:50:02.160><c> basically</c><00:50:02.559><c> as</c><00:50:02.960><c> if</c><00:50:03.599><c> uh</c><00:50:03.839><c> the</c><00:50:04.000><c> transaction</c>

00:50:04.390 --> 00:50:04.400 align:start position:0%
and basically as if uh the transaction
 

00:50:04.400 --> 00:50:07.190 align:start position:0%
and basically as if uh the transaction
didn't<00:50:04.720><c> execute</c><00:50:05.040><c> at</c><00:50:05.200><c> all</c>

00:50:07.190 --> 00:50:07.200 align:start position:0%
didn't execute at all
 

00:50:07.200 --> 00:50:09.750 align:start position:0%
didn't execute at all
so<00:50:07.359><c> let's</c><00:50:07.599><c> look</c><00:50:07.760><c> at</c><00:50:07.920><c> right</c><00:50:08.160><c> head</c><00:50:09.280><c> so</c><00:50:09.440><c> that</c>

00:50:09.750 --> 00:50:09.760 align:start position:0%
so let's look at right head so that
 

00:50:09.760 --> 00:50:11.109 align:start position:0%
so let's look at right head so that
right<00:50:09.920><c> head</c><00:50:10.160><c> is</c><00:50:10.400><c> you</c><00:50:10.559><c> know</c><00:50:10.640><c> what</c><00:50:10.800><c> i</c><00:50:10.880><c> called</c>

00:50:11.109 --> 00:50:11.119 align:start position:0%
right head is you know what i called
 

00:50:11.119 --> 00:50:13.750 align:start position:0%
right head is you know what i called
earlier<00:50:11.440><c> basically</c><00:50:11.760><c> the</c><00:50:11.920><c> commit</c><00:50:12.240><c> point</c>

00:50:13.750 --> 00:50:13.760 align:start position:0%
earlier basically the commit point
 

00:50:13.760 --> 00:50:16.069 align:start position:0%
earlier basically the commit point
and<00:50:14.160><c> the</c><00:50:14.319><c> commit</c><00:50:14.640><c> point</c><00:50:14.880><c> basically</c><00:50:15.760><c> you</c><00:50:15.839><c> know</c>

00:50:16.069 --> 00:50:16.079 align:start position:0%
and the commit point basically you know
 

00:50:16.079 --> 00:50:17.589 align:start position:0%
and the commit point basically you know
basically<00:50:16.640><c> it's</c><00:50:16.800><c> straightforward</c>

00:50:17.589 --> 00:50:17.599 align:start position:0%
basically it's straightforward
 

00:50:17.599 --> 00:50:21.030 align:start position:0%
basically it's straightforward
and<00:50:17.760><c> reads</c><00:50:18.160><c> the</c><00:50:19.520><c> header</c><00:50:19.839><c> block</c>

00:50:21.030 --> 00:50:21.040 align:start position:0%
and reads the header block
 

00:50:21.040 --> 00:50:22.470 align:start position:0%
and reads the header block
from<00:50:21.280><c> disk</c><00:50:21.599><c> which</c><00:50:21.760><c> is</c><00:50:21.839><c> probably</c><00:50:22.160><c> sitting</c><00:50:22.400><c> in</c>

00:50:22.470 --> 00:50:22.480 align:start position:0%
from disk which is probably sitting in
 

00:50:22.480 --> 00:50:24.549 align:start position:0%
from disk which is probably sitting in
the<00:50:22.559><c> buffer</c><00:50:22.880><c> cache</c><00:50:23.760><c> uh</c>

00:50:24.549 --> 00:50:24.559 align:start position:0%
the buffer cache uh
 

00:50:24.559 --> 00:50:27.750 align:start position:0%
the buffer cache uh
it<00:50:24.960><c> you</c><00:50:25.119><c> know</c><00:50:25.839><c> puts</c><00:50:26.160><c> the</c><00:50:26.640><c> copies</c><00:50:27.040><c> the</c><00:50:27.280><c> n</c>

00:50:27.750 --> 00:50:27.760 align:start position:0%
it you know puts the copies the n
 

00:50:27.760 --> 00:50:30.870 align:start position:0%
it you know puts the copies the n
you<00:50:27.839><c> know</c><00:50:28.000><c> this</c><00:50:28.319><c> end</c><00:50:28.720><c> into</c><00:50:29.599><c> that</c><00:50:30.079><c> block</c>

00:50:30.870 --> 00:50:30.880 align:start position:0%
you know this end into that block
 

00:50:30.880 --> 00:50:32.630 align:start position:0%
you know this end into that block
puts<00:50:31.119><c> all</c><00:50:31.280><c> the</c><00:50:31.359><c> block</c><00:50:31.680><c> numbers</c><00:50:32.160><c> into</c><00:50:32.400><c> that</c>

00:50:32.630 --> 00:50:32.640 align:start position:0%
puts all the block numbers into that
 

00:50:32.640 --> 00:50:33.990 align:start position:0%
puts all the block numbers into that
array<00:50:33.040><c> into</c><00:50:33.200><c> that</c><00:50:33.440><c> block</c>

00:50:33.990 --> 00:50:34.000 align:start position:0%
array into that block
 

00:50:34.000 --> 00:50:35.589 align:start position:0%
array into that block
and<00:50:34.079><c> then</c><00:50:34.240><c> basically</c><00:50:34.720><c> writes</c><00:50:35.440><c> that</c>

00:50:35.589 --> 00:50:35.599 align:start position:0%
and then basically writes that
 

00:50:35.599 --> 00:50:37.270 align:start position:0%
and then basically writes that
particular<00:50:36.000><c> block</c><00:50:36.720><c> so</c>

00:50:37.270 --> 00:50:37.280 align:start position:0%
particular block so
 

00:50:37.280 --> 00:50:39.750 align:start position:0%
particular block so
this<00:50:37.520><c> is</c><00:50:37.680><c> the</c><00:50:38.240><c> this</c><00:50:38.480><c> b</c><00:50:38.720><c> rate</c><00:50:39.040><c> what</c><00:50:39.280><c> is</c><00:50:39.359><c> that</c><00:50:39.680><c> is</c>

00:50:39.750 --> 00:50:39.760 align:start position:0%
this is the this b rate what is that is
 

00:50:39.760 --> 00:50:45.270 align:start position:0%
this is the this b rate what is that is
that<00:50:39.920><c> the</c><00:50:40.079><c> commit</c><00:50:40.400><c> point</c>

00:50:45.270 --> 00:50:45.280 align:start position:0%
 
 

00:50:45.280 --> 00:50:46.950 align:start position:0%
 
if<00:50:45.440><c> a</c><00:50:45.599><c> crash</c><00:50:45.839><c> happens</c><00:50:46.160><c> before</c><00:50:46.400><c> this</c><00:50:46.559><c> b</c><00:50:46.800><c> write</c>

00:50:46.950 --> 00:50:46.960 align:start position:0%
if a crash happens before this b write
 

00:50:46.960 --> 00:50:57.190 align:start position:0%
if a crash happens before this b write
what<00:50:47.200><c> happens</c><00:50:52.839><c> then</c>

00:50:57.190 --> 00:50:57.200 align:start position:0%
 
 

00:50:57.200 --> 00:51:00.790 align:start position:0%
 
anybody<00:50:58.640><c> if</c><00:50:58.880><c> the</c><00:50:59.200><c> crash</c><00:50:59.599><c> happens</c>

00:51:00.790 --> 00:51:00.800 align:start position:0%
anybody if the crash happens
 

00:51:00.800 --> 00:51:02.790 align:start position:0%
anybody if the crash happens
before<00:51:01.200><c> be</c><00:51:01.440><c> right</c><00:51:01.839><c> isn't</c><00:51:02.400><c> the</c><00:51:02.559><c> only</c>

00:51:02.790 --> 00:51:02.800 align:start position:0%
before be right isn't the only
 

00:51:02.800 --> 00:51:04.150 align:start position:0%
before be right isn't the only
modification<00:51:03.440><c> that</c><00:51:03.599><c> we've</c><00:51:03.760><c> made</c>

00:51:04.150 --> 00:51:04.160 align:start position:0%
modification that we've made
 

00:51:04.160 --> 00:51:08.069 align:start position:0%
modification that we've made
to<00:51:04.319><c> the</c><00:51:04.640><c> in-memory</c><00:51:05.920><c> uh</c><00:51:06.240><c> hb</c><00:51:06.800><c> data</c><00:51:07.040><c> structure</c>

00:51:08.069 --> 00:51:08.079 align:start position:0%
to the in-memory uh hb data structure
 

00:51:08.079 --> 00:51:10.710 align:start position:0%
to the in-memory uh hb data structure
so<00:51:08.400><c> it's</c><00:51:08.880><c> not</c><00:51:09.280><c> it's</c><00:51:09.440><c> going</c><00:51:09.520><c> to</c><00:51:09.599><c> be</c><00:51:09.760><c> fine</c><00:51:10.559><c> yeah</c>

00:51:10.710 --> 00:51:10.720 align:start position:0%
so it's not it's going to be fine yeah
 

00:51:10.720 --> 00:51:11.829 align:start position:0%
so it's not it's going to be fine yeah
it's<00:51:10.880><c> going</c><00:51:10.960><c> to</c><00:51:11.040><c> be</c><00:51:11.119><c> fine</c><00:51:11.359><c> right</c><00:51:11.599><c> because</c>

00:51:11.829 --> 00:51:11.839 align:start position:0%
it's going to be fine right because
 

00:51:11.839 --> 00:51:14.710 align:start position:0%
it's going to be fine right because
basically<00:51:12.160><c> we</c><00:51:12.319><c> may</c><00:51:12.559><c> have</c><00:51:12.640><c> written</c><00:51:13.559><c> db10dbn</c>

00:51:14.710 --> 00:51:14.720 align:start position:0%
basically we may have written db10dbn
 

00:51:14.720 --> 00:51:16.549 align:start position:0%
basically we may have written db10dbn
or<00:51:14.800><c> whatever</c><00:51:15.119><c> to</c><00:51:15.280><c> the</c><00:51:15.440><c> log</c><00:51:15.680><c> but</c><00:51:15.839><c> we</c><00:51:16.000><c> have</c><00:51:16.160><c> not</c>

00:51:16.549 --> 00:51:16.559 align:start position:0%
or whatever to the log but we have not
 

00:51:16.559 --> 00:51:18.950 align:start position:0%
or whatever to the log but we have not
succeeded<00:51:17.040><c> in</c><00:51:17.200><c> writing</c><00:51:17.440><c> the</c><00:51:17.520><c> log</c><00:51:17.760><c> header</c>

00:51:18.950 --> 00:51:18.960 align:start position:0%
succeeded in writing the log header
 

00:51:18.960 --> 00:51:20.950 align:start position:0%
succeeded in writing the log header
and<00:51:19.119><c> so</c><00:51:19.440><c> we'll</c><00:51:19.920><c> we'll</c><00:51:20.079><c> do</c><00:51:20.480><c> on</c><00:51:20.559><c> recovery</c>

00:51:20.950 --> 00:51:20.960 align:start position:0%
and so we'll we'll do on recovery
 

00:51:20.960 --> 00:51:22.870 align:start position:0%
and so we'll we'll do on recovery
nothing<00:51:21.200><c> will</c><00:51:21.359><c> happen</c>

00:51:22.870 --> 00:51:22.880 align:start position:0%
nothing will happen
 

00:51:22.880 --> 00:51:24.230 align:start position:0%
nothing will happen
and<00:51:22.960><c> what</c><00:51:23.200><c> happens</c><00:51:23.440><c> if</c><00:51:23.599><c> there's</c><00:51:23.760><c> a</c><00:51:23.839><c> crash</c>

00:51:24.230 --> 00:51:24.240 align:start position:0%
and what happens if there's a crash
 

00:51:24.240 --> 00:51:25.990 align:start position:0%
and what happens if there's a crash
right<00:51:24.480><c> after</c><00:51:24.720><c> the</c><00:51:24.880><c> b</c><00:51:25.119><c> right</c><00:51:25.280><c> so</c><00:51:25.520><c> like</c><00:51:25.680><c> a</c><00:51:25.760><c> crash</c>

00:51:25.990 --> 00:51:26.000 align:start position:0%
right after the b right so like a crash
 

00:51:26.000 --> 00:51:32.069 align:start position:0%
right after the b right so like a crash
here

00:51:32.069 --> 00:51:32.079 align:start position:0%
 
 

00:51:32.079 --> 00:51:34.150 align:start position:0%
 
and<00:51:32.319><c> it's</c><00:51:32.400><c> no</c><00:51:32.559><c> longer</c><00:51:32.880><c> zero</c><00:51:33.280><c> so</c><00:51:33.680><c> the</c><00:51:33.920><c> log</c>

00:51:34.150 --> 00:51:34.160 align:start position:0%
and it's no longer zero so the log
 

00:51:34.160 --> 00:51:35.750 align:start position:0%
and it's no longer zero so the log
header<00:51:34.480><c> is</c><00:51:34.720><c> correctly</c><00:51:35.119><c> read</c><00:51:35.359><c> and</c><00:51:35.599><c> it's</c>

00:51:35.750 --> 00:51:35.760 align:start position:0%
header is correctly read and it's
 

00:51:35.760 --> 00:51:36.790 align:start position:0%
header is correctly read and it's
recovered

00:51:36.790 --> 00:51:36.800 align:start position:0%
recovered
 

00:51:36.800 --> 00:51:38.549 align:start position:0%
recovered
yeah<00:51:36.960><c> it</c><00:51:37.040><c> will</c><00:51:37.200><c> be</c><00:51:37.359><c> recovered</c><00:51:37.839><c> correct</c><00:51:38.160><c> well</c>

00:51:38.549 --> 00:51:38.559 align:start position:0%
yeah it will be recovered correct well
 

00:51:38.559 --> 00:51:39.990 align:start position:0%
yeah it will be recovered correct well
at<00:51:38.640><c> some</c><00:51:38.880><c> point</c><00:51:39.040><c> hopefully</c><00:51:39.359><c> during</c><00:51:39.599><c> recovery</c>

00:51:39.990 --> 00:51:40.000 align:start position:0%
at some point hopefully during recovery
 

00:51:40.000 --> 00:51:41.750 align:start position:0%
at some point hopefully during recovery
as<00:51:40.079><c> we</c><00:51:40.240><c> inspect</c><00:51:40.559><c> that</c><00:51:40.720><c> you</c><00:51:40.880><c> know</c><00:51:41.040><c> we</c>

00:51:41.750 --> 00:51:41.760 align:start position:0%
as we inspect that you know we
 

00:51:41.760 --> 00:51:43.670 align:start position:0%
as we inspect that you know we
expect<00:51:42.160><c> that</c><00:51:42.319><c> recovery</c><00:51:42.800><c> will</c><00:51:43.040><c> actually</c><00:51:43.440><c> read</c>

00:51:43.670 --> 00:51:43.680 align:start position:0%
expect that recovery will actually read
 

00:51:43.680 --> 00:51:45.829 align:start position:0%
expect that recovery will actually read
the<00:51:43.839><c> log</c><00:51:44.160><c> header</c><00:51:44.559><c> see</c><00:51:44.720><c> that</c><00:51:44.880><c> there</c><00:51:45.119><c> is</c><00:51:45.280><c> a</c><00:51:45.520><c> five</c>

00:51:45.829 --> 00:51:45.839 align:start position:0%
the log header see that there is a five
 

00:51:45.839 --> 00:51:46.950 align:start position:0%
the log header see that there is a five
in<00:51:45.920><c> there</c><00:51:46.079><c> for</c><00:51:46.160><c> example</c>

00:51:46.950 --> 00:51:46.960 align:start position:0%
in there for example
 

00:51:46.960 --> 00:51:48.710 align:start position:0%
in there for example
and<00:51:47.119><c> then</c><00:51:47.280><c> copy</c><00:51:47.599><c> the</c><00:51:47.760><c> first</c><00:51:48.000><c> five</c><00:51:48.240><c> blocks</c><00:51:48.559><c> to</c>

00:51:48.710 --> 00:51:48.720 align:start position:0%
and then copy the first five blocks to
 

00:51:48.720 --> 00:51:50.390 align:start position:0%
and then copy the first five blocks to
their<00:51:48.880><c> home</c><00:51:49.119><c> location</c>

00:51:50.390 --> 00:51:50.400 align:start position:0%
their home location
 

00:51:50.400 --> 00:51:52.710 align:start position:0%
their home location
so<00:51:50.559><c> this</c><00:51:50.800><c> is</c><00:51:50.960><c> really</c><00:51:51.440><c> this</c><00:51:51.760><c> this</c><00:51:52.160><c> this</c><00:51:52.400><c> one</c>

00:51:52.710 --> 00:51:52.720 align:start position:0%
so this is really this this this one
 

00:51:52.720 --> 00:51:53.829 align:start position:0%
so this is really this this this one
line

00:51:53.829 --> 00:51:53.839 align:start position:0%
line
 

00:51:53.839 --> 00:51:55.670 align:start position:0%
line
is<00:51:54.000><c> one</c><00:51:54.160><c> disk</c><00:51:54.480><c> right</c><00:51:54.720><c> this</c><00:51:54.880><c> one</c><00:51:55.119><c> sector</c><00:51:55.440><c> right</c>

00:51:55.670 --> 00:51:55.680 align:start position:0%
is one disk right this one sector right
 

00:51:55.680 --> 00:51:58.309 align:start position:0%
is one disk right this one sector right
is<00:51:55.760><c> really</c><00:51:56.000><c> the</c><00:51:56.079><c> commit</c><00:51:56.400><c> point</c>

00:51:58.309 --> 00:51:58.319 align:start position:0%
is really the commit point
 

00:51:58.319 --> 00:52:03.270 align:start position:0%
is really the commit point
correct

00:52:03.270 --> 00:52:03.280 align:start position:0%
 
 

00:52:03.280 --> 00:52:04.630 align:start position:0%
 
you<00:52:03.359><c> know</c><00:52:03.520><c> before</c><00:52:03.760><c> the</c><00:52:03.839><c> commitment</c><00:52:04.319><c> point</c><00:52:04.559><c> the</c>

00:52:04.630 --> 00:52:04.640 align:start position:0%
you know before the commitment point the
 

00:52:04.640 --> 00:52:06.390 align:start position:0%
you know before the commitment point the
transaction<00:52:05.280><c> is</c><00:52:05.520><c> it</c><00:52:05.599><c> is</c><00:52:05.839><c> the</c><00:52:06.000><c> transaction</c>

00:52:06.390 --> 00:52:06.400 align:start position:0%
transaction is it is the transaction
 

00:52:06.400 --> 00:52:07.510 align:start position:0%
transaction is it is the transaction
didn't<00:52:06.640><c> happen</c><00:52:06.880><c> and</c><00:52:07.040><c> after</c><00:52:07.280><c> the</c>

00:52:07.510 --> 00:52:07.520 align:start position:0%
didn't happen and after the
 

00:52:07.520 --> 00:52:09.030 align:start position:0%
didn't happen and after the
commit<00:52:07.839><c> point</c><00:52:08.160><c> the</c><00:52:08.319><c> transaction</c><00:52:08.800><c> will</c>

00:52:09.030 --> 00:52:09.040 align:start position:0%
commit point the transaction will
 

00:52:09.040 --> 00:52:11.430 align:start position:0%
commit point the transaction will
definitely<00:52:09.440><c> be</c><00:52:09.599><c> finished</c>

00:52:11.430 --> 00:52:11.440 align:start position:0%
definitely be finished
 

00:52:11.440 --> 00:52:18.150 align:start position:0%
definitely be finished
assuming<00:52:11.839><c> recovery</c><00:52:12.240><c> is</c><00:52:16.839><c> correct</c>

00:52:18.150 --> 00:52:18.160 align:start position:0%
assuming recovery is correct
 

00:52:18.160 --> 00:52:21.430 align:start position:0%
assuming recovery is correct
okay<00:52:18.640><c> so</c><00:52:18.800><c> let's</c><00:52:19.200><c> you</c><00:52:19.359><c> know</c><00:52:20.400><c> uh</c>

00:52:21.430 --> 00:52:21.440 align:start position:0%
okay so let's you know uh
 

00:52:21.440 --> 00:52:24.950 align:start position:0%
okay so let's you know uh
go<00:52:21.680><c> back</c><00:52:21.920><c> to</c><00:52:22.079><c> commit</c>

00:52:24.950 --> 00:52:24.960 align:start position:0%
 
 

00:52:24.960 --> 00:52:27.190 align:start position:0%
 
so<00:52:25.200><c> commit</c><00:52:25.920><c> after</c><00:52:26.319><c> is</c><00:52:26.400><c> committed</c><00:52:26.800><c> it</c><00:52:26.960><c> actually</c>

00:52:27.190 --> 00:52:27.200 align:start position:0%
so commit after is committed it actually
 

00:52:27.200 --> 00:52:28.790 align:start position:0%
so commit after is committed it actually
installs<00:52:27.680><c> the</c><00:52:27.839><c> transactions</c>

00:52:28.790 --> 00:52:28.800 align:start position:0%
installs the transactions
 

00:52:28.800 --> 00:52:29.910 align:start position:0%
installs the transactions
and<00:52:29.119><c> you</c><00:52:29.280><c> know</c><00:52:29.440><c> that's</c><00:52:29.680><c> pretty</c>

00:52:29.910 --> 00:52:29.920 align:start position:0%
and you know that's pretty
 

00:52:29.920 --> 00:52:31.109 align:start position:0%
and you know that's pretty
straightforward<00:52:30.400><c> basically</c><00:52:30.800><c> you</c><00:52:30.880><c> know</c><00:52:31.040><c> it</c>

00:52:31.109 --> 00:52:31.119 align:start position:0%
straightforward basically you know it
 

00:52:31.119 --> 00:52:33.270 align:start position:0%
straightforward basically you know it
takes<00:52:31.920><c> the</c><00:52:32.079><c> blocks</c><00:52:32.559><c> looks</c><00:52:32.800><c> at</c><00:52:32.960><c> the</c><00:52:33.040><c> header</c>

00:52:33.270 --> 00:52:33.280 align:start position:0%
takes the blocks looks at the header
 

00:52:33.280 --> 00:52:34.549 align:start position:0%
takes the blocks looks at the header
where<00:52:33.520><c> the</c><00:52:33.680><c> blocks</c><00:52:33.920><c> belongs</c><00:52:34.319><c> and</c><00:52:34.400><c> then</c>

00:52:34.549 --> 00:52:34.559 align:start position:0%
where the blocks belongs and then
 

00:52:34.559 --> 00:52:35.829 align:start position:0%
where the blocks belongs and then
basically<00:52:34.880><c> writes</c><00:52:35.119><c> it</c><00:52:35.200><c> to</c><00:52:35.280><c> that</c><00:52:35.440><c> particular</c>

00:52:35.829 --> 00:52:35.839 align:start position:0%
basically writes it to that particular
 

00:52:35.839 --> 00:52:38.470 align:start position:0%
basically writes it to that particular
location

00:52:38.470 --> 00:52:38.480 align:start position:0%
 
 

00:52:38.480 --> 00:52:39.829 align:start position:0%
 
and<00:52:38.800><c> so</c><00:52:38.960><c> we</c><00:52:39.040><c> can</c><00:52:39.200><c> actually</c><00:52:39.440><c> look</c><00:52:39.680><c> at</c><00:52:39.760><c> the</c>

00:52:39.829 --> 00:52:39.839 align:start position:0%
and so we can actually look at the
 

00:52:39.839 --> 00:52:41.829 align:start position:0%
and so we can actually look at the
install<00:52:40.240><c> trends</c>

00:52:41.829 --> 00:52:41.839 align:start position:0%
install trends
 

00:52:41.839 --> 00:52:43.270 align:start position:0%
install trends
and<00:52:42.000><c> see</c><00:52:42.240><c> that</c><00:52:42.480><c> actually</c><00:52:42.800><c> that's</c><00:52:43.040><c> what</c><00:52:43.200><c> it</c>

00:52:43.270 --> 00:52:43.280 align:start position:0%
and see that actually that's what it
 

00:52:43.280 --> 00:52:44.950 align:start position:0%
and see that actually that's what it
does

00:52:44.950 --> 00:52:44.960 align:start position:0%
does
 

00:52:44.960 --> 00:52:47.270 align:start position:0%
does
you<00:52:45.119><c> know</c><00:52:45.200><c> it</c><00:52:45.280><c> has</c><00:52:45.520><c> a</c><00:52:45.599><c> copy</c><00:52:45.920><c> of</c><00:52:46.000><c> the</c><00:52:46.079><c> log</c><00:52:46.319><c> header</c>

00:52:47.270 --> 00:52:47.280 align:start position:0%
you know it has a copy of the log header
 

00:52:47.280 --> 00:52:48.549 align:start position:0%
you know it has a copy of the log header
and<00:52:47.680><c> it</c><00:52:47.839><c> just</c>

00:52:48.549 --> 00:52:48.559 align:start position:0%
and it just
 

00:52:48.559 --> 00:52:51.829 align:start position:0%
and it just
reads<00:52:48.880><c> log</c><00:52:49.200><c> header</c><00:52:50.160><c> uh</c><00:52:50.720><c> it</c><00:52:50.880><c> reads</c><00:52:51.200><c> the</c>

00:52:51.829 --> 00:52:51.839 align:start position:0%
reads log header uh it reads the
 

00:52:51.839 --> 00:52:54.230 align:start position:0%
reads log header uh it reads the
destination<00:52:52.400><c> block</c><00:52:52.640><c> the</c><00:52:52.720><c> home</c><00:52:52.960><c> location</c>

00:52:54.230 --> 00:52:54.240 align:start position:0%
destination block the home location
 

00:52:54.240 --> 00:52:56.150 align:start position:0%
destination block the home location
copies<00:52:54.640><c> the</c><00:52:54.800><c> data</c><00:52:55.119><c> from</c><00:52:55.359><c> the</c><00:52:55.520><c> log</c>

00:52:56.150 --> 00:52:56.160 align:start position:0%
copies the data from the log
 

00:52:56.160 --> 00:52:59.349 align:start position:0%
copies the data from the log
block<00:52:56.720><c> into</c><00:52:57.119><c> the</c><00:52:58.079><c> destination</c>

00:52:59.349 --> 00:52:59.359 align:start position:0%
block into the destination
 

00:52:59.359 --> 00:53:00.630 align:start position:0%
block into the destination
and<00:52:59.440><c> then</c><00:52:59.680><c> writes</c><00:52:59.920><c> the</c><00:53:00.079><c> buffer</c><00:53:00.400><c> to</c><00:53:00.559><c> the</c>

00:53:00.630 --> 00:53:00.640 align:start position:0%
and then writes the buffer to the
 

00:53:00.640 --> 00:53:03.190 align:start position:0%
and then writes the buffer to the
destination

00:53:03.190 --> 00:53:03.200 align:start position:0%
destination
 

00:53:03.200 --> 00:53:05.990 align:start position:0%
destination
okay<00:53:04.720><c> so</c><00:53:04.880><c> basically</c><00:53:05.200><c> effectively</c><00:53:05.680><c> what</c><00:53:05.839><c> this</c>

00:53:05.990 --> 00:53:06.000 align:start position:0%
okay so basically effectively what this
 

00:53:06.000 --> 00:53:07.510 align:start position:0%
okay so basically effectively what this
does<00:53:06.240><c> is</c><00:53:06.400><c> basically</c><00:53:06.720><c> you</c><00:53:06.880><c> know</c><00:53:07.040><c> you</c><00:53:07.200><c> go</c><00:53:07.359><c> back</c>

00:53:07.510 --> 00:53:07.520 align:start position:0%
does is basically you know you go back
 

00:53:07.520 --> 00:53:09.270 align:start position:0%
does is basically you know you go back
to<00:53:07.680><c> this</c><00:53:07.839><c> previous</c><00:53:08.160><c> slide</c><00:53:08.480><c> here</c><00:53:08.720><c> it</c><00:53:08.880><c> copies</c>

00:53:09.270 --> 00:53:09.280 align:start position:0%
to this previous slide here it copies
 

00:53:09.280 --> 00:53:09.829 align:start position:0%
to this previous slide here it copies
you<00:53:09.440><c> know</c>

00:53:09.829 --> 00:53:09.839 align:start position:0%
you know
 

00:53:09.839 --> 00:53:12.230 align:start position:0%
you know
it<00:53:10.000><c> just</c><00:53:10.160><c> does</c><00:53:10.400><c> these</c><00:53:10.720><c> copies</c><00:53:11.119><c> from</c><00:53:11.440><c> the</c><00:53:11.760><c> log</c>

00:53:12.230 --> 00:53:12.240 align:start position:0%
it just does these copies from the log
 

00:53:12.240 --> 00:53:13.510 align:start position:0%
it just does these copies from the log
into<00:53:12.559><c> the</c><00:53:12.640><c> home</c><00:53:12.880><c> location</c>

00:53:13.510 --> 00:53:13.520 align:start position:0%
into the home location
 

00:53:13.520 --> 00:53:17.030 align:start position:0%
into the home location
actually<00:53:13.839><c> in</c><00:53:13.920><c> the</c><00:53:14.079><c> file</c><00:53:14.319><c> system</c>

00:53:17.030 --> 00:53:17.040 align:start position:0%
 
 

00:53:17.040 --> 00:53:18.230 align:start position:0%
 
and<00:53:17.200><c> of</c><00:53:17.280><c> course</c><00:53:17.520><c> you</c><00:53:17.599><c> know</c><00:53:17.760><c> we</c><00:53:17.839><c> might</c><00:53:18.000><c> get</c><00:53:18.160><c> a</c>

00:53:18.230 --> 00:53:18.240 align:start position:0%
and of course you know we might get a
 

00:53:18.240 --> 00:53:20.230 align:start position:0%
and of course you know we might get a
failure<00:53:18.720><c> somewhere</c><00:53:19.119><c> in</c><00:53:19.440><c> you</c><00:53:19.520><c> know</c><00:53:19.680><c> this</c><00:53:19.839><c> code</c>

00:53:20.230 --> 00:53:20.240 align:start position:0%
failure somewhere in you know this code
 

00:53:20.240 --> 00:53:21.910 align:start position:0%
failure somewhere in you know this code
or<00:53:20.480><c> while</c><00:53:20.720><c> we're</c><00:53:20.880><c> doing</c><00:53:21.119><c> this</c>

00:53:21.910 --> 00:53:21.920 align:start position:0%
or while we're doing this
 

00:53:21.920 --> 00:53:23.510 align:start position:0%
or while we're doing this
but<00:53:22.160><c> you</c><00:53:22.319><c> know</c><00:53:22.400><c> that</c><00:53:22.559><c> should</c><00:53:22.720><c> be</c><00:53:22.960><c> okay</c><00:53:23.280><c> because</c>

00:53:23.510 --> 00:53:23.520 align:start position:0%
but you know that should be okay because
 

00:53:23.520 --> 00:53:25.030 align:start position:0%
but you know that should be okay because
hopefully<00:53:23.839><c> on</c><00:53:24.000><c> recovery</c><00:53:24.480><c> we'll</c><00:53:24.640><c> just</c><00:53:24.800><c> start</c>

00:53:25.030 --> 00:53:25.040 align:start position:0%
hopefully on recovery we'll just start
 

00:53:25.040 --> 00:53:29.109 align:start position:0%
hopefully on recovery we'll just start
over<00:53:25.280><c> from</c><00:53:25.520><c> the</c><00:53:26.839><c> beginning</c>

00:53:29.109 --> 00:53:29.119 align:start position:0%
over from the beginning
 

00:53:29.119 --> 00:53:33.109 align:start position:0%
over from the beginning
so<00:53:29.359><c> let's</c><00:53:29.599><c> look</c><00:53:29.920><c> at</c><00:53:31.280><c> so</c><00:53:31.440><c> that</c><00:53:31.599><c> was</c><00:53:31.839><c> install</c>

00:53:33.109 --> 00:53:33.119 align:start position:0%
so let's look at so that was install
 

00:53:33.119 --> 00:53:36.390 align:start position:0%
so let's look at so that was install
so<00:53:33.359><c> once</c><00:53:33.680><c> install</c><00:53:34.079><c> is</c><00:53:34.240><c> done</c><00:53:35.760><c> then</c>

00:53:36.390 --> 00:53:36.400 align:start position:0%
so once install is done then
 

00:53:36.400 --> 00:53:39.829 align:start position:0%
so once install is done then
uh<00:53:37.359><c> basically</c><00:53:38.400><c> it</c><00:53:38.559><c> sets</c><00:53:38.960><c> you</c><00:53:39.119><c> know</c><00:53:39.280><c> the</c><00:53:39.520><c> in</c>

00:53:39.829 --> 00:53:39.839 align:start position:0%
uh basically it sets you know the in
 

00:53:39.839 --> 00:53:43.030 align:start position:0%
uh basically it sets you know the in
memory<00:53:40.960><c> header</c><00:53:41.599><c> n</c><00:53:41.920><c> back</c><00:53:42.160><c> to</c><00:53:42.319><c> zero</c>

00:53:43.030 --> 00:53:43.040 align:start position:0%
memory header n back to zero
 

00:53:43.040 --> 00:53:45.750 align:start position:0%
memory header n back to zero
and<00:53:43.119><c> then</c><00:53:43.359><c> writes</c><00:53:43.680><c> that</c><00:53:43.920><c> log</c><00:53:44.160><c> header</c><00:53:45.440><c> and</c>

00:53:45.750 --> 00:53:45.760 align:start position:0%
and then writes that log header and
 

00:53:45.760 --> 00:53:47.109 align:start position:0%
and then writes that log header and
effectively<00:53:46.319><c> that</c>

00:53:47.109 --> 00:53:47.119 align:start position:0%
effectively that
 

00:53:47.119 --> 00:53:50.790 align:start position:0%
effectively that
causes<00:53:47.599><c> to</c><00:53:48.640><c> uh</c>

00:53:50.790 --> 00:53:50.800 align:start position:0%
causes to uh
 

00:53:50.800 --> 00:53:52.309 align:start position:0%
causes to uh
cleans<00:53:51.119><c> the</c><00:53:51.200><c> log</c><00:53:51.520><c> because</c><00:53:51.760><c> basically</c><00:53:52.160><c> there's</c>

00:53:52.309 --> 00:53:52.319 align:start position:0%
cleans the log because basically there's
 

00:53:52.319 --> 00:53:54.829 align:start position:0%
cleans the log because basically there's
now<00:53:52.559><c> zero</c><00:53:52.880><c> in</c><00:53:53.040><c> it</c>

00:53:54.829 --> 00:53:54.839 align:start position:0%
now zero in it
 

00:53:54.839 --> 00:53:57.990 align:start position:0%
now zero in it
question<00:53:56.160><c> uh</c><00:53:56.800><c> so</c>

00:53:57.990 --> 00:53:58.000 align:start position:0%
question uh so
 

00:53:58.000 --> 00:54:01.670 align:start position:0%
question uh so
you<00:53:59.040><c> uh</c><00:54:00.240><c> the</c><00:54:00.720><c> function</c><00:54:01.040><c> you're</c><00:54:01.280><c> in</c><00:54:01.440><c> just</c>

00:54:01.670 --> 00:54:01.680 align:start position:0%
you uh the function you're in just
 

00:54:01.680 --> 00:54:02.710 align:start position:0%
you uh the function you're in just
before

00:54:02.710 --> 00:54:02.720 align:start position:0%
before
 

00:54:02.720 --> 00:54:06.230 align:start position:0%
before
like<00:54:02.960><c> whereas</c><00:54:03.599><c> does</c><00:54:03.839><c> the</c><00:54:04.000><c> from</c><00:54:04.480><c> two</c><00:54:05.040><c> or</c><00:54:05.280><c> two</c>

00:54:06.230 --> 00:54:06.240 align:start position:0%
like whereas does the from two or two
 

00:54:06.240 --> 00:54:09.270 align:start position:0%
like whereas does the from two or two
from<00:54:06.400><c> getting</c><00:54:07.119><c> so</c><00:54:07.280><c> that</c><00:54:07.520><c> puts</c><00:54:07.839><c> the</c><00:54:08.079><c> um</c>

00:54:09.270 --> 00:54:09.280 align:start position:0%
from getting so that puts the um
 

00:54:09.280 --> 00:54:11.510 align:start position:0%
from getting so that puts the um
the<00:54:09.520><c> block</c><00:54:09.920><c> that</c><00:54:10.000><c> you're</c><00:54:10.240><c> going</c><00:54:10.559><c> to</c><00:54:10.720><c> like</c>

00:54:11.510 --> 00:54:11.520 align:start position:0%
the block that you're going to like
 

00:54:11.520 --> 00:54:12.390 align:start position:0%
the block that you're going to like
update

00:54:12.390 --> 00:54:12.400 align:start position:0%
update
 

00:54:12.400 --> 00:54:14.309 align:start position:0%
update
uh<00:54:13.119><c> the</c><00:54:13.280><c> log</c><00:54:13.520><c> block</c><00:54:13.760><c> that</c><00:54:13.839><c> you're</c><00:54:13.920><c> going</c><00:54:14.079><c> to</c>

00:54:14.309 --> 00:54:14.319 align:start position:0%
uh the log block that you're going to
 

00:54:14.319 --> 00:54:16.309 align:start position:0%
uh the log block that you're going to
update<00:54:14.800><c> into</c><00:54:15.119><c> the</c><00:54:15.359><c> buffer</c>

00:54:16.309 --> 00:54:16.319 align:start position:0%
update into the buffer
 

00:54:16.319 --> 00:54:20.390 align:start position:0%
update into the buffer
cache<00:54:17.839><c> um</c><00:54:18.400><c> could</c><00:54:18.559><c> you</c><00:54:18.720><c> make</c><00:54:18.960><c> it</c><00:54:19.200><c> faster</c><00:54:19.680><c> by</c>

00:54:20.390 --> 00:54:20.400 align:start position:0%
cache um could you make it faster by
 

00:54:20.400 --> 00:54:21.990 align:start position:0%
cache um could you make it faster by
not<00:54:20.559><c> putting</c><00:54:20.800><c> it</c><00:54:20.880><c> into</c><00:54:21.040><c> the</c><00:54:21.119><c> buffer</c><00:54:21.599><c> cache</c><00:54:21.839><c> and</c>

00:54:21.990 --> 00:54:22.000 align:start position:0%
not putting it into the buffer cache and
 

00:54:22.000 --> 00:54:24.470 align:start position:0%
not putting it into the buffer cache and
just<00:54:22.160><c> directly</c><00:54:22.559><c> writing</c><00:54:22.960><c> it</c><00:54:23.200><c> to</c>

00:54:24.470 --> 00:54:24.480 align:start position:0%
just directly writing it to
 

00:54:24.480 --> 00:54:27.670 align:start position:0%
just directly writing it to
the<00:54:24.720><c> device</c><00:54:25.119><c> instead</c><00:54:26.640><c> uh</c>

00:54:27.670 --> 00:54:27.680 align:start position:0%
the device instead uh
 

00:54:27.680 --> 00:54:30.069 align:start position:0%
the device instead uh
let<00:54:27.839><c> me</c><00:54:28.640><c> uh</c><00:54:29.200><c> which</c><00:54:29.359><c> function</c><00:54:29.680><c> we're</c><00:54:29.839><c> talking</c>

00:54:30.069 --> 00:54:30.079 align:start position:0%
let me uh which function we're talking
 

00:54:30.079 --> 00:54:31.670 align:start position:0%
let me uh which function we're talking
about

00:54:31.670 --> 00:54:31.680 align:start position:0%
about
 

00:54:31.680 --> 00:54:34.950 align:start position:0%
about
i<00:54:33.040><c> forget</c><00:54:33.440><c> its</c><00:54:33.599><c> name</c><00:54:34.079><c> it's</c><00:54:34.480><c> it's</c><00:54:34.640><c> the</c><00:54:34.720><c> one</c>

00:54:34.950 --> 00:54:34.960 align:start position:0%
i forget its name it's it's the one
 

00:54:34.960 --> 00:54:36.069 align:start position:0%
i forget its name it's it's the one
where<00:54:35.119><c> you</c><00:54:35.359><c> uh</c>

00:54:36.069 --> 00:54:36.079 align:start position:0%
where you uh
 

00:54:36.079 --> 00:54:38.950 align:start position:0%
where you uh
copy<00:54:37.440><c> you</c><00:54:37.520><c> know</c><00:54:37.680><c> everything</c><00:54:38.000><c> into</c><00:54:38.160><c> the</c><00:54:38.319><c> log</c>

00:54:38.950 --> 00:54:38.960 align:start position:0%
copy you know everything into the log
 

00:54:38.960 --> 00:54:40.309 align:start position:0%
copy you know everything into the log
okay<00:54:39.200><c> install</c>

00:54:40.309 --> 00:54:40.319 align:start position:0%
okay install
 

00:54:40.319 --> 00:54:44.150 align:start position:0%
okay install
install<00:54:40.720><c> trends</c><00:54:42.880><c> uh</c><00:54:43.119><c> i</c><00:54:43.280><c> think</c><00:54:43.440><c> so</c>

00:54:44.150 --> 00:54:44.160 align:start position:0%
install trends uh i think so
 

00:54:44.160 --> 00:54:47.349 align:start position:0%
install trends uh i think so
yeah<00:54:44.960><c> no</c><00:54:47.040><c> no</c>

00:54:47.349 --> 00:54:47.359 align:start position:0%
yeah no no
 

00:54:47.359 --> 00:54:50.390 align:start position:0%
yeah no no
or<00:54:47.760><c> maybe</c><00:54:48.000><c> it</c><00:54:48.079><c> was</c><00:54:48.319><c> this</c><00:54:48.480><c> one</c><00:54:50.079><c> so</c>

00:54:50.390 --> 00:54:50.400 align:start position:0%
or maybe it was this one so
 

00:54:50.400 --> 00:54:52.390 align:start position:0%
or maybe it was this one so
i<00:54:50.559><c> was</c><00:54:50.640><c> thinking</c><00:54:51.119><c> probably</c><00:54:51.520><c> of</c><00:54:51.680><c> right</c><00:54:51.920><c> head</c>

00:54:52.390 --> 00:54:52.400 align:start position:0%
i was thinking probably of right head
 

00:54:52.400 --> 00:54:54.150 align:start position:0%
i was thinking probably of right head
but<00:54:52.799><c> it's</c><00:54:53.040><c> the</c><00:54:53.200><c> same</c><00:54:53.440><c> thing</c>

00:54:54.150 --> 00:54:54.160 align:start position:0%
but it's the same thing
 

00:54:54.160 --> 00:54:57.589 align:start position:0%
but it's the same thing
okay<00:54:54.720><c> they're</c><00:54:54.960><c> the</c><00:54:56.000><c> uh</c>

00:54:57.589 --> 00:54:57.599 align:start position:0%
okay they're the uh
 

00:54:57.599 --> 00:55:01.030 align:start position:0%
okay they're the uh
the<00:54:57.680><c> only</c><00:54:58.000><c> reason</c><00:54:58.319><c> yeah</c><00:54:59.760><c> uh</c><00:55:00.480><c> the</c><00:55:00.640><c> only</c><00:55:00.799><c> reason</c>

00:55:01.030 --> 00:55:01.040 align:start position:0%
the only reason yeah uh the only reason
 

00:55:01.040 --> 00:55:02.470 align:start position:0%
the only reason yeah uh the only reason
to<00:55:01.200><c> this</c><00:55:01.440><c> you</c><00:55:01.520><c> know</c><00:55:01.599><c> basically</c><00:55:01.920><c> our</c><00:55:02.079><c> interface</c>

00:55:02.470 --> 00:55:02.480 align:start position:0%
to this you know basically our interface
 

00:55:02.480 --> 00:55:03.750 align:start position:0%
to this you know basically our interface
is<00:55:02.559><c> not</c><00:55:02.720><c> particularly</c><00:55:03.040><c> good</c><00:55:03.280><c> you</c><00:55:03.359><c> could</c><00:55:03.440><c> just</c>

00:55:03.750 --> 00:55:03.760 align:start position:0%
is not particularly good you could just
 

00:55:03.760 --> 00:55:05.829 align:start position:0%
is not particularly good you could just
wreck<00:55:04.000><c> straight</c><00:55:04.480><c> you</c><00:55:04.640><c> know</c><00:55:04.799><c> the</c><00:55:05.680><c> you're</c>

00:55:05.829 --> 00:55:05.839 align:start position:0%
wreck straight you know the you're
 

00:55:05.839 --> 00:55:07.910 align:start position:0%
wreck straight you know the you're
wondering<00:55:06.160><c> why</c><00:55:06.319><c> you</c><00:55:06.480><c> are</c><00:55:06.559><c> doing</c><00:55:06.799><c> the</c><00:55:06.960><c> read</c>

00:55:07.910 --> 00:55:07.920 align:start position:0%
wondering why you are doing the read
 

00:55:07.920 --> 00:55:09.510 align:start position:0%
wondering why you are doing the read
uh<00:55:08.319><c> there's</c><00:55:08.559><c> no</c><00:55:08.720><c> reason</c><00:55:08.960><c> to</c><00:55:09.040><c> do</c><00:55:09.200><c> the</c><00:55:09.280><c> read</c>

00:55:09.510 --> 00:55:09.520 align:start position:0%
uh there's no reason to do the read
 

00:55:09.520 --> 00:55:11.190 align:start position:0%
uh there's no reason to do the read
because<00:55:09.680><c> we're</c><00:55:09.839><c> going</c><00:55:09.920><c> to</c><00:55:10.079><c> write</c><00:55:10.319><c> anyway</c>

00:55:11.190 --> 00:55:11.200 align:start position:0%
because we're going to write anyway
 

00:55:11.200 --> 00:55:14.950 align:start position:0%
because we're going to write anyway
uh<00:55:12.079><c> is</c><00:55:12.240><c> that</c><00:55:12.400><c> the</c><00:55:12.640><c> question</c>

00:55:14.950 --> 00:55:14.960 align:start position:0%
uh is that the question
 

00:55:14.960 --> 00:55:17.670 align:start position:0%
uh is that the question
uh<00:55:15.440><c> yeah</c><00:55:15.839><c> that</c><00:55:16.240><c> and</c><00:55:16.480><c> you're</c><00:55:16.720><c> also</c><00:55:17.200><c> uh</c><00:55:17.440><c> doing</c>

00:55:17.670 --> 00:55:17.680 align:start position:0%
uh yeah that and you're also uh doing
 

00:55:17.680 --> 00:55:19.030 align:start position:0%
uh yeah that and you're also uh doing
the<00:55:17.839><c> men</c><00:55:18.160><c> move</c>

00:55:19.030 --> 00:55:19.040 align:start position:0%
the men move
 

00:55:19.040 --> 00:55:20.950 align:start position:0%
the men move
right<00:55:19.359><c> and</c><00:55:19.520><c> you</c><00:55:19.599><c> didn't</c><00:55:20.000><c> move</c><00:55:20.240><c> yeah</c><00:55:20.559><c> so</c><00:55:20.720><c> this</c>

00:55:20.950 --> 00:55:20.960 align:start position:0%
right and you didn't move yeah so this
 

00:55:20.960 --> 00:55:22.230 align:start position:0%
right and you didn't move yeah so this
actually<00:55:21.359><c> the</c><00:55:21.520><c> sequence</c><00:55:21.839><c> of</c><00:55:21.920><c> code</c><00:55:22.160><c> can</c>

00:55:22.230 --> 00:55:22.240 align:start position:0%
actually the sequence of code can
 

00:55:22.240 --> 00:55:23.430 align:start position:0%
actually the sequence of code can
definitely<00:55:22.559><c> be</c><00:55:22.720><c> optimized</c>

00:55:23.430 --> 00:55:23.440 align:start position:0%
definitely be optimized
 

00:55:23.440 --> 00:55:25.670 align:start position:0%
definitely be optimized
uh<00:55:23.680><c> you</c><00:55:23.839><c> can</c><00:55:24.160><c> save</c><00:55:24.559><c> you</c><00:55:24.720><c> know</c><00:55:24.960><c> one</c><00:55:25.119><c> or</c><00:55:25.200><c> two</c><00:55:25.359><c> disk</c>

00:55:25.670 --> 00:55:25.680 align:start position:0%
uh you can save you know one or two disk
 

00:55:25.680 --> 00:55:26.789 align:start position:0%
uh you can save you know one or two disk
writes

00:55:26.789 --> 00:55:26.799 align:start position:0%
writes
 

00:55:26.799 --> 00:55:29.349 align:start position:0%
writes
just<00:55:27.040><c> for</c><00:55:27.520><c> simplicity</c><00:55:28.559><c> we</c><00:55:28.720><c> don't</c><00:55:28.880><c> do</c><00:55:29.119><c> any</c><00:55:29.280><c> of</c>

00:55:29.349 --> 00:55:29.359 align:start position:0%
just for simplicity we don't do any of
 

00:55:29.359 --> 00:55:30.230 align:start position:0%
just for simplicity we don't do any of
that

00:55:30.230 --> 00:55:30.240 align:start position:0%
that
 

00:55:30.240 --> 00:55:35.190 align:start position:0%
that
okay<00:55:30.640><c> thank</c><00:55:32.839><c> you</c>

00:55:35.190 --> 00:55:35.200 align:start position:0%
okay thank you
 

00:55:35.200 --> 00:55:38.630 align:start position:0%
okay thank you
okay<00:55:35.839><c> uh</c><00:55:37.440><c> so</c><00:55:37.599><c> i</c><00:55:37.599><c> think</c><00:55:37.839><c> we're</c><00:55:38.000><c> an</c><00:55:38.160><c> over</c>

00:55:38.630 --> 00:55:38.640 align:start position:0%
okay uh so i think we're an over
 

00:55:38.640 --> 00:55:42.789 align:start position:0%
okay uh so i think we're an over
uh<00:55:39.040><c> commit</c><00:55:40.240><c> just</c><00:55:40.559><c> let's</c><00:55:40.880><c> just</c><00:55:41.040><c> go</c><00:55:41.200><c> back</c>

00:55:42.789 --> 00:55:42.799 align:start position:0%
uh commit just let's just go back
 

00:55:42.799 --> 00:55:45.670 align:start position:0%
uh commit just let's just go back
and<00:55:43.119><c> double</c><00:55:43.440><c> check</c><00:55:44.559><c> uh</c><00:55:44.880><c> so</c><00:55:45.040><c> we</c><00:55:45.119><c> did</c><00:55:45.280><c> the</c><00:55:45.440><c> right</c>

00:55:45.670 --> 00:55:45.680 align:start position:0%
and double check uh so we did the right
 

00:55:45.680 --> 00:55:47.109 align:start position:0%
and double check uh so we did the right
log<00:55:46.000><c> we</c><00:55:46.160><c> did</c><00:55:46.319><c> the</c><00:55:46.400><c> right</c><00:55:46.640><c> head</c>

00:55:47.109 --> 00:55:47.119 align:start position:0%
log we did the right head
 

00:55:47.119 --> 00:55:48.950 align:start position:0%
log we did the right head
and<00:55:47.280><c> basically</c><00:55:47.760><c> this</c><00:55:48.160><c> this</c><00:55:48.400><c> is</c><00:55:48.480><c> the</c><00:55:48.640><c> cleaning</c>

00:55:48.950 --> 00:55:48.960 align:start position:0%
and basically this this is the cleaning
 

00:55:48.960 --> 00:55:50.549 align:start position:0%
and basically this this is the cleaning
operation

00:55:50.549 --> 00:55:50.559 align:start position:0%
operation
 

00:55:50.559 --> 00:55:52.710 align:start position:0%
operation
uh<00:55:50.799><c> we</c><00:55:51.040><c> erased</c><00:55:51.440><c> you</c><00:55:51.520><c> know</c><00:55:51.680><c> transaction</c><00:55:52.319><c> by</c>

00:55:52.710 --> 00:55:52.720 align:start position:0%
uh we erased you know transaction by
 

00:55:52.720 --> 00:55:54.150 align:start position:0%
uh we erased you know transaction by
sending<00:55:53.040><c> it</c><00:55:53.119><c> to</c><00:55:53.520><c> zero</c>

00:55:54.150 --> 00:55:54.160 align:start position:0%
sending it to zero
 

00:55:54.160 --> 00:55:57.349 align:start position:0%
sending it to zero
okay<00:55:55.680><c> so</c><00:55:55.920><c> the</c><00:55:56.240><c> only</c><00:55:56.400><c> thing</c><00:55:56.559><c> to</c><00:55:56.720><c> sort</c><00:55:56.880><c> of</c>

00:55:57.349 --> 00:55:57.359 align:start position:0%
okay so the only thing to sort of
 

00:55:57.359 --> 00:55:59.109 align:start position:0%
okay so the only thing to sort of
further<00:55:57.760><c> inspect</c><00:55:58.160><c> is</c><00:55:58.240><c> like</c><00:55:58.400><c> what</c><00:55:58.559><c> how</c><00:55:58.960><c> how</c>

00:55:59.109 --> 00:55:59.119 align:start position:0%
further inspect is like what how how
 

00:55:59.119 --> 00:56:01.030 align:start position:0%
further inspect is like what how how
does<00:55:59.359><c> recovery</c><00:55:59.839><c> work</c><00:56:00.319><c> and</c>

00:56:01.030 --> 00:56:01.040 align:start position:0%
does recovery work and
 

00:56:01.040 --> 00:56:04.630 align:start position:0%
does recovery work and
so<00:56:01.280><c> recovery</c><00:56:02.240><c> uh</c><00:56:03.760><c> happens</c><00:56:04.160><c> when</c>

00:56:04.630 --> 00:56:04.640 align:start position:0%
so recovery uh happens when
 

00:56:04.640 --> 00:56:07.750 align:start position:0%
so recovery uh happens when
you<00:56:04.799><c> know</c><00:56:04.880><c> when</c><00:56:05.119><c> xv6</c><00:56:05.680><c> starts</c><00:56:06.720><c> uh</c><00:56:07.040><c> so</c><00:56:07.280><c> no</c><00:56:07.520><c> we</c><00:56:07.599><c> had</c>

00:56:07.750 --> 00:56:07.760 align:start position:0%
you know when xv6 starts uh so no we had
 

00:56:07.760 --> 00:56:09.990 align:start position:0%
you know when xv6 starts uh so no we had
a<00:56:07.839><c> crash</c><00:56:08.240><c> correct</c><00:56:08.480><c> so</c><00:56:08.640><c> the</c><00:56:08.799><c> system</c><00:56:09.119><c> failed</c>

00:56:09.990 --> 00:56:10.000 align:start position:0%
a crash correct so the system failed
 

00:56:10.000 --> 00:56:13.510 align:start position:0%
a crash correct so the system failed
uh<00:56:10.319><c> we</c><00:56:10.480><c> rebooted</c><00:56:11.359><c> um</c><00:56:12.480><c> and</c>

00:56:13.510 --> 00:56:13.520 align:start position:0%
uh we rebooted um and
 

00:56:13.520 --> 00:56:16.549 align:start position:0%
uh we rebooted um and
uh<00:56:14.799><c> the</c><00:56:15.359><c> and</c><00:56:15.440><c> one</c><00:56:15.599><c> of</c><00:56:15.680><c> the</c><00:56:15.760><c> first</c><00:56:16.000><c> things</c>

00:56:16.549 --> 00:56:16.559 align:start position:0%
uh the and one of the first things
 

00:56:16.559 --> 00:56:18.549 align:start position:0%
uh the and one of the first things
the<00:56:16.720><c> x-rays</c><00:56:17.119><c> or</c><00:56:17.359><c> one</c><00:56:17.520><c> of</c><00:56:17.599><c> the</c><00:56:17.680><c> things</c><00:56:17.839><c> that</c><00:56:18.000><c> xv6</c>

00:56:18.549 --> 00:56:18.559 align:start position:0%
the x-rays or one of the things that xv6
 

00:56:18.559 --> 00:56:20.150 align:start position:0%
the x-rays or one of the things that xv6
does<00:56:18.880><c> during</c><00:56:19.440><c> uh</c>

00:56:20.150 --> 00:56:20.160 align:start position:0%
does during uh
 

00:56:20.160 --> 00:56:22.150 align:start position:0%
does during uh
initialization<00:56:21.200><c> it</c><00:56:21.359><c> actually</c><00:56:21.680><c> calls</c><00:56:21.920><c> into</c>

00:56:22.150 --> 00:56:22.160 align:start position:0%
initialization it actually calls into
 

00:56:22.160 --> 00:56:23.349 align:start position:0%
initialization it actually calls into
log

00:56:23.349 --> 00:56:23.359 align:start position:0%
log
 

00:56:23.359 --> 00:56:25.510 align:start position:0%
log
uh<00:56:23.680><c> and</c><00:56:23.839><c> in</c><00:56:24.000><c> a</c><00:56:24.079><c> log</c><00:56:24.400><c> basically</c><00:56:25.119><c> calls</c><00:56:25.359><c> this</c>

00:56:25.510 --> 00:56:25.520 align:start position:0%
uh and in a log basically calls this
 

00:56:25.520 --> 00:56:27.109 align:start position:0%
uh and in a log basically calls this
function<00:56:25.839><c> recover</c><00:56:26.240><c> from</c><00:56:26.480><c> log</c>

00:56:27.109 --> 00:56:27.119 align:start position:0%
function recover from log
 

00:56:27.119 --> 00:56:30.789 align:start position:0%
function recover from log
and<00:56:27.280><c> so</c><00:56:27.440><c> let's</c><00:56:27.680><c> see</c><00:56:27.839><c> what</c><00:56:28.000><c> that</c><00:56:28.839><c> does</c><00:56:30.000><c> and</c>

00:56:30.789 --> 00:56:30.799 align:start position:0%
and so let's see what that does and
 

00:56:30.799 --> 00:56:33.589 align:start position:0%
and so let's see what that does and
basically<00:56:31.359><c> recover</c><00:56:31.920><c> log</c><00:56:32.319><c> you</c><00:56:32.400><c> know</c><00:56:32.640><c> calls</c>

00:56:33.589 --> 00:56:33.599 align:start position:0%
basically recover log you know calls
 

00:56:33.599 --> 00:56:35.270 align:start position:0%
basically recover log you know calls
read<00:56:33.839><c> ahead</c>

00:56:35.270 --> 00:56:35.280 align:start position:0%
read ahead
 

00:56:35.280 --> 00:56:39.270 align:start position:0%
read ahead
to<00:56:35.599><c> basically</c><00:56:36.000><c> extract</c><00:56:36.880><c> or</c><00:56:37.119><c> read</c><00:56:37.599><c> the</c>

00:56:39.270 --> 00:56:39.280 align:start position:0%
to basically extract or read the
 

00:56:39.280 --> 00:56:41.430 align:start position:0%
to basically extract or read the
the<00:56:39.839><c> let</c><00:56:40.000><c> me</c><00:56:40.160><c> see</c><00:56:40.319><c> if</c><00:56:40.480><c> i</c><00:56:40.559><c> can</c><00:56:40.640><c> scroll</c><00:56:40.960><c> down</c><00:56:41.200><c> here</c>

00:56:41.430 --> 00:56:41.440 align:start position:0%
the let me see if i can scroll down here
 

00:56:41.440 --> 00:56:45.430 align:start position:0%
the let me see if i can scroll down here
a little<00:56:42.839><c> bit</c>

00:56:45.430 --> 00:56:45.440 align:start position:0%
a little bit
 

00:56:45.440 --> 00:56:46.789 align:start position:0%
a little bit
yeah<00:56:45.599><c> basically</c><00:56:46.000><c> reads</c><00:56:46.240><c> the</c><00:56:46.319><c> header</c><00:56:46.640><c> from</c>

00:56:46.789 --> 00:56:46.799 align:start position:0%
yeah basically reads the header from
 

00:56:46.799 --> 00:56:49.829 align:start position:0%
yeah basically reads the header from
disk<00:56:48.079><c> and</c><00:56:48.319><c> sees</c><00:56:48.640><c> if</c><00:56:48.880><c> n</c>

00:56:49.829 --> 00:56:49.839 align:start position:0%
disk and sees if n
 

00:56:49.839 --> 00:56:52.150 align:start position:0%
disk and sees if n
uh<00:56:50.640><c> well</c><00:56:50.799><c> it</c><00:56:50.880><c> doesn't</c><00:56:51.119><c> really</c><00:56:51.359><c> see</c><00:56:51.520><c> if</c><00:56:51.680><c> n</c><00:56:51.839><c> zero</c>

00:56:52.150 --> 00:56:52.160 align:start position:0%
uh well it doesn't really see if n zero
 

00:56:52.160 --> 00:56:52.870 align:start position:0%
uh well it doesn't really see if n zero
or<00:56:52.240><c> not</c><00:56:52.480><c> but</c>

00:56:52.870 --> 00:56:52.880 align:start position:0%
or not but
 

00:56:52.880 --> 00:56:55.190 align:start position:0%
or not but
it<00:56:52.960><c> just</c><00:56:53.119><c> calls</c><00:56:53.440><c> install</c><00:56:53.839><c> trans</c><00:56:54.640><c> and</c><00:56:54.880><c> you</c><00:56:54.960><c> know</c>

00:56:55.190 --> 00:56:55.200 align:start position:0%
it just calls install trans and you know
 

00:56:55.200 --> 00:56:56.870 align:start position:0%
it just calls install trans and you know
this<00:56:55.359><c> is</c><00:56:55.599><c> exactly</c><00:56:56.000><c> the</c><00:56:56.079><c> same</c><00:56:56.319><c> install</c><00:56:56.720><c> trends</c>

00:56:56.870 --> 00:56:56.880 align:start position:0%
this is exactly the same install trends
 

00:56:56.880 --> 00:56:57.990 align:start position:0%
this is exactly the same install trends
that<00:56:57.040><c> we</c><00:56:57.200><c> just</c><00:56:57.359><c> looked</c><00:56:57.599><c> for</c>

00:56:57.990 --> 00:56:58.000 align:start position:0%
that we just looked for
 

00:56:58.000 --> 00:56:59.990 align:start position:0%
that we just looked for
for<00:56:58.720><c> looked</c><00:56:58.960><c> and</c><00:56:59.119><c> looked</c><00:56:59.359><c> at</c><00:56:59.440><c> a</c><00:56:59.520><c> little</c><00:56:59.760><c> while</c>

00:56:59.990 --> 00:57:00.000 align:start position:0%
for looked and looked at a little while
 

00:57:00.000 --> 00:57:01.829 align:start position:0%
for looked and looked at a little while
ago<00:57:00.640><c> and</c><00:57:00.799><c> basically</c><00:57:01.200><c> you</c><00:57:01.359><c> know</c><00:57:01.440><c> it</c><00:57:01.520><c> looks</c><00:57:01.760><c> at</c>

00:57:01.829 --> 00:57:01.839 align:start position:0%
ago and basically you know it looks at
 

00:57:01.839 --> 00:57:02.390 align:start position:0%
ago and basically you know it looks at
this<00:57:02.079><c> end</c>

00:57:02.390 --> 00:57:02.400 align:start position:0%
this end
 

00:57:02.400 --> 00:57:04.470 align:start position:0%
this end
and<00:57:02.720><c> installs</c><00:57:03.200><c> all</c><00:57:03.280><c> the</c><00:57:03.440><c> blocks</c><00:57:03.680><c> from</c><00:57:03.839><c> zero</c><00:57:04.240><c> to</c>

00:57:04.470 --> 00:57:04.480 align:start position:0%
and installs all the blocks from zero to
 

00:57:04.480 --> 00:57:05.990 align:start position:0%
and installs all the blocks from zero to
n<00:57:05.200><c> out</c><00:57:05.359><c> of</c><00:57:05.440><c> the</c><00:57:05.599><c> log</c>

00:57:05.990 --> 00:57:06.000 align:start position:0%
n out of the log
 

00:57:06.000 --> 00:57:08.309 align:start position:0%
n out of the log
into<00:57:06.160><c> their</c><00:57:06.319><c> home</c><00:57:06.559><c> location</c><00:57:07.760><c> and</c><00:57:08.000><c> if</c><00:57:08.160><c> it's</c>

00:57:08.309 --> 00:57:08.319 align:start position:0%
into their home location and if it's
 

00:57:08.319 --> 00:57:10.309 align:start position:0%
into their home location and if it's
done<00:57:08.880><c> once</c><00:57:09.119><c> it</c><00:57:09.280><c> succeeds</c><00:57:09.760><c> you</c><00:57:09.920><c> know</c><00:57:10.079><c> then</c>

00:57:10.309 --> 00:57:10.319 align:start position:0%
done once it succeeds you know then
 

00:57:10.319 --> 00:57:11.109 align:start position:0%
done once it succeeds you know then
actually

00:57:11.109 --> 00:57:11.119 align:start position:0%
actually
 

00:57:11.119 --> 00:57:14.710 align:start position:0%
actually
it<00:57:11.280><c> calls</c><00:57:11.599><c> clear</c><00:57:11.920><c> log</c><00:57:13.119><c> as</c><00:57:13.440><c> before</c>

00:57:14.710 --> 00:57:14.720 align:start position:0%
it calls clear log as before
 

00:57:14.720 --> 00:57:16.150 align:start position:0%
it calls clear log as before
and<00:57:15.119><c> so</c><00:57:15.280><c> that's</c><00:57:15.520><c> actually</c><00:57:15.760><c> all</c><00:57:15.920><c> what</c><00:57:16.079><c> the</c>

00:57:16.150 --> 00:57:16.160 align:start position:0%
and so that's actually all what the
 

00:57:16.160 --> 00:57:17.750 align:start position:0%
and so that's actually all what the
recovery<00:57:16.559><c> does</c><00:57:16.880><c> you</c><00:57:16.960><c> know</c><00:57:17.119><c> recovery</c><00:57:17.599><c> is</c>

00:57:17.750 --> 00:57:17.760 align:start position:0%
recovery does you know recovery is
 

00:57:17.760 --> 00:57:18.309 align:start position:0%
recovery does you know recovery is
basically

00:57:18.309 --> 00:57:18.319 align:start position:0%
basically
 

00:57:18.319 --> 00:57:21.349 align:start position:0%
basically
always<00:57:18.799><c> call</c><00:57:19.359><c> dusty</c><00:57:19.680><c> installation</c><00:57:20.880><c> and</c><00:57:21.040><c> if</c><00:57:21.200><c> we</c>

00:57:21.349 --> 00:57:21.359 align:start position:0%
always call dusty installation and if we
 

00:57:21.359 --> 00:57:22.230 align:start position:0%
always call dusty installation and if we
crash

00:57:22.230 --> 00:57:22.240 align:start position:0%
crash
 

00:57:22.240 --> 00:57:24.710 align:start position:0%
crash
during<00:57:22.559><c> installation</c><00:57:23.119><c> here</c><00:57:24.079><c> no</c><00:57:24.240><c> particular</c>

00:57:24.710 --> 00:57:24.720 align:start position:0%
during installation here no particular
 

00:57:24.720 --> 00:57:26.069 align:start position:0%
during installation here no particular
problem<00:57:25.040><c> again</c><00:57:25.359><c> correct</c><00:57:25.599><c> because</c><00:57:25.839><c> we'll</c>

00:57:26.069 --> 00:57:26.079 align:start position:0%
problem again correct because we'll
 

00:57:26.079 --> 00:57:26.630 align:start position:0%
problem again correct because we'll
crash

00:57:26.630 --> 00:57:26.640 align:start position:0%
crash
 

00:57:26.640 --> 00:57:29.510 align:start position:0%
crash
we'll<00:57:26.880><c> boot</c><00:57:27.760><c> uh</c><00:57:28.240><c> xp6</c><00:57:28.720><c> during</c><00:57:28.960><c> booting</c><00:57:29.359><c> we'll</c>

00:57:29.510 --> 00:57:29.520 align:start position:0%
we'll boot uh xp6 during booting we'll
 

00:57:29.520 --> 00:57:30.069 align:start position:0%
we'll boot uh xp6 during booting we'll
call

00:57:30.069 --> 00:57:30.079 align:start position:0%
call
 

00:57:30.079 --> 00:57:32.789 align:start position:0%
call
uh<00:57:30.880><c> log</c><00:57:31.200><c> in</c><00:57:31.359><c> it</c><00:57:31.680><c> which</c><00:57:31.920><c> we'll</c><00:57:32.000><c> call</c><00:57:32.240><c> recovery</c>

00:57:32.789 --> 00:57:32.799 align:start position:0%
uh log in it which we'll call recovery
 

00:57:32.799 --> 00:57:33.270 align:start position:0%
uh log in it which we'll call recovery
log

00:57:33.270 --> 00:57:33.280 align:start position:0%
log
 

00:57:33.280 --> 00:57:35.109 align:start position:0%
log
and<00:57:33.440><c> it</c><00:57:33.520><c> will</c><00:57:33.680><c> basically</c><00:57:34.400><c> reinstall</c><00:57:34.960><c> or</c>

00:57:35.109 --> 00:57:35.119 align:start position:0%
and it will basically reinstall or
 

00:57:35.119 --> 00:57:37.270 align:start position:0%
and it will basically reinstall or
replay<00:57:35.520><c> the</c><00:57:35.680><c> lock</c><00:57:35.920><c> as</c><00:57:36.160><c> sometimes</c><00:57:36.559><c> it's</c><00:57:36.640><c> called</c>

00:57:37.270 --> 00:57:37.280 align:start position:0%
replay the lock as sometimes it's called
 

00:57:37.280 --> 00:57:40.470 align:start position:0%
replay the lock as sometimes it's called
again<00:57:37.839><c> and</c><00:57:38.400><c> this</c><00:57:38.640><c> might</c><00:57:38.880><c> have</c><00:57:39.520><c> this</c><00:57:39.680><c> might</c><00:57:39.920><c> end</c>

00:57:40.470 --> 00:57:40.480 align:start position:0%
again and this might have this might end
 

00:57:40.480 --> 00:57:42.630 align:start position:0%
again and this might have this might end
uh<00:57:40.640><c> if</c><00:57:40.720><c> we</c><00:57:40.880><c> crash</c><00:57:41.280><c> every</c><00:57:41.520><c> time</c><00:57:42.000><c> or</c><00:57:42.319><c> you</c><00:57:42.400><c> know</c>

00:57:42.630 --> 00:57:42.640 align:start position:0%
uh if we crash every time or you know
 

00:57:42.640 --> 00:57:43.910 align:start position:0%
uh if we crash every time or you know
many<00:57:42.880><c> many</c><00:57:43.200><c> times</c>

00:57:43.910 --> 00:57:43.920 align:start position:0%
many many times
 

00:57:43.920 --> 00:57:46.069 align:start position:0%
many many times
you<00:57:44.079><c> know</c><00:57:44.480><c> it</c><00:57:44.559><c> will</c><00:57:44.960><c> reinstall</c><00:57:45.599><c> replay</c><00:57:45.920><c> the</c>

00:57:46.069 --> 00:57:46.079 align:start position:0%
you know it will reinstall replay the
 

00:57:46.079 --> 00:57:47.349 align:start position:0%
you know it will reinstall replay the
log<00:57:46.319><c> many</c><00:57:46.480><c> many</c><00:57:46.720><c> many</c><00:57:46.880><c> times</c>

00:57:47.349 --> 00:57:47.359 align:start position:0%
log many many many times
 

00:57:47.359 --> 00:57:48.789 align:start position:0%
log many many many times
until<00:57:47.920><c> hopefully</c><00:57:48.240><c> at</c><00:57:48.319><c> some</c><00:57:48.480><c> point</c><00:57:48.720><c> it</c>

00:57:48.789 --> 00:57:48.799 align:start position:0%
until hopefully at some point it
 

00:57:48.799 --> 00:57:51.030 align:start position:0%
until hopefully at some point it
succeeds<00:57:49.760><c> and</c><00:57:50.000><c> actually</c><00:57:50.400><c> you</c><00:57:50.480><c> know</c><00:57:50.640><c> gets</c><00:57:50.880><c> the</c>

00:57:51.030 --> 00:57:51.040 align:start position:0%
succeeds and actually you know gets the
 

00:57:51.040 --> 00:57:51.510 align:start position:0%
succeeds and actually you know gets the
whole

00:57:51.510 --> 00:57:51.520 align:start position:0%
whole
 

00:57:51.520 --> 00:57:54.230 align:start position:0%
whole
log<00:57:51.839><c> written</c><00:57:52.480><c> uh</c><00:57:52.960><c> or</c><00:57:53.280><c> gets</c><00:57:53.520><c> the</c><00:57:53.599><c> whole</c><00:57:53.920><c> log</c>

00:57:54.230 --> 00:57:54.240 align:start position:0%
log written uh or gets the whole log
 

00:57:54.240 --> 00:57:56.710 align:start position:0%
log written uh or gets the whole log
installed<00:57:54.799><c> you</c><00:57:54.880><c> know</c><00:57:55.040><c> to</c><00:57:55.280><c> the</c>

00:57:56.710 --> 00:57:56.720 align:start position:0%
installed you know to the
 

00:57:56.720 --> 00:57:59.670 align:start position:0%
installed you know to the
to<00:57:56.880><c> the</c><00:57:56.960><c> home</c><00:57:57.119><c> locations</c><00:57:59.280><c> does</c><00:57:59.440><c> that</c><00:57:59.520><c> make</c>

00:57:59.670 --> 00:57:59.680 align:start position:0%
to the home locations does that make
 

00:57:59.680 --> 00:58:03.750 align:start position:0%
to the home locations does that make
sense

00:58:03.750 --> 00:58:03.760 align:start position:0%
 
 

00:58:03.760 --> 00:58:07.349 align:start position:0%
 
i<00:58:03.839><c> had</c><00:58:04.079><c> a</c><00:58:04.160><c> question</c><00:58:04.799><c> about</c><00:58:05.680><c> so</c><00:58:05.920><c> if</c><00:58:06.160><c> a</c><00:58:06.400><c> process</c>

00:58:07.349 --> 00:58:07.359 align:start position:0%
i had a question about so if a process
 

00:58:07.359 --> 00:58:10.630 align:start position:0%
i had a question about so if a process
just<00:58:07.599><c> runs</c><00:58:07.920><c> normally</c><00:58:08.960><c> it</c><00:58:09.119><c> writes</c><00:58:09.520><c> some</c><00:58:10.000><c> data</c>

00:58:10.630 --> 00:58:10.640 align:start position:0%
just runs normally it writes some data
 

00:58:10.640 --> 00:58:12.870 align:start position:0%
just runs normally it writes some data
to<00:58:10.880><c> disk</c><00:58:11.839><c> and</c><00:58:11.920><c> then</c><00:58:12.079><c> at</c><00:58:12.240><c> some</c><00:58:12.400><c> point</c><00:58:12.640><c> after</c>

00:58:12.870 --> 00:58:12.880 align:start position:0%
to disk and then at some point after
 

00:58:12.880 --> 00:58:13.750 align:start position:0%
to disk and then at some point after
that

00:58:13.750 --> 00:58:13.760 align:start position:0%
that
 

00:58:13.760 --> 00:58:16.150 align:start position:0%
that
before<00:58:14.720><c> it</c><00:58:15.040><c> commits</c><00:58:15.440><c> and</c><00:58:15.599><c> installs</c><00:58:16.000><c> the</c>

00:58:16.150 --> 00:58:16.160 align:start position:0%
before it commits and installs the
 

00:58:16.160 --> 00:58:17.589 align:start position:0%
before it commits and installs the
changes

00:58:17.589 --> 00:58:17.599 align:start position:0%
changes
 

00:58:17.599 --> 00:58:21.109 align:start position:0%
changes
there<00:58:17.760><c> is</c><00:58:17.920><c> a</c><00:58:18.079><c> failure</c><00:58:19.440><c> the</c><00:58:19.680><c> process</c>

00:58:21.109 --> 00:58:21.119 align:start position:0%
there is a failure the process
 

00:58:21.119 --> 00:58:23.430 align:start position:0%
there is a failure the process
the<00:58:21.280><c> from</c><00:58:21.440><c> the</c><00:58:21.520><c> process</c><00:58:21.920><c> point</c><00:58:22.079><c> of</c><00:58:22.160><c> view</c>

00:58:23.430 --> 00:58:23.440 align:start position:0%
the from the process point of view
 

00:58:23.440 --> 00:58:24.309 align:start position:0%
the from the process point of view
nothing<00:58:23.760><c> happened</c>

00:58:24.309 --> 00:58:24.319 align:start position:0%
nothing happened
 

00:58:24.319 --> 00:58:27.510 align:start position:0%
nothing happened
but<00:58:24.799><c> something</c><00:58:25.200><c> like</c><00:58:26.799><c> i</c><00:58:26.880><c> guess</c><00:58:27.040><c> the</c><00:58:27.200><c> failure</c>

00:58:27.510 --> 00:58:27.520 align:start position:0%
but something like i guess the failure
 

00:58:27.520 --> 00:58:28.710 align:start position:0%
but something like i guess the failure
happened<00:58:27.839><c> after</c><00:58:28.160><c> the</c>

00:58:28.710 --> 00:58:28.720 align:start position:0%
happened after the
 

00:58:28.720 --> 00:58:33.030 align:start position:0%
happened after the
process<00:58:29.680><c> ended</c><00:58:30.640><c> um</c><00:58:31.200><c> what</c><00:58:31.359><c> it</c><00:58:31.440><c> was</c><00:58:31.680><c> doing</c>

00:58:33.030 --> 00:58:33.040 align:start position:0%
process ended um what it was doing
 

00:58:33.040 --> 00:58:36.069 align:start position:0%
process ended um what it was doing
so<00:58:33.280><c> is</c><00:58:33.359><c> there</c><00:58:33.680><c> anything</c><00:58:34.079><c> bad</c><00:58:34.319><c> about</c><00:58:34.839><c> that</c>

00:58:36.069 --> 00:58:36.079 align:start position:0%
so is there anything bad about that
 

00:58:36.079 --> 00:58:37.910 align:start position:0%
so is there anything bad about that
i'm<00:58:36.319><c> not</c><00:58:36.480><c> 100</c><00:58:36.960><c> you're</c><00:58:37.119><c> really</c><00:58:37.359><c> getting</c><00:58:37.599><c> it</c><00:58:37.760><c> but</c>

00:58:37.910 --> 00:58:37.920 align:start position:0%
i'm not 100 you're really getting it but
 

00:58:37.920 --> 00:58:39.910 align:start position:0%
i'm not 100 you're really getting it but
the<00:58:38.799><c> uh</c>

00:58:39.910 --> 00:58:39.920 align:start position:0%
the uh
 

00:58:39.920 --> 00:58:41.349 align:start position:0%
the uh
the<00:58:40.079><c> short</c><00:58:40.319><c> answer</c><00:58:40.480><c> is</c><00:58:40.640><c> there's</c><00:58:40.720><c> nothing</c><00:58:41.040><c> bad</c>

00:58:41.349 --> 00:58:41.359 align:start position:0%
the short answer is there's nothing bad
 

00:58:41.359 --> 00:58:43.030 align:start position:0%
the short answer is there's nothing bad
right<00:58:41.599><c> because</c><00:58:41.839><c> the</c><00:58:41.920><c> disc</c><00:58:42.160><c> won't</c><00:58:42.480><c> be</c><00:58:42.640><c> updated</c>

00:58:43.030 --> 00:58:43.040 align:start position:0%
right because the disc won't be updated
 

00:58:43.040 --> 00:58:43.430 align:start position:0%
right because the disc won't be updated
at<00:58:43.200><c> all</c>

00:58:43.430 --> 00:58:43.440 align:start position:0%
at all
 

00:58:43.440 --> 00:58:46.069 align:start position:0%
at all
so<00:58:43.680><c> just</c><00:58:43.920><c> as</c><00:58:44.079><c> if</c><00:58:44.799><c> you</c><00:58:44.880><c> know</c><00:58:45.280><c> that</c><00:58:45.520><c> file</c><00:58:45.760><c> system</c>

00:58:46.069 --> 00:58:46.079 align:start position:0%
so just as if you know that file system
 

00:58:46.079 --> 00:58:48.069 align:start position:0%
so just as if you know that file system
operation<00:58:46.480><c> didn't</c><00:58:46.720><c> happen</c>

00:58:48.069 --> 00:58:48.079 align:start position:0%
operation didn't happen
 

00:58:48.079 --> 00:58:51.190 align:start position:0%
operation didn't happen
uh<00:58:48.839><c> right</c><00:58:50.160><c> or</c><00:58:50.400><c> i</c><00:58:50.480><c> guess</c><00:58:50.720><c> i'm</c><00:58:50.880><c> saying</c>

00:58:51.190 --> 00:58:51.200 align:start position:0%
uh right or i guess i'm saying
 

00:58:51.200 --> 00:58:53.910 align:start position:0%
uh right or i guess i'm saying
the<00:58:51.280><c> process</c><00:58:51.599><c> disappears</c><00:58:52.160><c> too</c><00:58:52.480><c> but</c><00:58:53.520><c> you</c><00:58:53.599><c> know</c>

00:58:53.910 --> 00:58:53.920 align:start position:0%
the process disappears too but you know
 

00:58:53.920 --> 00:58:55.510 align:start position:0%
the process disappears too but you know
we<00:58:54.079><c> don't</c><00:58:54.240><c> expect</c><00:58:54.559><c> the</c><00:58:54.640><c> process</c><00:58:55.040><c> to</c><00:58:55.200><c> survive</c>

00:58:55.510 --> 00:58:55.520 align:start position:0%
we don't expect the process to survive
 

00:58:55.520 --> 00:58:58.150 align:start position:0%
we don't expect the process to survive
failures<00:58:55.920><c> anyway</c>

00:58:58.150 --> 00:58:58.160 align:start position:0%
failures anyway
 

00:58:58.160 --> 00:59:01.750 align:start position:0%
failures anyway
right<00:58:58.799><c> or</c><00:58:59.920><c> i</c><00:59:00.079><c> guess</c><00:59:01.119><c> okay</c>

00:59:01.750 --> 00:59:01.760 align:start position:0%
right or i guess okay
 

00:59:01.760 --> 00:59:03.270 align:start position:0%
right or i guess okay
i<00:59:02.000><c> i</c><00:59:02.079><c> think</c><00:59:02.240><c> that</c><00:59:02.400><c> answered</c><00:59:02.720><c> my</c><00:59:02.880><c> question</c>

00:59:03.270 --> 00:59:03.280 align:start position:0%
i i think that answered my question
 

00:59:03.280 --> 00:59:05.589 align:start position:0%
i i think that answered my question
thank<00:59:03.440><c> you</c>

00:59:05.589 --> 00:59:05.599 align:start position:0%
thank you
 

00:59:05.599 --> 00:59:07.349 align:start position:0%
thank you
yeah<00:59:06.400><c> it's</c><00:59:06.559><c> important</c><00:59:06.799><c> to</c><00:59:06.960><c> remember</c><00:59:07.200><c> that</c>

00:59:07.349 --> 00:59:07.359 align:start position:0%
yeah it's important to remember that
 

00:59:07.359 --> 00:59:08.870 align:start position:0%
yeah it's important to remember that
basically<00:59:08.079><c> uh</c>

00:59:08.870 --> 00:59:08.880 align:start position:0%
basically uh
 

00:59:08.880 --> 00:59:10.549 align:start position:0%
basically uh
the<00:59:09.040><c> only</c><00:59:09.440><c> thing</c><00:59:09.599><c> that</c><00:59:09.760><c> really</c><00:59:10.079><c> survives</c>

00:59:10.549 --> 00:59:10.559 align:start position:0%
the only thing that really survives
 

00:59:10.559 --> 00:59:12.470 align:start position:0%
the only thing that really survives
failures<00:59:11.119><c> or</c><00:59:11.359><c> that's</c><00:59:11.599><c> persistent</c><00:59:12.079><c> across</c>

00:59:12.470 --> 00:59:12.480 align:start position:0%
failures or that's persistent across
 

00:59:12.480 --> 00:59:14.309 align:start position:0%
failures or that's persistent across
failures<00:59:12.880><c> is</c><00:59:13.040><c> the</c><00:59:13.200><c> disc</c><00:59:13.520><c> or</c><00:59:13.599><c> the</c><00:59:13.760><c> state</c><00:59:14.079><c> on</c><00:59:14.240><c> the</c>

00:59:14.309 --> 00:59:14.319 align:start position:0%
failures is the disc or the state on the
 

00:59:14.319 --> 00:59:14.870 align:start position:0%
failures is the disc or the state on the
disk

00:59:14.870 --> 00:59:14.880 align:start position:0%
disk
 

00:59:14.880 --> 00:59:19.589 align:start position:0%
disk
nothing<00:59:15.200><c> else</c><00:59:16.839><c> right</c>

00:59:19.589 --> 00:59:19.599 align:start position:0%
nothing else right
 

00:59:19.599 --> 00:59:21.430 align:start position:0%
nothing else right
okay<00:59:20.000><c> so</c><00:59:20.319><c> uh</c><00:59:20.640><c> just</c><00:59:20.880><c> to</c><00:59:20.960><c> make</c><00:59:21.119><c> this</c><00:59:21.280><c> all</c>

00:59:21.430 --> 00:59:21.440 align:start position:0%
okay so uh just to make this all
 

00:59:21.440 --> 00:59:23.589 align:start position:0%
okay so uh just to make this all
concrete<00:59:22.480><c> one</c><00:59:22.720><c> a</c><00:59:22.720><c> little</c><00:59:22.880><c> bit</c><00:59:23.040><c> more</c><00:59:23.280><c> too</c>

00:59:23.589 --> 00:59:23.599 align:start position:0%
concrete one a little bit more too
 

00:59:23.599 --> 00:59:27.270 align:start position:0%
concrete one a little bit more too
let's<00:59:23.839><c> um</c><00:59:25.040><c> i</c><00:59:25.359><c> put</c><00:59:25.599><c> a</c>

00:59:27.270 --> 00:59:27.280 align:start position:0%
let's um i put a
 

00:59:27.280 --> 00:59:29.990 align:start position:0%
let's um i put a
statement<00:59:27.920><c> in</c><00:59:28.319><c> uh</c><00:59:28.640><c> be</c><00:59:28.880><c> right</c><00:59:29.200><c> so</c><00:59:29.599><c> actually</c><00:59:29.920><c> the</c>

00:59:29.990 --> 00:59:30.000 align:start position:0%
statement in uh be right so actually the
 

00:59:30.000 --> 00:59:31.829 align:start position:0%
statement in uh be right so actually the
thing<00:59:30.160><c> that</c><00:59:30.400><c> actually</c><00:59:30.640><c> does</c><00:59:30.960><c> right</c><00:59:31.119><c> to</c><00:59:31.280><c> disk</c>

00:59:31.829 --> 00:59:31.839 align:start position:0%
thing that actually does right to disk
 

00:59:31.839 --> 00:59:32.549 align:start position:0%
thing that actually does right to disk
like<00:59:32.160><c> in</c><00:59:32.240><c> the</c>

00:59:32.549 --> 00:59:32.559 align:start position:0%
like in the
 

00:59:32.559 --> 00:59:34.870 align:start position:0%
like in the
block<00:59:32.880><c> cache</c><00:59:33.839><c> and</c><00:59:34.000><c> we're</c><00:59:34.160><c> just</c><00:59:34.319><c> going</c><00:59:34.400><c> to</c><00:59:34.559><c> see</c>

00:59:34.870 --> 00:59:34.880 align:start position:0%
block cache and we're just going to see
 

00:59:34.880 --> 00:59:35.750 align:start position:0%
block cache and we're just going to see
what<00:59:35.119><c> the</c>

00:59:35.750 --> 00:59:35.760 align:start position:0%
what the
 

00:59:35.760 --> 00:59:39.030 align:start position:0%
what the
trace<00:59:36.319><c> of</c><00:59:36.720><c> actual</c><00:59:37.040><c> disk</c><00:59:37.359><c> rights</c><00:59:37.680><c> are</c><00:59:38.720><c> because</c>

00:59:39.030 --> 00:59:39.040 align:start position:0%
trace of actual disk rights are because
 

00:59:39.040 --> 00:59:40.069 align:start position:0%
trace of actual disk rights are because
basically<00:59:39.359><c> on</c><00:59:39.520><c> monday</c>

00:59:40.069 --> 00:59:40.079 align:start position:0%
basically on monday
 

00:59:40.079 --> 00:59:43.750 align:start position:0%
basically on monday
i<00:59:40.240><c> sort</c><00:59:40.480><c> of</c>

00:59:43.750 --> 00:59:43.760 align:start position:0%
 
 

00:59:43.760 --> 00:59:45.589 align:start position:0%
 
i<00:59:43.839><c> didn't</c><00:59:44.079><c> tell</c><00:59:44.319><c> the</c><00:59:44.400><c> full</c><00:59:44.640><c> truth</c><00:59:45.359><c> because</c>

00:59:45.589 --> 00:59:45.599 align:start position:0%
i didn't tell the full truth because
 

00:59:45.599 --> 00:59:47.190 align:start position:0%
i didn't tell the full truth because
basically<00:59:45.920><c> i</c><00:59:46.000><c> put</c><00:59:46.160><c> the</c><00:59:46.319><c> print</c><00:59:46.559><c> statement</c><00:59:47.040><c> in</c>

00:59:47.190 --> 00:59:47.200 align:start position:0%
basically i put the print statement in
 

00:59:47.200 --> 00:59:47.910 align:start position:0%
basically i put the print statement in
log<00:59:47.520><c> right</c>

00:59:47.910 --> 00:59:47.920 align:start position:0%
log right
 

00:59:47.920 --> 00:59:50.549 align:start position:0%
log right
and<00:59:48.160><c> not</c><00:59:48.480><c> in</c><00:59:48.799><c> b</c><00:59:49.119><c> write</c><00:59:49.599><c> and</c><00:59:49.839><c> so</c><00:59:50.000><c> now</c><00:59:50.160><c> i</c><00:59:50.240><c> put</c><00:59:50.400><c> it</c>

00:59:50.549 --> 00:59:50.559 align:start position:0%
and not in b write and so now i put it
 

00:59:50.559 --> 00:59:51.109 align:start position:0%
and not in b write and so now i put it
in<00:59:50.720><c> the</c><00:59:50.880><c> b</c>

00:59:51.109 --> 00:59:51.119 align:start position:0%
in the b
 

00:59:51.119 --> 00:59:52.710 align:start position:0%
in the b
right<00:59:51.280><c> and</c><00:59:51.359><c> so</c><00:59:51.520><c> we</c><00:59:51.599><c> can</c><00:59:51.760><c> actually</c><00:59:52.079><c> see</c><00:59:52.400><c> all</c><00:59:52.559><c> the</c>

00:59:52.710 --> 00:59:52.720 align:start position:0%
right and so we can actually see all the
 

00:59:52.720 --> 00:59:54.309 align:start position:0%
right and so we can actually see all the
blocks<00:59:52.960><c> that</c><00:59:53.040><c> are</c><00:59:53.119><c> being</c><00:59:53.280><c> written</c>

00:59:54.309 --> 00:59:54.319 align:start position:0%
blocks that are being written
 

00:59:54.319 --> 00:59:55.910 align:start position:0%
blocks that are being written
so<00:59:54.480><c> we'll</c><00:59:54.640><c> do</c><00:59:54.799><c> the</c><00:59:54.880><c> same</c><00:59:55.040><c> thing</c><00:59:55.280><c> as</c><00:59:55.359><c> before</c><00:59:55.839><c> you</c>

00:59:55.910 --> 00:59:55.920 align:start position:0%
so we'll do the same thing as before you
 

00:59:55.920 --> 00:59:57.510 align:start position:0%
so we'll do the same thing as before you
know<00:59:56.079><c> echo</c><00:59:56.400><c> high</c><00:59:56.799><c> x</c>

00:59:57.510 --> 00:59:57.520 align:start position:0%
know echo high x
 

00:59:57.520 --> 00:59:59.190 align:start position:0%
know echo high x
and<00:59:57.680><c> just</c><00:59:57.920><c> look</c><00:59:58.160><c> at</c><00:59:58.319><c> actually</c><00:59:58.640><c> the</c><00:59:58.880><c> actual</c>

00:59:59.190 --> 00:59:59.200 align:start position:0%
and just look at actually the actual
 

00:59:59.200 --> 01:00:01.109 align:start position:0%
and just look at actually the actual
disk<00:59:59.520><c> rights</c>

01:00:01.109 --> 01:00:01.119 align:start position:0%
disk rights
 

01:00:01.119 --> 01:00:02.870 align:start position:0%
disk rights
and<01:00:01.200><c> see</c><01:00:01.359><c> if</c><01:00:01.440><c> they</c><01:00:01.599><c> make</c><01:00:01.760><c> sense</c><01:00:02.400><c> so</c><01:00:02.559><c> the</c><01:00:02.640><c> first</c>

01:00:02.870 --> 01:00:02.880 align:start position:0%
and see if they make sense so the first
 

01:00:02.880 --> 01:00:04.309 align:start position:0%
and see if they make sense so the first
thing<01:00:03.040><c> to</c><01:00:03.119><c> note</c><01:00:03.359><c> correct</c><01:00:03.680><c> is</c><01:00:03.760><c> that</c><01:00:03.839><c> this</c><01:00:04.079><c> trace</c>

01:00:04.309 --> 01:00:04.319 align:start position:0%
thing to note correct is that this trace
 

01:00:04.319 --> 01:00:05.750 align:start position:0%
thing to note correct is that this trace
is<01:00:04.480><c> way</c><01:00:04.720><c> longer</c>

01:00:05.750 --> 01:00:05.760 align:start position:0%
is way longer
 

01:00:05.760 --> 01:00:07.109 align:start position:0%
is way longer
than<01:00:05.920><c> the</c><01:00:06.079><c> trace</c><01:00:06.319><c> that</c><01:00:06.480><c> we</c><01:00:06.559><c> looked</c><01:00:06.799><c> at</c><01:00:06.880><c> last</c>

01:00:07.109 --> 01:00:07.119 align:start position:0%
than the trace that we looked at last
 

01:00:07.119 --> 01:00:08.950 align:start position:0%
than the trace that we looked at last
time<01:00:07.359><c> in</c><01:00:07.440><c> fact</c><01:00:07.680><c> that</c><01:00:07.839><c> we</c><01:00:08.000><c> looked</c><01:00:08.240><c> at</c><01:00:08.400><c> uh</c>

01:00:08.950 --> 01:00:08.960 align:start position:0%
time in fact that we looked at uh
 

01:00:08.960 --> 01:00:11.670 align:start position:0%
time in fact that we looked at uh
slides<01:00:09.280><c> a</c><01:00:09.359><c> couple</c><01:00:09.520><c> slides</c><01:00:09.839><c> ago</c><01:00:10.240><c> right</c><01:00:11.440><c> because</c>

01:00:11.670 --> 01:00:11.680 align:start position:0%
slides a couple slides ago right because
 

01:00:11.680 --> 01:00:12.390 align:start position:0%
slides a couple slides ago right because
if<01:00:11.760><c> we</c><01:00:11.920><c> looked</c><01:00:12.079><c> in</c>

01:00:12.390 --> 01:00:12.400 align:start position:0%
if we looked in
 

01:00:12.400 --> 01:00:15.510 align:start position:0%
if we looked in
fact<01:00:12.960><c> just</c><01:00:13.119><c> to</c><01:00:13.200><c> demonstrate</c><01:00:13.680><c> this</c>

01:00:15.510 --> 01:00:15.520 align:start position:0%
fact just to demonstrate this
 

01:00:15.520 --> 01:00:18.710 align:start position:0%
fact just to demonstrate this
uh<01:00:16.079><c> here</c><01:00:16.400><c> was</c><01:00:16.640><c> that</c><01:00:17.599><c> same</c>

01:00:18.710 --> 01:00:18.720 align:start position:0%
uh here was that same
 

01:00:18.720 --> 01:00:22.230 align:start position:0%
uh here was that same
echo<01:00:19.119><c> high</c><01:00:19.680><c> right</c><01:00:20.960><c> and</c><01:00:21.520><c> what</c><01:00:21.680><c> we</c><01:00:21.760><c> see</c><01:00:21.920><c> there</c><01:00:22.079><c> is</c>

01:00:22.230 --> 01:00:22.240 align:start position:0%
echo high right and what we see there is
 

01:00:22.240 --> 01:00:23.430 align:start position:0%
echo high right and what we see there is
like<01:00:22.480><c> only</c>

01:00:23.430 --> 01:00:23.440 align:start position:0%
like only
 

01:00:23.440 --> 01:00:26.789 align:start position:0%
like only
it's<01:00:24.400><c> five</c><01:00:24.799><c> log</c><01:00:25.119><c> right</c><01:00:25.359><c> operations</c><01:00:26.400><c> but</c><01:00:26.640><c> it</c>

01:00:26.789 --> 01:00:26.799 align:start position:0%
it's five log right operations but it
 

01:00:26.799 --> 01:00:28.470 align:start position:0%
it's five log right operations but it
turns<01:00:27.119><c> into</c>

01:00:28.470 --> 01:00:28.480 align:start position:0%
turns into
 

01:00:28.480 --> 01:00:31.589 align:start position:0%
turns into
many<01:00:29.119><c> disk</c><01:00:29.440><c> operations</c>

01:00:31.589 --> 01:00:31.599 align:start position:0%
many disk operations
 

01:00:31.599 --> 01:00:34.710 align:start position:0%
many disk operations
correct<01:00:32.640><c> so</c><01:00:32.799><c> let's</c><01:00:33.040><c> look</c><01:00:33.200><c> at</c><01:00:33.359><c> it</c>

01:00:34.710 --> 01:00:34.720 align:start position:0%
correct so let's look at it
 

01:00:34.720 --> 01:00:37.910 align:start position:0%
correct so let's look at it
uh<01:00:35.440><c> so</c><01:00:35.599><c> what</c><01:00:35.760><c> we</c><01:00:36.319><c> think</c><01:00:36.720><c> be</c><01:00:36.960><c> right</c><01:00:37.200><c> three</c><01:00:37.680><c> four</c>

01:00:37.910 --> 01:00:37.920 align:start position:0%
uh so what we think be right three four
 

01:00:37.920 --> 01:00:38.870 align:start position:0%
uh so what we think be right three four
and<01:00:38.079><c> five</c><01:00:38.400><c> are</c>

01:00:38.870 --> 01:00:38.880 align:start position:0%
and five are
 

01:00:38.880 --> 01:00:48.630 align:start position:0%
and five are
and<01:00:38.960><c> what</c><01:00:39.200><c> is</c><01:00:39.280><c> b</c><01:00:39.520><c> right</c><01:00:40.839><c> two</c>

01:00:48.630 --> 01:00:48.640 align:start position:0%
 
 

01:00:48.640 --> 01:00:52.230 align:start position:0%
 
anybody<01:00:49.920><c> what's</c><01:00:50.160><c> that</c><01:00:50.640><c> writing</c><01:00:51.200><c> to</c><01:00:51.520><c> the</c><01:00:51.680><c> log</c>

01:00:52.230 --> 01:00:52.240 align:start position:0%
anybody what's that writing to the log
 

01:00:52.240 --> 01:00:57.589 align:start position:0%
anybody what's that writing to the log
and<01:00:52.319><c> then</c><01:00:52.480><c> the</c><01:00:52.640><c> super</c><01:00:52.960><c> block</c><01:00:54.799><c> not</c>

01:00:57.589 --> 01:00:57.599 align:start position:0%
 
 

01:00:57.599 --> 01:00:59.910 align:start position:0%
 
yeah<01:00:57.760><c> so</c><01:00:59.040><c> just</c><01:00:59.200><c> to</c><01:00:59.280><c> look</c><01:00:59.440><c> at</c><01:00:59.520><c> the</c><01:00:59.680><c> uh</c><01:00:59.760><c> you've</c>

01:00:59.910 --> 01:00:59.920 align:start position:0%
yeah so just to look at the uh you've
 

01:00:59.920 --> 01:01:01.190 align:start position:0%
yeah so just to look at the uh you've
got<01:01:00.079><c> it</c><01:01:00.160><c> right</c><01:01:00.400><c> you</c><01:01:00.559><c> know</c><01:01:00.640><c> there's</c><01:01:00.880><c> looking</c><01:01:01.119><c> at</c>

01:01:01.190 --> 01:01:01.200 align:start position:0%
got it right you know there's looking at
 

01:01:01.200 --> 01:01:02.549 align:start position:0%
got it right you know there's looking at
this<01:01:01.359><c> picture</c><01:01:01.599><c> again</c><01:01:01.839><c> correct</c>

01:01:02.549 --> 01:01:02.559 align:start position:0%
this picture again correct
 

01:01:02.559 --> 01:01:04.950 align:start position:0%
this picture again correct
the<01:01:02.720><c> logs</c><01:01:03.040><c> that's</c><01:01:03.280><c> a</c><01:01:03.359><c> two</c><01:01:03.839><c> so</c><01:01:04.400><c> uh</c><01:01:04.720><c> that's</c>

01:01:04.950 --> 01:01:04.960 align:start position:0%
the logs that's a two so uh that's
 

01:01:04.960 --> 01:01:06.150 align:start position:0%
the logs that's a two so uh that's
probably<01:01:05.200><c> the</c><01:01:05.280><c> header</c><01:01:05.599><c> block</c>

01:01:06.150 --> 01:01:06.160 align:start position:0%
probably the header block
 

01:01:06.160 --> 01:01:08.150 align:start position:0%
probably the header block
click<01:01:06.400><c> the</c><01:01:06.480><c> commit</c><01:01:06.799><c> record</c><01:01:07.119><c> if</c><01:01:07.280><c> you</c><01:01:07.359><c> will</c><01:01:08.000><c> and</c>

01:01:08.150 --> 01:01:08.160 align:start position:0%
click the commit record if you will and
 

01:01:08.160 --> 01:01:09.829 align:start position:0%
click the commit record if you will and
then<01:01:08.400><c> three</c><01:01:08.720><c> is</c><01:01:08.799><c> the</c><01:01:08.880><c> first</c><01:01:09.119><c> data</c><01:01:09.440><c> block</c>

01:01:09.829 --> 01:01:09.839 align:start position:0%
then three is the first data block
 

01:01:09.839 --> 01:01:11.349 align:start position:0%
then three is the first data block
fourth<01:01:10.160><c> the</c><01:01:10.240><c> second</c><01:01:10.480><c> data</c><01:01:10.720><c> block</c><01:01:10.960><c> files</c><01:01:11.200><c> is</c>

01:01:11.349 --> 01:01:11.359 align:start position:0%
fourth the second data block files is
 

01:01:11.359 --> 01:01:12.630 align:start position:0%
fourth the second data block files is
the<01:01:11.440><c> third</c><01:01:11.599><c> data</c><01:01:11.920><c> block</c>

01:01:12.630 --> 01:01:12.640 align:start position:0%
the third data block
 

01:01:12.640 --> 01:01:15.829 align:start position:0%
the third data block
right<01:01:13.520><c> so</c><01:01:13.839><c> going</c><01:01:14.079><c> back</c><01:01:14.480><c> you</c><01:01:14.640><c> know</c><01:01:14.880><c> this</c><01:01:15.119><c> is</c>

01:01:15.829 --> 01:01:15.839 align:start position:0%
right so going back you know this is
 

01:01:15.839 --> 01:01:18.950 align:start position:0%
right so going back you know this is
the<01:01:16.000><c> first</c><01:01:16.319><c> right</c><01:01:17.520><c> the</c><01:01:17.680><c> second</c><01:01:18.000><c> right</c><01:01:18.799><c> the</c>

01:01:18.950 --> 01:01:18.960 align:start position:0%
the first right the second right the
 

01:01:18.960 --> 01:01:20.069 align:start position:0%
the first right the second right the
third<01:01:19.280><c> right</c>

01:01:20.069 --> 01:01:20.079 align:start position:0%
third right
 

01:01:20.079 --> 01:01:23.030 align:start position:0%
third right
they're<01:01:20.319><c> all</c><01:01:20.480><c> going</c><01:01:20.799><c> into</c><01:01:21.680><c> the</c><01:01:21.839><c> log</c><01:01:22.880><c> and</c>

01:01:23.030 --> 01:01:23.040 align:start position:0%
they're all going into the log and
 

01:01:23.040 --> 01:01:24.789 align:start position:0%
they're all going into the log and
they're<01:01:23.280><c> written</c><01:01:23.520><c> to</c><01:01:23.760><c> disk</c>

01:01:24.789 --> 01:01:24.799 align:start position:0%
they're written to disk
 

01:01:24.799 --> 01:01:27.190 align:start position:0%
they're written to disk
uh<01:01:25.040><c> in</c><01:01:25.200><c> the</c><01:01:25.359><c> lock</c><01:01:25.760><c> lock</c><01:01:26.000><c> part</c><01:01:26.160><c> of</c><01:01:26.319><c> the</c><01:01:26.400><c> disk</c><01:01:27.119><c> and</c>

01:01:27.190 --> 01:01:27.200 align:start position:0%
uh in the lock lock part of the disk and
 

01:01:27.200 --> 01:01:28.470 align:start position:0%
uh in the lock lock part of the disk and
then<01:01:27.440><c> this</c><01:01:27.599><c> is</c><01:01:27.760><c> the</c>

01:01:28.470 --> 01:01:28.480 align:start position:0%
then this is the
 

01:01:28.480 --> 01:01:31.030 align:start position:0%
then this is the
commit<01:01:28.799><c> record</c><01:01:29.359><c> you</c><01:01:29.440><c> know</c><01:01:29.599><c> the</c><01:01:29.839><c> header</c><01:01:30.960><c> and</c>

01:01:31.030 --> 01:01:31.040 align:start position:0%
commit record you know the header and
 

01:01:31.040 --> 01:01:41.670 align:start position:0%
commit record you know the header and
then<01:01:31.200><c> presumably</c><01:01:31.599><c> what</c><01:01:31.760><c> is</c><01:01:31.839><c> this</c><01:01:36.839><c> face</c>

01:01:41.670 --> 01:01:41.680 align:start position:0%
 
 

01:01:41.680 --> 01:01:44.549 align:start position:0%
 
what<01:01:41.839><c> is</c><01:01:41.920><c> this</c><01:01:42.160><c> part</c><01:01:43.280><c> is</c><01:01:43.440><c> that</c><01:01:43.599><c> the</c><01:01:43.839><c> bitmap</c>

01:01:44.549 --> 01:01:44.559 align:start position:0%
what is this part is that the bitmap
 

01:01:44.559 --> 01:01:45.990 align:start position:0%
what is this part is that the bitmap
setting

01:01:45.990 --> 01:01:46.000 align:start position:0%
setting
 

01:01:46.000 --> 01:01:48.390 align:start position:0%
setting
no<01:01:46.880><c> so</c><01:01:47.040><c> what</c><01:01:47.280><c> do</c><01:01:47.359><c> we</c><01:01:47.440><c> think</c><01:01:47.680><c> actually</c><01:01:48.079><c> stored</c>

01:01:48.390 --> 01:01:48.400 align:start position:0%
no so what do we think actually stored
 

01:01:48.400 --> 01:01:52.710 align:start position:0%
no so what do we think actually stored
in<01:01:48.480><c> this</c><01:01:48.720><c> be</c><01:01:48.960><c> right</c><01:01:50.839><c> free</c><01:01:51.920><c> okay</c><01:01:52.240><c> here</c><01:01:52.559><c> aren't</c>

01:01:52.710 --> 01:01:52.720 align:start position:0%
in this be right free okay here aren't
 

01:01:52.720 --> 01:01:53.349 align:start position:0%
in this be right free okay here aren't
you

01:01:53.349 --> 01:01:53.359 align:start position:0%
you
 

01:01:53.359 --> 01:01:57.430 align:start position:0%
you
creating<01:01:54.000><c> the</c><01:01:54.160><c> file</c><01:01:55.839><c> that</c><01:01:56.240><c> the</c><01:01:56.400><c> inode</c><01:01:56.799><c> for</c><01:01:57.039><c> x</c>

01:01:57.430 --> 01:01:57.440 align:start position:0%
creating the file that the inode for x
 

01:01:57.440 --> 01:02:01.190 align:start position:0%
creating the file that the inode for x
updating<01:01:58.559><c> the</c><01:01:59.280><c> directory</c><01:02:00.160><c> and</c><01:02:00.319><c> then</c><01:02:00.640><c> also</c>

01:02:01.190 --> 01:02:01.200 align:start position:0%
updating the directory and then also
 

01:02:01.200 --> 01:02:04.470 align:start position:0%
updating the directory and then also
actually<01:02:01.599><c> making</c><01:02:01.920><c> the</c><01:02:02.079><c> file</c><01:02:02.319><c> itself</c><01:02:03.280><c> yeah</c><01:02:03.680><c> so</c>

01:02:04.470 --> 01:02:04.480 align:start position:0%
actually making the file itself yeah so
 

01:02:04.480 --> 01:02:06.150 align:start position:0%
actually making the file itself yeah so
and<01:02:04.559><c> we</c><01:02:04.720><c> didn't</c><01:02:04.880><c> do</c><01:02:05.039><c> it</c><01:02:05.200><c> here</c><01:02:05.359><c> correct</c><01:02:05.599><c> because</c>

01:02:06.150 --> 01:02:06.160 align:start position:0%
and we didn't do it here correct because
 

01:02:06.160 --> 01:02:08.710 align:start position:0%
and we didn't do it here correct because
in<01:02:06.319><c> these</c><01:02:06.559><c> b</c><01:02:06.880><c> rights</c><01:02:07.359><c> that</c><01:02:07.599><c> didn't</c><01:02:07.839><c> happen</c>

01:02:08.710 --> 01:02:08.720 align:start position:0%
in these b rights that didn't happen
 

01:02:08.720 --> 01:02:11.990 align:start position:0%
in these b rights that didn't happen
but<01:02:08.880><c> now</c><01:02:09.039><c> we're</c><01:02:09.200><c> doing</c><01:02:09.440><c> it</c><01:02:11.039><c> so</c><01:02:11.359><c> what</c><01:02:11.520><c> what</c>

01:02:11.990 --> 01:02:12.000 align:start position:0%
but now we're doing it so what what
 

01:02:12.000 --> 01:02:16.230 align:start position:0%
but now we're doing it so what what
what<01:02:12.240><c> phase</c><01:02:12.480><c> is</c><01:02:12.640><c> this</c><01:02:12.799><c> of</c><01:02:12.880><c> the</c><01:02:13.039><c> transaction</c>

01:02:16.230 --> 01:02:16.240 align:start position:0%
 
 

01:02:16.240 --> 01:02:18.230 align:start position:0%
 
installing<01:02:16.880><c> the</c><01:02:17.119><c> changes</c><01:02:17.920><c> yeah</c><01:02:18.079><c> it's</c>

01:02:18.230 --> 01:02:18.240 align:start position:0%
installing the changes yeah it's
 

01:02:18.240 --> 01:02:19.589 align:start position:0%
installing the changes yeah it's
installing<01:02:18.640><c> the</c><01:02:18.720><c> changes</c><01:02:19.119><c> correct</c><01:02:19.359><c> what</c><01:02:19.520><c> we</c>

01:02:19.589 --> 01:02:19.599 align:start position:0%
installing the changes correct what we
 

01:02:19.599 --> 01:02:21.510 align:start position:0%
installing the changes correct what we
did<01:02:19.839><c> here</c><01:02:20.240><c> is</c>

01:02:21.510 --> 01:02:21.520 align:start position:0%
did here is
 

01:02:21.520 --> 01:02:24.549 align:start position:0%
did here is
we<01:02:22.960><c> logged</c><01:02:23.440><c> the</c><01:02:23.599><c> writes</c>

01:02:24.549 --> 01:02:24.559 align:start position:0%
we logged the writes
 

01:02:24.559 --> 01:02:26.950 align:start position:0%
we logged the writes
then<01:02:24.799><c> we</c><01:02:24.880><c> committed</c><01:02:25.839><c> the</c><01:02:26.400><c> file</c><01:02:26.640><c> system</c>

01:02:26.950 --> 01:02:26.960 align:start position:0%
then we committed the file system
 

01:02:26.960 --> 01:02:28.549 align:start position:0%
then we committed the file system
operation<01:02:27.359><c> to</c><01:02:27.520><c> create</c><01:02:27.760><c> operation</c><01:02:28.240><c> and</c><01:02:28.400><c> now</c>

01:02:28.549 --> 01:02:28.559 align:start position:0%
operation to create operation and now
 

01:02:28.559 --> 01:02:30.309 align:start position:0%
operation to create operation and now
we're<01:02:28.720><c> installing</c><01:02:29.280><c> it</c>

01:02:30.309 --> 01:02:30.319 align:start position:0%
we're installing it
 

01:02:30.319 --> 01:02:31.589 align:start position:0%
we're installing it
so<01:02:30.480><c> now</c><01:02:30.640><c> we're</c><01:02:30.799><c> putting</c><01:02:31.039><c> the</c><01:02:31.119><c> blocks</c><01:02:31.359><c> in</c><01:02:31.440><c> their</c>

01:02:31.589 --> 01:02:31.599 align:start position:0%
so now we're putting the blocks in their
 

01:02:31.599 --> 01:02:34.309 align:start position:0%
so now we're putting the blocks in their
home<01:02:32.839><c> location</c>

01:02:34.309 --> 01:02:34.319 align:start position:0%
home location
 

01:02:34.319 --> 01:02:36.870 align:start position:0%
home location
and<01:02:34.480><c> now</c><01:02:35.839><c> and</c><01:02:36.000><c> what</c><01:02:36.160><c> does</c><01:02:36.240><c> this</c><01:02:36.480><c> be</c><01:02:36.640><c> right</c><01:02:36.799><c> to</c>

01:02:36.870 --> 01:02:36.880 align:start position:0%
and now and what does this be right to
 

01:02:36.880 --> 01:02:44.390 align:start position:0%
and now and what does this be right to
you<01:02:37.039><c> then</c>

01:02:44.390 --> 01:02:44.400 align:start position:0%
 
 

01:02:44.400 --> 01:02:46.309 align:start position:0%
 
it's<01:02:44.640><c> clearing</c><01:02:44.960><c> the</c><01:02:45.119><c> log</c><01:02:45.680><c> yeah</c><01:02:45.839><c> it's</c><01:02:45.920><c> clear</c><01:02:46.160><c> to</c>

01:02:46.309 --> 01:02:46.319 align:start position:0%
it's clearing the log yeah it's clear to
 

01:02:46.319 --> 01:02:47.670 align:start position:0%
it's clearing the log yeah it's clear to
lock<01:02:46.559><c> exactly</c>

01:02:47.670 --> 01:02:47.680 align:start position:0%
lock exactly
 

01:02:47.680 --> 01:02:50.950 align:start position:0%
lock exactly
so<01:02:47.920><c> basically</c><01:02:48.319><c> this</c><01:02:48.640><c> this</c><01:02:48.880><c> this</c><01:02:50.400><c> the</c><01:02:50.559><c> system</c>

01:02:50.950 --> 01:02:50.960 align:start position:0%
so basically this this this the system
 

01:02:50.960 --> 01:02:53.750 align:start position:0%
so basically this this this the system
call<01:02:51.200><c> was</c><01:02:51.359><c> writing</c><01:02:51.680><c> 33</c><01:02:52.160><c> 46</c><01:02:52.640><c> of</c><01:02:52.720><c> 32</c>

01:02:53.750 --> 01:02:53.760 align:start position:0%
call was writing 33 46 of 32
 

01:02:53.760 --> 01:02:55.349 align:start position:0%
call was writing 33 46 of 32
and<01:02:54.000><c> to</c><01:02:54.240><c> actually</c><01:02:54.400><c> do</c><01:02:54.640><c> that</c><01:02:54.960><c> using</c><01:02:55.200><c> the</c>

01:02:55.349 --> 01:02:55.359 align:start position:0%
and to actually do that using the
 

01:02:55.359 --> 01:02:57.109 align:start position:0%
and to actually do that using the
logging<01:02:55.680><c> system</c><01:02:56.000><c> that</c><01:02:56.160><c> basically</c><01:02:56.559><c> turns</c><01:02:56.799><c> into</c>

01:02:57.109 --> 01:02:57.119 align:start position:0%
logging system that basically turns into
 

01:02:57.119 --> 01:02:59.270 align:start position:0%
logging system that basically turns into
this<01:02:57.440><c> set</c><01:02:57.599><c> of</c>

01:02:59.270 --> 01:02:59.280 align:start position:0%
this set of
 

01:02:59.280 --> 01:03:02.390 align:start position:0%
this set of
uh<01:02:59.760><c> disk</c><01:03:00.079><c> writes</c><01:03:01.520><c> right</c><01:03:01.760><c> where</c><01:03:02.000><c> the</c><01:03:02.160><c> first</c>

01:03:02.390 --> 01:03:02.400 align:start position:0%
uh disk writes right where the first
 

01:03:02.400 --> 01:03:04.069 align:start position:0%
uh disk writes right where the first
part<01:03:02.720><c> is</c><01:03:02.880><c> the</c><01:03:03.039><c> installing</c><01:03:03.520><c> the</c><01:03:03.680><c> law</c>

01:03:04.069 --> 01:03:04.079 align:start position:0%
part is the installing the law
 

01:03:04.079 --> 01:03:05.589 align:start position:0%
part is the installing the law
if<01:03:04.240><c> the</c><01:03:04.319><c> first</c><01:03:04.559><c> party</c><01:03:04.799><c> is</c><01:03:04.960><c> actually</c><01:03:05.280><c> logging</c>

01:03:05.589 --> 01:03:05.599 align:start position:0%
if the first party is actually logging
 

01:03:05.599 --> 01:03:06.870 align:start position:0%
if the first party is actually logging
the<01:03:05.680><c> rights</c><01:03:06.000><c> and</c><01:03:06.079><c> the</c><01:03:06.160><c> second</c><01:03:06.480><c> part</c><01:03:06.720><c> is</c>

01:03:06.870 --> 01:03:06.880 align:start position:0%
the rights and the second part is
 

01:03:06.880 --> 01:03:09.750 align:start position:0%
the rights and the second part is
installing<01:03:07.359><c> the</c><01:03:07.440><c> log</c>

01:03:09.750 --> 01:03:09.760 align:start position:0%
 
 

01:03:09.760 --> 01:03:10.950 align:start position:0%
 
and<01:03:09.920><c> these</c><01:03:10.160><c> are</c><01:03:10.240><c> the</c><01:03:10.319><c> two</c><01:03:10.559><c> rights</c><01:03:10.799><c> to</c><01:03:10.880><c> the</c>

01:03:10.950 --> 01:03:10.960 align:start position:0%
and these are the two rights to the
 

01:03:10.960 --> 01:03:14.870 align:start position:0%
and these are the two rights to the
commit<01:03:11.280><c> records</c>

01:03:14.870 --> 01:03:14.880 align:start position:0%
 
 

01:03:14.880 --> 01:03:16.630 align:start position:0%
 
does<01:03:15.039><c> that</c><01:03:15.119><c> make</c><01:03:15.280><c> sense</c><01:03:15.760><c> is</c><01:03:15.839><c> it</c><01:03:16.000><c> possible</c><01:03:16.480><c> to</c>

01:03:16.630 --> 01:03:16.640 align:start position:0%
does that make sense is it possible to
 

01:03:16.640 --> 01:03:18.309 align:start position:0%
does that make sense is it possible to
infer<01:03:17.359><c> where</c><01:03:17.839><c> begin</c>

01:03:18.309 --> 01:03:18.319 align:start position:0%
infer where begin
 

01:03:18.319 --> 01:03:21.750 align:start position:0%
infer where begin
up<01:03:18.799><c> and</c><01:03:19.119><c> and</c><01:03:19.359><c> up</c><01:03:19.599><c> would</c><01:03:19.760><c> run</c><01:03:20.240><c> from</c><01:03:20.480><c> this</c><01:03:20.640><c> trace</c>

01:03:21.750 --> 01:03:21.760 align:start position:0%
up and and up would run from this trace
 

01:03:21.760 --> 01:03:24.789 align:start position:0%
up and and up would run from this trace
uh<01:03:22.319><c> well</c><01:03:22.799><c> so</c><01:03:22.960><c> we</c><01:03:23.520><c> sort</c><01:03:23.680><c> of</c><01:03:23.760><c> know</c><01:03:24.160><c> correct</c><01:03:24.559><c> so</c>

01:03:24.789 --> 01:03:24.799 align:start position:0%
uh well so we sort of know correct so
 

01:03:24.799 --> 01:03:25.349 align:start position:0%
uh well so we sort of know correct so
where<01:03:25.039><c> did</c>

01:03:25.349 --> 01:03:25.359 align:start position:0%
where did
 

01:03:25.359 --> 01:03:27.109 align:start position:0%
where did
uh<01:03:25.839><c> we</c><01:03:26.000><c> don't</c><01:03:26.240><c> really</c><01:03:26.400><c> know</c><01:03:26.559><c> where</c><01:03:26.640><c> begin</c><01:03:26.960><c> off</c>

01:03:27.109 --> 01:03:27.119 align:start position:0%
uh we don't really know where begin off
 

01:03:27.119 --> 01:03:28.390 align:start position:0%
uh we don't really know where begin off
start<01:03:27.280><c> but</c><01:03:27.440><c> this</c><01:03:27.599><c> is</c><01:03:27.680><c> at</c><01:03:27.760><c> the</c><01:03:27.839><c> beginning</c>

01:03:28.390 --> 01:03:28.400 align:start position:0%
start but this is at the beginning
 

01:03:28.400 --> 01:03:30.309 align:start position:0%
start but this is at the beginning
any<01:03:28.640><c> file</c><01:03:28.880><c> system</c><01:03:29.200><c> call</c><01:03:29.520><c> starts</c><01:03:29.760><c> with</c><01:03:29.920><c> a</c><01:03:30.000><c> begin</c>

01:03:30.309 --> 01:03:30.319 align:start position:0%
any file system call starts with a begin
 

01:03:30.319 --> 01:03:31.430 align:start position:0%
any file system call starts with a begin
up

01:03:31.430 --> 01:03:31.440 align:start position:0%
up
 

01:03:31.440 --> 01:03:34.309 align:start position:0%
up
and<01:03:31.920><c> it</c><01:03:32.079><c> must</c><01:03:32.240><c> be</c><01:03:32.400><c> the</c><01:03:32.559><c> case</c><01:03:32.880><c> that</c><01:03:33.839><c> the</c><01:03:34.000><c> commit</c>

01:03:34.309 --> 01:03:34.319 align:start position:0%
and it must be the case that the commit
 

01:03:34.319 --> 01:03:35.910 align:start position:0%
and it must be the case that the commit
record<01:03:34.640><c> correct</c><01:03:34.960><c> is</c>

01:03:35.910 --> 01:03:35.920 align:start position:0%
record correct is
 

01:03:35.920 --> 01:03:39.029 align:start position:0%
record correct is
written<01:03:36.319><c> in</c><01:03:36.960><c> end</c><01:03:37.119><c> up</c><01:03:37.839><c> so</c>

01:03:39.029 --> 01:03:39.039 align:start position:0%
written in end up so
 

01:03:39.039 --> 01:03:42.549 align:start position:0%
written in end up so
we<01:03:39.200><c> know</c><01:03:39.440><c> that</c><01:03:39.599><c> this</c><01:03:39.760><c> is</c><01:03:39.920><c> the</c><01:03:42.000><c> end</c><01:03:42.240><c> op</c>

01:03:42.549 --> 01:03:42.559 align:start position:0%
we know that this is the end op
 

01:03:42.559 --> 01:03:47.829 align:start position:0%
we know that this is the end op
of<01:03:42.640><c> some</c><01:03:42.880><c> file</c><01:03:43.119><c> system</c><01:03:43.440><c> operation</c>

01:03:47.829 --> 01:03:47.839 align:start position:0%
 
 

01:03:47.839 --> 01:03:53.109 align:start position:0%
 
does<01:03:48.079><c> that</c><01:03:48.240><c> all</c><01:03:48.319><c> make</c><01:03:48.480><c> sense</c>

01:03:53.109 --> 01:03:53.119 align:start position:0%
 
 

01:03:53.119 --> 01:03:56.150 align:start position:0%
 
okay<01:03:53.440><c> so</c><01:03:53.599><c> that</c><01:03:53.680><c> was</c><01:03:53.839><c> basically</c><01:03:54.960><c> xv6</c><01:03:55.520><c> logging</c>

01:03:56.150 --> 01:03:56.160 align:start position:0%
okay so that was basically xv6 logging
 

01:03:56.160 --> 01:03:59.750 align:start position:0%
okay so that was basically xv6 logging
and<01:03:56.400><c> logging</c><01:03:56.799><c> in</c><01:03:56.960><c> action</c><01:03:57.839><c> um</c><01:03:58.880><c> and</c><01:03:59.280><c> i</c><01:03:59.599><c> want</c><01:03:59.680><c> to</c>

01:03:59.750 --> 01:03:59.760 align:start position:0%
and logging in action um and i want to
 

01:03:59.760 --> 01:04:01.670 align:start position:0%
and logging in action um and i want to
talk<01:03:59.920><c> about</c><01:04:00.079><c> a</c><01:04:00.160><c> couple</c><01:04:00.400><c> complications</c>

01:04:01.670 --> 01:04:01.680 align:start position:0%
talk about a couple complications
 

01:04:01.680 --> 01:04:05.829 align:start position:0%
talk about a couple complications
uh<01:04:02.400><c> and</c><01:04:03.280><c> even</c><01:04:03.599><c> this</c><01:04:04.319><c> dirt</c><01:04:04.720><c> simple</c>

01:04:05.829 --> 01:04:05.839 align:start position:0%
uh and even this dirt simple
 

01:04:05.839 --> 01:04:08.870 align:start position:0%
uh and even this dirt simple
naive<01:04:07.039><c> logging</c><01:04:07.440><c> scheme</c><01:04:07.839><c> actually</c><01:04:08.160><c> has</c>

01:04:08.870 --> 01:04:08.880 align:start position:0%
naive logging scheme actually has
 

01:04:08.880 --> 01:04:11.750 align:start position:0%
naive logging scheme actually has
complications<01:04:10.880><c> one</c><01:04:11.039><c> thing</c><01:04:11.200><c> to</c><01:04:11.359><c> immediately</c>

01:04:11.750 --> 01:04:11.760 align:start position:0%
complications one thing to immediately
 

01:04:11.760 --> 01:04:13.029 align:start position:0%
complications one thing to immediately
note<01:04:12.000><c> of</c><01:04:12.079><c> course</c><01:04:12.319><c> is</c>

01:04:13.029 --> 01:04:13.039 align:start position:0%
note of course is
 

01:04:13.039 --> 01:04:16.630 align:start position:0%
note of course is
uh<01:04:13.839><c> you</c><01:04:14.000><c> know</c><01:04:15.520><c> is</c><01:04:15.680><c> this</c><01:04:15.839><c> a</c><01:04:15.920><c> very</c><01:04:16.160><c> performant</c>

01:04:16.630 --> 01:04:16.640 align:start position:0%
uh you know is this a very performant
 

01:04:16.640 --> 01:04:18.549 align:start position:0%
uh you know is this a very performant
implementation

01:04:18.549 --> 01:04:18.559 align:start position:0%
implementation
 

01:04:18.559 --> 01:04:27.029 align:start position:0%
implementation
just<01:04:18.799><c> by</c><01:04:18.960><c> looking</c><01:04:19.200><c> at</c><01:04:19.280><c> this</c><01:04:24.839><c> trace</c>

01:04:27.029 --> 01:04:27.039 align:start position:0%
just by looking at this trace
 

01:04:27.039 --> 01:04:30.230 align:start position:0%
just by looking at this trace
no<01:04:28.240><c> yeah</c><01:04:28.559><c> why</c><01:04:28.720><c> not</c><01:04:29.599><c> it</c><01:04:29.760><c> just</c>

01:04:30.230 --> 01:04:30.240 align:start position:0%
no yeah why not it just
 

01:04:30.240 --> 01:04:32.069 align:start position:0%
no yeah why not it just
i<01:04:30.400><c> know</c><01:04:30.559><c> this</c><01:04:30.799><c> is</c><01:04:30.880><c> a</c><01:04:31.200><c> basically</c><01:04:31.599><c> too</c><01:04:31.760><c> simple</c>

01:04:32.069 --> 01:04:32.079 align:start position:0%
i know this is a basically too simple
 

01:04:32.079 --> 01:04:33.589 align:start position:0%
i know this is a basically too simple
question<01:04:32.400><c> but</c>

01:04:33.589 --> 01:04:33.599 align:start position:0%
question but
 

01:04:33.599 --> 01:04:36.630 align:start position:0%
question but
that's<01:04:33.920><c> important</c><01:04:34.240><c> to</c><01:04:34.400><c> ask</c>

01:04:36.630 --> 01:04:36.640 align:start position:0%
 
 

01:04:36.640 --> 01:04:40.789 align:start position:0%
 
like<01:04:39.440><c> you're</c><01:04:39.599><c> writing</c><01:04:39.920><c> the</c><01:04:40.079><c> stuff</c><01:04:40.400><c> twice</c>

01:04:40.789 --> 01:04:40.799 align:start position:0%
like you're writing the stuff twice
 

01:04:40.799 --> 01:04:41.430 align:start position:0%
like you're writing the stuff twice
right

01:04:41.430 --> 01:04:41.440 align:start position:0%
right
 

01:04:41.440 --> 01:04:42.789 align:start position:0%
right
yeah<01:04:41.680><c> you're</c><01:04:41.839><c> writing</c><01:04:42.079><c> your</c><01:04:42.160><c> stuff</c><01:04:42.319><c> twice</c><01:04:42.640><c> so</c>

01:04:42.789 --> 01:04:42.799 align:start position:0%
yeah you're writing your stuff twice so
 

01:04:42.799 --> 01:04:44.309 align:start position:0%
yeah you're writing your stuff twice so
whenever<01:04:43.039><c> i</c><01:04:43.119><c> write</c><01:04:43.280><c> a</c><01:04:43.440><c> file</c><01:04:43.680><c> f</c><01:04:43.920><c> over</c><01:04:44.079><c> a</c><01:04:44.160><c> big</c>

01:04:44.309 --> 01:04:44.319 align:start position:0%
whenever i write a file f over a big
 

01:04:44.319 --> 01:04:44.870 align:start position:0%
whenever i write a file f over a big
file<01:04:44.559><c> f</c>

01:04:44.870 --> 01:04:44.880 align:start position:0%
file f
 

01:04:44.880 --> 01:04:47.910 align:start position:0%
file f
i'm<01:04:45.039><c> going</c><01:04:45.119><c> to</c><01:04:45.200><c> write</c><01:04:45.359><c> that</c><01:04:45.520><c> big</c><01:04:45.760><c> file</c><01:04:46.000><c> f</c><01:04:46.160><c> twice</c>

01:04:47.910 --> 01:04:47.920 align:start position:0%
i'm going to write that big file f twice
 

01:04:47.920 --> 01:04:50.309 align:start position:0%
i'm going to write that big file f twice
and<01:04:48.160><c> so</c><01:04:48.880><c> uh</c><01:04:49.440><c> certainly</c><01:04:49.760><c> not</c><01:04:49.920><c> particularly</c>

01:04:50.309 --> 01:04:50.319 align:start position:0%
and so uh certainly not particularly
 

01:04:50.319 --> 01:04:51.670 align:start position:0%
and so uh certainly not particularly
high<01:04:50.480><c> performance</c><01:04:50.880><c> where</c><01:04:51.119><c> i</c><01:04:51.200><c> mean</c><01:04:51.359><c> basically</c>

01:04:51.670 --> 01:04:51.680 align:start position:0%
high performance where i mean basically
 

01:04:51.680 --> 01:04:52.630 align:start position:0%
high performance where i mean basically
we're<01:04:51.839><c> cutting</c><01:04:52.079><c> the</c><01:04:52.160><c> performance</c>

01:04:52.630 --> 01:04:52.640 align:start position:0%
we're cutting the performance
 

01:04:52.640 --> 01:04:55.670 align:start position:0%
we're cutting the performance
immediately<01:04:53.039><c> by</c><01:04:53.200><c> factor</c><01:04:53.599><c> two</c>

01:04:55.670 --> 01:04:55.680 align:start position:0%
immediately by factor two
 

01:04:55.680 --> 01:04:58.630 align:start position:0%
immediately by factor two
just<01:04:55.839><c> to</c><01:04:56.000><c> get</c><01:04:56.079><c> crest</c><01:04:56.400><c> safety</c><01:04:57.599><c> um</c><01:04:58.079><c> and</c><01:04:58.319><c> so</c><01:04:58.480><c> we'll</c>

01:04:58.630 --> 01:04:58.640 align:start position:0%
just to get crest safety um and so we'll
 

01:04:58.640 --> 01:04:59.270 align:start position:0%
just to get crest safety um and so we'll
see<01:04:58.799><c> you</c><01:04:58.960><c> on</c>

01:04:59.270 --> 01:04:59.280 align:start position:0%
see you on
 

01:04:59.280 --> 01:05:02.549 align:start position:0%
see you on
on<01:05:00.240><c> you</c><01:05:00.400><c> know</c><01:05:00.480><c> when</c><01:05:00.640><c> you're</c><01:05:00.720><c> reading</c><01:05:01.039><c> the</c><01:05:01.920><c> uh</c>

01:05:02.549 --> 01:05:02.559 align:start position:0%
on you know when you're reading the uh
 

01:05:02.559 --> 01:05:05.910 align:start position:0%
on you know when you're reading the uh
xt<01:05:03.280><c> xd3</c><01:05:04.240><c> paper</c><01:05:04.559><c> for</c><01:05:04.880><c> a</c><01:05:04.960><c> monday</c><01:05:05.520><c> you</c><01:05:05.680><c> know</c><01:05:05.760><c> one</c>

01:05:05.910 --> 01:05:05.920 align:start position:0%
xt xd3 paper for a monday you know one
 

01:05:05.920 --> 01:05:07.190 align:start position:0%
xt xd3 paper for a monday you know one
thing<01:05:06.079><c> you</c><01:05:06.160><c> should</c><01:05:06.319><c> keep</c><01:05:06.559><c> in</c><01:05:06.720><c> your</c><01:05:06.799><c> head</c><01:05:07.039><c> is</c>

01:05:07.190 --> 01:05:07.200 align:start position:0%
thing you should keep in your head is
 

01:05:07.200 --> 01:05:09.510 align:start position:0%
thing you should keep in your head is
while<01:05:07.440><c> reading</c><01:05:07.760><c> is</c><01:05:07.920><c> just</c><01:05:08.160><c> get</c><01:05:08.400><c> how</c>

01:05:09.510 --> 01:05:09.520 align:start position:0%
while reading is just get how
 

01:05:09.520 --> 01:05:11.589 align:start position:0%
while reading is just get how
how<01:05:09.760><c> do</c><01:05:10.000><c> i</c><01:05:10.079><c> get</c><01:05:10.319><c> around</c><01:05:10.880><c> sort</c><01:05:11.039><c> of</c><01:05:11.119><c> this</c><01:05:11.280><c> factor</c>

01:05:11.589 --> 01:05:11.599 align:start position:0%
how do i get around sort of this factor
 

01:05:11.599 --> 01:05:15.109 align:start position:0%
how do i get around sort of this factor
of<01:05:11.760><c> two</c>

01:05:15.109 --> 01:05:15.119 align:start position:0%
 
 

01:05:15.119 --> 01:05:18.150 align:start position:0%
 
okay<01:05:16.559><c> sorry</c><01:05:16.880><c> is</c><01:05:17.039><c> it</c><01:05:17.119><c> the</c><01:05:17.280><c> case</c><01:05:17.520><c> that</c><01:05:17.680><c> you</c><01:05:17.920><c> write</c>

01:05:18.150 --> 01:05:18.160 align:start position:0%
okay sorry is it the case that you write
 

01:05:18.160 --> 01:05:18.549 align:start position:0%
okay sorry is it the case that you write
the

01:05:18.549 --> 01:05:18.559 align:start position:0%
the
 

01:05:18.559 --> 01:05:22.230 align:start position:0%
the
h<01:05:18.880><c> and</c><01:05:18.960><c> the</c><01:05:19.200><c> i</c><01:05:20.839><c> separately</c>

01:05:22.230 --> 01:05:22.240 align:start position:0%
h and the i separately
 

01:05:22.240 --> 01:05:25.829 align:start position:0%
h and the i separately
yeah<01:05:22.480><c> i</c><01:05:22.640><c> think</c><01:05:22.799><c> so</c><01:05:24.000><c> okay</c>

01:05:25.829 --> 01:05:25.839 align:start position:0%
yeah i think so okay
 

01:05:25.839 --> 01:05:28.710 align:start position:0%
yeah i think so okay
i'll<01:05:26.480><c> show</c><01:05:26.640><c> you</c><01:05:26.799><c> in</c><01:05:26.880><c> a</c><01:05:26.960><c> second</c><01:05:27.280><c> why</c><01:05:27.920><c> uh</c><01:05:28.240><c> what</c><01:05:28.559><c> is</c>

01:05:28.710 --> 01:05:28.720 align:start position:0%
i'll show you in a second why uh what is
 

01:05:28.720 --> 01:05:31.670 align:start position:0%
i'll show you in a second why uh what is
happening<01:05:29.039><c> there</c>

01:05:31.670 --> 01:05:31.680 align:start position:0%
 
 

01:05:31.680 --> 01:05:34.789 align:start position:0%
 
or<01:05:31.920><c> maybe</c>

01:05:34.789 --> 01:05:34.799 align:start position:0%
 
 

01:05:34.799 --> 01:05:36.309 align:start position:0%
 
well<01:05:35.039><c> let</c><01:05:35.119><c> me</c><01:05:35.280><c> not</c><01:05:35.440><c> commit</c><01:05:35.680><c> too</c><01:05:35.839><c> much</c><01:05:36.000><c> for</c><01:05:36.160><c> that</c>

01:05:36.309 --> 01:05:36.319 align:start position:0%
well let me not commit too much for that
 

01:05:36.319 --> 01:05:38.309 align:start position:0%
well let me not commit too much for that
answer<01:05:36.799><c> uh</c><01:05:37.520><c> but</c><01:05:37.839><c> we'll</c>

01:05:38.309 --> 01:05:38.319 align:start position:0%
answer uh but we'll
 

01:05:38.319 --> 01:05:40.789 align:start position:0%
answer uh but we'll
i'll<01:05:38.640><c> i'll</c><01:05:38.799><c> come</c><01:05:39.039><c> back</c><01:05:39.200><c> to</c><01:05:39.359><c> it</c><01:05:40.160><c> uh</c><01:05:40.400><c> i'm</c><01:05:40.559><c> sorry</c>

01:05:40.789 --> 01:05:40.799 align:start position:0%
i'll i'll come back to it uh i'm sorry
 

01:05:40.799 --> 01:05:41.589 align:start position:0%
i'll i'll come back to it uh i'm sorry
am<01:05:40.960><c> i</c><01:05:41.039><c> having</c><01:05:41.280><c> the</c>

01:05:41.589 --> 01:05:41.599 align:start position:0%
am i having the
 

01:05:41.599 --> 01:05:44.710 align:start position:0%
am i having the
empty<01:05:41.920><c> line</c><01:05:42.319><c> not</c><01:05:42.559><c> the</c><01:05:42.720><c> h9i</c><01:05:43.520><c> but</c><01:05:43.839><c> yeah</c>

01:05:44.710 --> 01:05:44.720 align:start position:0%
empty line not the h9i but yeah
 

01:05:44.720 --> 01:05:46.789 align:start position:0%
empty line not the h9i but yeah
the<01:05:44.880><c> new</c><01:05:45.039><c> line</c><01:05:45.359><c> is</c><01:05:45.440><c> a</c><01:05:45.520><c> separate</c><01:05:45.839><c> right</c><01:05:46.319><c> h</c><01:05:46.480><c> and</c><01:05:46.640><c> i</c>

01:05:46.789 --> 01:05:46.799 align:start position:0%
the new line is a separate right h and i
 

01:05:46.799 --> 01:05:48.870 align:start position:0%
the new line is a separate right h and i
just<01:05:47.119><c> one</c><01:05:47.440><c> right</c><01:05:47.760><c> and</c><01:05:47.920><c> yeah</c><01:05:48.160><c> a</c><01:05:48.240><c> new</c><01:05:48.480><c> line</c><01:05:48.720><c> is</c><01:05:48.799><c> a</c>

01:05:48.870 --> 01:05:48.880 align:start position:0%
just one right and yeah a new line is a
 

01:05:48.880 --> 01:05:50.150 align:start position:0%
just one right and yeah a new line is a
separate<01:05:49.200><c> right</c><01:05:49.760><c> okay</c>

01:05:50.150 --> 01:05:50.160 align:start position:0%
separate right okay
 

01:05:50.160 --> 01:05:53.990 align:start position:0%
separate right okay
thank<01:05:50.400><c> you</c><01:05:51.599><c> you're</c><01:05:51.839><c> welcome</c><01:05:52.880><c> um</c>

01:05:53.990 --> 01:05:54.000 align:start position:0%
thank you you're welcome um
 

01:05:54.000 --> 01:05:57.109 align:start position:0%
thank you you're welcome um
okay<01:05:54.640><c> uh</c><01:05:55.520><c> there's</c><01:05:55.680><c> a</c><01:05:55.760><c> complications</c><01:05:56.720><c> and</c><01:05:57.039><c> i</c>

01:05:57.109 --> 01:05:57.119 align:start position:0%
okay uh there's a complications and i
 

01:05:57.119 --> 01:05:58.309 align:start position:0%
okay uh there's a complications and i
want<01:05:57.280><c> to</c><01:05:57.359><c> talk</c><01:05:57.520><c> a</c><01:05:57.599><c> little</c><01:05:57.839><c> bit</c><01:05:57.920><c> about</c><01:05:58.160><c> these</c>

01:05:58.309 --> 01:05:58.319 align:start position:0%
want to talk a little bit about these
 

01:05:58.319 --> 01:06:02.829 align:start position:0%
want to talk a little bit about these
complications

01:06:02.829 --> 01:06:02.839 align:start position:0%
 
 

01:06:02.839 --> 01:06:07.190 align:start position:0%
 
uh<01:06:05.359><c> so</c><01:06:05.599><c> okay</c><01:06:05.839><c> here's</c><01:06:06.160><c> our</c><01:06:06.240><c> basic</c><01:06:06.720><c> scheme</c><01:06:07.039><c> and</c>

01:06:07.190 --> 01:06:07.200 align:start position:0%
uh so okay here's our basic scheme and
 

01:06:07.200 --> 01:06:08.870 align:start position:0%
uh so okay here's our basic scheme and
basic<01:06:07.520><c> data</c><01:06:07.760><c> structures</c>

01:06:08.870 --> 01:06:08.880 align:start position:0%
basic data structures
 

01:06:08.880 --> 01:06:10.950 align:start position:0%
basic data structures
and<01:06:09.440><c> uh</c><01:06:09.680><c> there's</c><01:06:09.920><c> a</c><01:06:10.000><c> free</c><01:06:10.319><c> complication</c><01:06:10.799><c> that</c>

01:06:10.950 --> 01:06:10.960 align:start position:0%
and uh there's a free complication that
 

01:06:10.960 --> 01:06:12.630 align:start position:0%
and uh there's a free complication that
i<01:06:11.039><c> want</c><01:06:11.119><c> to</c><01:06:11.200><c> talk</c><01:06:11.440><c> about</c>

01:06:12.630 --> 01:06:12.640 align:start position:0%
i want to talk about
 

01:06:12.640 --> 01:06:16.470 align:start position:0%
i want to talk about
um<01:06:15.200><c> or</c><01:06:15.359><c> maybe</c><01:06:15.599><c> i'll</c><01:06:15.760><c> call</c><01:06:15.920><c> them</c><01:06:16.079><c> challenges</c>

01:06:16.470 --> 01:06:16.480 align:start position:0%
um or maybe i'll call them challenges
 

01:06:16.480 --> 01:06:21.349 align:start position:0%
um or maybe i'll call them challenges
whatever<01:06:16.799><c> you</c><01:06:17.039><c> want</c><01:06:17.200><c> to</c><01:06:17.280><c> call</c><01:06:17.440><c> them</c>

01:06:21.349 --> 01:06:21.359 align:start position:0%
 
 

01:06:21.359 --> 01:06:29.109 align:start position:0%
 
the<01:06:21.520><c> first</c><01:06:21.839><c> is</c><01:06:22.640><c> eviction</c>

01:06:29.109 --> 01:06:29.119 align:start position:0%
 
 

01:06:29.119 --> 01:06:31.430 align:start position:0%
 
and<01:06:29.520><c> the</c><01:06:29.680><c> issue</c><01:06:30.000><c> is</c><01:06:30.160><c> as</c><01:06:30.240><c> follows</c><01:06:30.960><c> let's</c><01:06:31.119><c> say</c><01:06:31.280><c> we</c>

01:06:31.430 --> 01:06:31.440 align:start position:0%
and the issue is as follows let's say we
 

01:06:31.440 --> 01:06:33.910 align:start position:0%
and the issue is as follows let's say we
go<01:06:31.520><c> back</c><01:06:31.680><c> to</c><01:06:31.839><c> this</c><01:06:32.000><c> picture</c><01:06:32.319><c> here</c>

01:06:33.910 --> 01:06:33.920 align:start position:0%
go back to this picture here
 

01:06:33.920 --> 01:06:37.990 align:start position:0%
go back to this picture here
and<01:06:34.400><c> the</c><01:06:34.559><c> whole</c><01:06:34.720><c> b</c><01:06:34.880><c> cache</c><01:06:35.280><c> is</c><01:06:35.440><c> full</c>

01:06:37.990 --> 01:06:38.000 align:start position:0%
 
 

01:06:38.000 --> 01:06:41.270 align:start position:0%
 
and<01:06:38.799><c> um</c><01:06:39.839><c> and</c><01:06:40.000><c> so</c><01:06:40.400><c> the</c><01:06:40.559><c> transaction</c><01:06:41.039><c> is</c><01:06:41.200><c> in</c>

01:06:41.270 --> 01:06:41.280 align:start position:0%
and um and so the transaction is in
 

01:06:41.280 --> 01:06:41.990 align:start position:0%
and um and so the transaction is in
progress

01:06:41.990 --> 01:06:42.000 align:start position:0%
progress
 

01:06:42.000 --> 01:06:45.829 align:start position:0%
progress
uh<01:06:42.480><c> let's</c><01:06:42.640><c> say</c><01:06:42.960><c> we</c><01:06:43.119><c> just</c><01:06:43.359><c> just</c><01:06:43.680><c> updated</c><01:06:44.160><c> 45</c>

01:06:45.829 --> 01:06:45.839 align:start position:0%
uh let's say we just just updated 45
 

01:06:45.839 --> 01:06:47.589 align:start position:0%
uh let's say we just just updated 45
it's<01:06:46.079><c> now</c><01:06:46.240><c> done</c><01:06:46.400><c> with</c><01:06:46.559><c> block</c><01:06:46.799><c> 45</c><01:06:47.280><c> so</c><01:06:47.440><c> it's</c>

01:06:47.589 --> 01:06:47.599 align:start position:0%
it's now done with block 45 so it's
 

01:06:47.599 --> 01:06:49.510 align:start position:0%
it's now done with block 45 so it's
going<01:06:47.680><c> to</c><01:06:47.760><c> write</c><01:06:47.920><c> the</c><01:06:48.000><c> next</c><01:06:48.240><c> block</c>

01:06:49.510 --> 01:06:49.520 align:start position:0%
going to write the next block
 

01:06:49.520 --> 01:06:53.510 align:start position:0%
going to write the next block
and<01:06:49.760><c> the</c><01:06:49.920><c> cache</c><01:06:50.240><c> is</c><01:06:50.319><c> full</c><01:06:51.760><c> and</c>

01:06:53.510 --> 01:06:53.520 align:start position:0%
and the cache is full and
 

01:06:53.520 --> 01:06:57.910 align:start position:0%
and the cache is full and
the<01:06:55.839><c> and</c>

01:06:57.910 --> 01:06:57.920 align:start position:0%
the and
 

01:06:57.920 --> 01:06:59.990 align:start position:0%
the and
let's<01:06:58.160><c> say</c><01:06:58.799><c> you</c><01:06:58.960><c> know</c><01:06:59.200><c> we</c><01:06:59.359><c> don't</c><01:06:59.680><c> we</c><01:06:59.760><c> don't</c>

01:06:59.990 --> 01:07:00.000 align:start position:0%
let's say you know we don't we don't
 

01:07:00.000 --> 01:07:01.430 align:start position:0%
let's say you know we don't we don't
have<01:07:00.079><c> a</c><01:07:00.160><c> solution</c><01:07:00.480><c> for</c><01:07:00.640><c> this</c><01:07:00.799><c> yet</c>

01:07:01.430 --> 01:07:01.440 align:start position:0%
have a solution for this yet
 

01:07:01.440 --> 01:07:03.750 align:start position:0%
have a solution for this yet
uh<01:07:01.680><c> but</c><01:07:01.839><c> the</c><01:07:02.000><c> cache</c><01:07:02.240><c> decides</c><01:07:03.039><c> uh</c><01:07:03.280><c> it</c><01:07:03.440><c> is</c><01:07:03.599><c> it</c>

01:07:03.750 --> 01:07:03.760 align:start position:0%
uh but the cache decides uh it is it
 

01:07:03.760 --> 01:07:06.630 align:start position:0%
uh but the cache decides uh it is it
wants<01:07:04.000><c> to</c><01:07:04.079><c> evict</c><01:07:04.400><c> 45.</c>

01:07:06.630 --> 01:07:06.640 align:start position:0%
wants to evict 45.
 

01:07:06.640 --> 01:07:09.029 align:start position:0%
wants to evict 45.
correct<01:07:07.280><c> and</c><01:07:07.520><c> if</c><01:07:07.680><c> it</c><01:07:07.760><c> wants</c><01:07:08.000><c> to</c><01:07:08.160><c> invict</c><01:07:08.480><c> 45</c><01:07:08.880><c> but</c>

01:07:09.029 --> 01:07:09.039 align:start position:0%
correct and if it wants to invict 45 but
 

01:07:09.039 --> 01:07:10.390 align:start position:0%
correct and if it wants to invict 45 but
it<01:07:09.119><c> will</c><01:07:09.280><c> mean</c><01:07:09.520><c> that</c><01:07:09.599><c> will</c><01:07:09.760><c> mean</c><01:07:10.000><c> we</c><01:07:10.160><c> have</c><01:07:10.319><c> to</c>

01:07:10.390 --> 01:07:10.400 align:start position:0%
it will mean that will mean we have to
 

01:07:10.400 --> 01:07:13.829 align:start position:0%
it will mean that will mean we have to
write<01:07:10.640><c> it</c><01:07:10.720><c> you</c><01:07:10.880><c> know</c><01:07:10.960><c> to</c><01:07:11.119><c> its</c><01:07:11.280><c> home</c><01:07:11.520><c> location</c>

01:07:13.829 --> 01:07:13.839 align:start position:0%
write it you know to its home location
 

01:07:13.839 --> 01:07:16.150 align:start position:0%
write it you know to its home location
how<01:07:14.160><c> bad</c><01:07:14.400><c> would</c><01:07:14.640><c> it</c><01:07:14.720><c> be</c><01:07:15.119><c> to</c><01:07:15.280><c> write</c><01:07:15.599><c> the</c><01:07:15.760><c> block</c>

01:07:16.150 --> 01:07:16.160 align:start position:0%
how bad would it be to write the block
 

01:07:16.160 --> 01:07:17.510 align:start position:0%
how bad would it be to write the block
you<01:07:16.240><c> know</c>

01:07:17.510 --> 01:07:17.520 align:start position:0%
you know
 

01:07:17.520 --> 01:07:21.029 align:start position:0%
you know
you<01:07:17.680><c> know</c><01:07:17.839><c> evict</c><01:07:18.240><c> 45</c>

01:07:21.029 --> 01:07:21.039 align:start position:0%
 
 

01:07:21.039 --> 01:07:28.549 align:start position:0%
 
and<01:07:21.440><c> write</c><01:07:21.760><c> 45</c><01:07:22.240><c> to</c><01:07:22.400><c> home</c><01:07:26.839><c> location</c>

01:07:28.549 --> 01:07:28.559 align:start position:0%
and write 45 to home location
 

01:07:28.559 --> 01:07:44.230 align:start position:0%
and write 45 to home location
is<01:07:28.720><c> that</c><01:07:28.799><c> good</c><01:07:29.039><c> or</c><01:07:40.839><c> bad</c>

01:07:44.230 --> 01:07:44.240 align:start position:0%
 
 

01:07:44.240 --> 01:07:47.349 align:start position:0%
 
would<01:07:44.480><c> any</c><01:07:44.720><c> rule</c><01:07:44.960><c> be</c><01:07:45.119><c> broken</c><01:07:45.440><c> if</c><01:07:45.599><c> we</c><01:07:45.680><c> did</c><01:07:45.920><c> that</c>

01:07:47.349 --> 01:07:47.359 align:start position:0%
would any rule be broken if we did that
 

01:07:47.359 --> 01:07:50.470 align:start position:0%
would any rule be broken if we did that
i<01:07:47.520><c> guess</c><01:07:48.799><c> that</c><01:07:49.520><c> is</c>

01:07:50.470 --> 01:07:50.480 align:start position:0%
i guess that is
 

01:07:50.480 --> 01:07:53.349 align:start position:0%
i guess that is
if<01:07:50.720><c> a</c><01:07:50.880><c> crash</c><01:07:51.280><c> happens</c><01:07:51.760><c> before</c><01:07:52.400><c> the</c><01:07:52.640><c> other</c>

01:07:53.349 --> 01:07:53.359 align:start position:0%
if a crash happens before the other
 

01:07:53.359 --> 01:07:55.589 align:start position:0%
if a crash happens before the other
rights<01:07:53.680><c> in</c><01:07:53.839><c> the</c><01:07:53.920><c> same</c><01:07:54.160><c> transaction</c>

01:07:55.589 --> 01:07:55.599 align:start position:0%
rights in the same transaction
 

01:07:55.599 --> 01:07:58.549 align:start position:0%
rights in the same transaction
occurs<01:07:56.240><c> then</c><01:07:57.119><c> basically</c><01:07:57.680><c> atomicity</c><01:07:58.400><c> is</c>

01:07:58.549 --> 01:07:58.559 align:start position:0%
occurs then basically atomicity is
 

01:07:58.559 --> 01:07:59.510 align:start position:0%
occurs then basically atomicity is
broken

01:07:59.510 --> 01:07:59.520 align:start position:0%
broken
 

01:07:59.520 --> 01:08:02.950 align:start position:0%
broken
yeah<01:07:59.920><c> so</c><01:08:00.079><c> this</c><01:08:00.319><c> is</c><01:08:00.400><c> bad</c><01:08:00.799><c> correct</c>

01:08:02.950 --> 01:08:02.960 align:start position:0%
yeah so this is bad correct
 

01:08:02.960 --> 01:08:04.710 align:start position:0%
yeah so this is bad correct
that<01:08:03.200><c> this</c><01:08:03.440><c> basically</c><01:08:03.839><c> violates</c><01:08:04.319><c> this</c><01:08:04.559><c> right</c>

01:08:04.710 --> 01:08:04.720 align:start position:0%
that this basically violates this right
 

01:08:04.720 --> 01:08:07.510 align:start position:0%
that this basically violates this right
ahead<01:08:05.039><c> rule</c><01:08:05.280><c> that</c><01:08:05.440><c> i</c><01:08:05.520><c> talked</c><01:08:05.760><c> about</c>

01:08:07.510 --> 01:08:07.520 align:start position:0%
ahead rule that i talked about
 

01:08:07.520 --> 01:08:09.270 align:start position:0%
ahead rule that i talked about
you<01:08:07.760><c> have</c><01:08:07.920><c> to</c><01:08:08.079><c> write</c><01:08:08.400><c> all</c><01:08:08.559><c> the</c><01:08:08.720><c> blocks</c><01:08:09.039><c> to</c><01:08:09.200><c> the</c>

01:08:09.270 --> 01:08:09.280 align:start position:0%
you have to write all the blocks to the
 

01:08:09.280 --> 01:08:11.589 align:start position:0%
you have to write all the blocks to the
log<01:08:09.599><c> before</c><01:08:10.160><c> you</c><01:08:10.400><c> write</c><01:08:10.640><c> any</c><01:08:10.880><c> block</c><01:08:11.119><c> to</c><01:08:11.280><c> its</c>

01:08:11.589 --> 01:08:11.599 align:start position:0%
log before you write any block to its
 

01:08:11.599 --> 01:08:25.669 align:start position:0%
log before you write any block to its
home<01:08:22.839><c> location</c>

01:08:25.669 --> 01:08:25.679 align:start position:0%
home location
 

01:08:25.679 --> 01:08:27.110 align:start position:0%
home location
so<01:08:25.839><c> it</c><01:08:25.920><c> has</c><01:08:26.159><c> to</c><01:08:26.239><c> be</c><01:08:26.400><c> the</c><01:08:26.480><c> case</c><01:08:26.719><c> correct</c><01:08:27.040><c> that</c>

01:08:27.110 --> 01:08:27.120 align:start position:0%
so it has to be the case correct that
 

01:08:27.120 --> 01:08:29.510 align:start position:0%
so it has to be the case correct that
the<01:08:27.279><c> cache</c><01:08:27.679><c> does</c><01:08:28.000><c> not</c><01:08:28.400><c> evict</c>

01:08:29.510 --> 01:08:29.520 align:start position:0%
the cache does not evict
 

01:08:29.520 --> 01:08:32.789 align:start position:0%
the cache does not evict
any<01:08:29.920><c> block</c><01:08:30.400><c> that</c><01:08:30.640><c> sits</c><01:08:30.880><c> in</c><01:08:30.960><c> the</c><01:08:31.120><c> log</c><01:08:32.480><c> does</c><01:08:32.719><c> that</c>

01:08:32.789 --> 01:08:32.799 align:start position:0%
any block that sits in the log does that
 

01:08:32.799 --> 01:08:34.630 align:start position:0%
any block that sits in the log does that
make<01:08:32.960><c> sense</c>

01:08:34.630 --> 01:08:34.640 align:start position:0%
make sense
 

01:08:34.640 --> 01:08:40.789 align:start position:0%
make sense
so<01:08:34.799><c> the</c><01:08:34.960><c> solution</c><01:08:35.440><c> is</c><01:08:36.880><c> don't</c><01:08:37.199><c> evict</c>

01:08:40.789 --> 01:08:40.799 align:start position:0%
 
 

01:08:40.799 --> 01:08:49.269 align:start position:0%
 
blocks<01:08:42.159><c> those</c><01:08:42.560><c> are</c><01:08:42.719><c> in</c><01:08:42.880><c> the</c><01:08:42.960><c> lock</c>

01:08:49.269 --> 01:08:49.279 align:start position:0%
 
 

01:08:49.279 --> 01:08:51.590 align:start position:0%
 
and<01:08:49.440><c> this</c><01:08:49.679><c> is</c><01:08:49.759><c> exactly</c><01:08:50.640><c> you</c><01:08:50.799><c> know</c><01:08:50.960><c> what</c><01:08:51.440><c> you</c>

01:08:51.590 --> 01:08:51.600 align:start position:0%
and this is exactly you know what you
 

01:08:51.600 --> 01:08:53.110 align:start position:0%
and this is exactly you know what you
were<01:08:51.759><c> showing</c><01:08:52.000><c> a</c><01:08:52.080><c> little</c><01:08:52.239><c> bit</c><01:08:52.400><c> earlier</c><01:08:52.880><c> and</c>

01:08:53.110 --> 01:08:53.120 align:start position:0%
were showing a little bit earlier and
 

01:08:53.120 --> 01:08:55.430 align:start position:0%
were showing a little bit earlier and
said<01:08:53.279><c> i</c><01:08:53.359><c> didn't</c><01:08:53.600><c> want</c><01:08:53.679><c> to</c><01:08:53.839><c> talk</c><01:08:54.000><c> about</c>

01:08:55.430 --> 01:08:55.440 align:start position:0%
said i didn't want to talk about
 

01:08:55.440 --> 01:08:58.390 align:start position:0%
said i didn't want to talk about
so<01:08:55.600><c> if</c><01:08:55.679><c> you</c><01:08:55.759><c> go</c><01:08:55.839><c> to</c><01:08:56.000><c> log</c><01:08:56.319><c> right</c><01:08:57.679><c> again</c><01:08:58.000><c> just</c><01:08:58.159><c> to</c>

01:08:58.390 --> 01:08:58.400 align:start position:0%
so if you go to log right again just to
 

01:08:58.400 --> 01:08:58.709 align:start position:0%
so if you go to log right again just to
see

01:08:58.709 --> 01:08:58.719 align:start position:0%
see
 

01:08:58.719 --> 01:09:02.470 align:start position:0%
see
for<01:08:58.880><c> a</c><01:08:58.960><c> second</c><01:08:59.279><c> there</c><01:09:01.600><c> you</c><01:09:01.759><c> know</c><01:09:02.000><c> log</c><01:09:02.239><c> right</c>

01:09:02.470 --> 01:09:02.480 align:start position:0%
for a second there you know log right
 

01:09:02.480 --> 01:09:04.149 align:start position:0%
for a second there you know log right
here's<01:09:02.719><c> log</c><01:09:02.960><c> right</c><01:09:03.120><c> again</c>

01:09:04.149 --> 01:09:04.159 align:start position:0%
here's log right again
 

01:09:04.159 --> 01:09:07.430 align:start position:0%
here's log right again
and<01:09:04.400><c> here</c><01:09:04.640><c> we</c><01:09:04.799><c> see</c><01:09:05.600><c> this</c><01:09:05.839><c> call</c><01:09:06.000><c> to</c><01:09:06.159><c> bpin</c>

01:09:07.430 --> 01:09:07.440 align:start position:0%
and here we see this call to bpin
 

01:09:07.440 --> 01:09:11.430 align:start position:0%
and here we see this call to bpin
and<01:09:07.600><c> what</c><01:09:07.759><c> do</c><01:09:07.920><c> you</c><01:09:08.000><c> think</c><01:09:08.159><c> bpin</c><01:09:08.560><c> does</c>

01:09:11.430 --> 01:09:11.440 align:start position:0%
 
 

01:09:11.440 --> 01:09:16.550 align:start position:0%
 
name<01:09:11.679><c> sort</c><01:09:11.839><c> of</c><01:09:12.000><c> indicates</c><01:09:12.480><c> it</c>

01:09:16.550 --> 01:09:16.560 align:start position:0%
 
 

01:09:16.560 --> 01:09:20.630 align:start position:0%
 
it<01:09:17.279><c> pins</c><01:09:17.679><c> the</c><01:09:17.839><c> block</c><01:09:18.319><c> in</c><01:09:18.839><c> the</c>

01:09:20.630 --> 01:09:20.640 align:start position:0%
it pins the block in the
 

01:09:20.640 --> 01:09:23.510 align:start position:0%
it pins the block in the
in<01:09:20.799><c> the</c><01:09:21.120><c> cache</c><01:09:21.920><c> yeah</c><01:09:22.319><c> and</c><01:09:22.400><c> how</c><01:09:22.560><c> does</c><01:09:22.719><c> it</c><01:09:22.799><c> do</c><01:09:22.960><c> it</c>

01:09:23.510 --> 01:09:23.520 align:start position:0%
in the cache yeah and how does it do it
 

01:09:23.520 --> 01:09:24.870 align:start position:0%
in the cache yeah and how does it do it
since<01:09:23.759><c> you've</c><01:09:23.920><c> been</c><01:09:24.080><c> looking</c><01:09:24.319><c> at</c><01:09:24.400><c> this</c><01:09:24.640><c> for</c>

01:09:24.870 --> 01:09:24.880 align:start position:0%
since you've been looking at this for
 

01:09:24.880 --> 01:09:25.269 align:start position:0%
since you've been looking at this for
your

01:09:25.269 --> 01:09:25.279 align:start position:0%
your
 

01:09:25.279 --> 01:09:28.789 align:start position:0%
your
current<01:09:25.600><c> lab</c><01:09:26.400><c> extensively</c>

01:09:28.789 --> 01:09:28.799 align:start position:0%
current lab extensively
 

01:09:28.799 --> 01:09:31.510 align:start position:0%
current lab extensively
what<01:09:28.960><c> do</c><01:09:28.960><c> you</c><01:09:29.040><c> think</c><01:09:29.279><c> it</c><01:09:29.359><c> does</c><01:09:30.719><c> so</c><01:09:30.880><c> without</c><01:09:31.359><c> you</c>

01:09:31.510 --> 01:09:31.520 align:start position:0%
what do you think it does so without you
 

01:09:31.520 --> 01:09:32.550 align:start position:0%
what do you think it does so without you
know<01:09:31.600><c> we</c><01:09:31.679><c> could</c><01:09:31.759><c> look</c><01:09:31.920><c> up</c><01:09:32.000><c> the</c><01:09:32.080><c> implementation</c>

01:09:32.550 --> 01:09:32.560 align:start position:0%
know we could look up the implementation
 

01:09:32.560 --> 01:09:34.070 align:start position:0%
know we could look up the implementation
with<01:09:32.719><c> b</c><01:09:32.880><c> pin</c><01:09:33.120><c> but</c><01:09:33.279><c> we</c><01:09:33.359><c> can</c><01:09:33.520><c> also</c><01:09:33.679><c> guess</c>

01:09:34.070 --> 01:09:34.080 align:start position:0%
with b pin but we can also guess
 

01:09:34.080 --> 01:09:39.910 align:start position:0%
with b pin but we can also guess
what<01:09:34.239><c> it</c><01:09:34.319><c> does</c>

01:09:39.910 --> 01:09:39.920 align:start position:0%
 
 

01:09:39.920 --> 01:09:41.910 align:start position:0%
 
doesn't<01:09:40.159><c> it</c><01:09:40.319><c> essentially</c><01:09:40.719><c> just</c><01:09:40.960><c> make</c><01:09:41.199><c> it</c><01:09:41.759><c> so</c>

01:09:41.910 --> 01:09:41.920 align:start position:0%
doesn't it essentially just make it so
 

01:09:41.920 --> 01:09:43.189 align:start position:0%
doesn't it essentially just make it so
that<01:09:42.080><c> it</c><01:09:42.159><c> doesn't</c><01:09:42.400><c> get</c><01:09:42.640><c> evicted</c>

01:09:43.189 --> 01:09:43.199 align:start position:0%
that it doesn't get evicted
 

01:09:43.199 --> 01:09:45.269 align:start position:0%
that it doesn't get evicted
by<01:09:43.440><c> increasing</c><01:09:43.839><c> the</c><01:09:43.920><c> ref</c><01:09:44.239><c> count</c><01:09:44.719><c> yeah</c><01:09:44.880><c> exactly</c>

01:09:45.269 --> 01:09:45.279 align:start position:0%
by increasing the ref count yeah exactly
 

01:09:45.279 --> 01:09:46.309 align:start position:0%
by increasing the ref count yeah exactly
this<01:09:45.440><c> is</c><01:09:45.520><c> all</c><01:09:45.600><c> living</c><01:09:45.839><c> a</c><01:09:45.920><c> dash</c>

01:09:46.309 --> 01:09:46.319 align:start position:0%
this is all living a dash
 

01:09:46.319 --> 01:09:47.829 align:start position:0%
this is all living a dash
deep<01:09:46.560><c> interest</c><01:09:46.960><c> increases</c><01:09:47.359><c> the</c><01:09:47.440><c> ref</c><01:09:47.600><c> count</c>

01:09:47.829 --> 01:09:47.839 align:start position:0%
deep interest increases the ref count
 

01:09:47.839 --> 01:09:49.510 align:start position:0%
deep interest increases the ref count
and<01:09:47.920><c> we</c><01:09:48.080><c> know</c><01:09:48.319><c> from</c><01:09:48.480><c> the</c><01:09:48.799><c> b</c><01:09:48.960><c> cache</c><01:09:49.279><c> code</c>

01:09:49.510 --> 01:09:49.520 align:start position:0%
and we know from the b cache code
 

01:09:49.520 --> 01:09:50.470 align:start position:0%
and we know from the b cache code
correct<01:09:49.839><c> that</c>

01:09:50.470 --> 01:09:50.480 align:start position:0%
correct that
 

01:09:50.480 --> 01:09:53.269 align:start position:0%
correct that
uh<01:09:50.960><c> evict</c><01:09:51.440><c> won't</c><01:09:52.239><c> evict</c><01:09:52.560><c> any</c><01:09:52.799><c> blocks</c><01:09:53.040><c> we</c><01:09:53.199><c> have</c>

01:09:53.269 --> 01:09:53.279 align:start position:0%
uh evict won't evict any blocks we have
 

01:09:53.279 --> 01:09:56.310 align:start position:0%
uh evict won't evict any blocks we have
a<01:09:53.359><c> recount</c><01:09:53.679><c> higher</c><01:09:53.920><c> than</c><01:09:54.159><c> zero</c>

01:09:56.310 --> 01:09:56.320 align:start position:0%
a recount higher than zero
 

01:09:56.320 --> 01:09:59.110 align:start position:0%
a recount higher than zero
and<01:09:56.480><c> so</c><01:09:56.640><c> presumably</c><01:09:57.120><c> somewhere</c><01:09:57.520><c> later</c><01:09:57.920><c> in</c><01:09:58.159><c> uh</c>

01:09:59.110 --> 01:09:59.120 align:start position:0%
and so presumably somewhere later in uh
 

01:09:59.120 --> 01:10:00.390 align:start position:0%
and so presumably somewhere later in uh
logging<01:09:59.440><c> code</c><01:09:59.760><c> you</c><01:09:59.920><c> know</c><01:10:00.080><c> when</c>

01:10:00.390 --> 01:10:00.400 align:start position:0%
logging code you know when
 

01:10:00.400 --> 01:10:02.310 align:start position:0%
logging code you know when
once<01:10:00.880><c> actually</c><01:10:01.280><c> everything</c><01:10:01.679><c> is</c><01:10:01.840><c> logged</c><01:10:02.239><c> you</c>

01:10:02.310 --> 01:10:02.320 align:start position:0%
once actually everything is logged you
 

01:10:02.320 --> 01:10:04.149 align:start position:0%
once actually everything is logged you
know<01:10:02.480><c> we</c><01:10:02.560><c> can</c><01:10:02.640><c> actually</c><01:10:03.360><c> unpin</c>

01:10:04.149 --> 01:10:04.159 align:start position:0%
know we can actually unpin
 

01:10:04.159 --> 01:10:07.189 align:start position:0%
know we can actually unpin
the<01:10:04.320><c> block</c><01:10:04.719><c> right</c><01:10:06.480><c> okay</c><01:10:06.719><c> so</c><01:10:06.800><c> that's</c><01:10:07.040><c> one</c>

01:10:07.189 --> 01:10:07.199 align:start position:0%
the block right okay so that's one
 

01:10:07.199 --> 01:10:08.709 align:start position:0%
the block right okay so that's one
complication<01:10:07.760><c> so</c><01:10:07.920><c> we</c><01:10:08.080><c> have</c><01:10:08.159><c> this</c><01:10:08.320><c> pinning</c><01:10:08.560><c> and</c>

01:10:08.709 --> 01:10:08.719 align:start position:0%
complication so we have this pinning and
 

01:10:08.719 --> 01:10:11.270 align:start position:0%
complication so we have this pinning and
unpinning<01:10:09.199><c> going</c><01:10:09.440><c> on</c>

01:10:11.270 --> 01:10:11.280 align:start position:0%
unpinning going on
 

01:10:11.280 --> 01:10:15.430 align:start position:0%
unpinning going on
um<01:10:12.400><c> let's</c><01:10:12.560><c> look</c><01:10:12.800><c> at</c><01:10:12.880><c> the</c><01:10:12.960><c> other</c><01:10:13.280><c> complication</c>

01:10:15.430 --> 01:10:15.440 align:start position:0%
um let's look at the other complication
 

01:10:15.440 --> 01:10:29.910 align:start position:0%
um let's look at the other complication
uh

01:10:29.910 --> 01:10:29.920 align:start position:0%
 
 

01:10:29.920 --> 01:10:33.350 align:start position:0%
 
and<01:10:30.159><c> the</c><01:10:30.320><c> file</c><01:10:30.560><c> system</c><01:10:30.880><c> operations</c><01:10:32.719><c> must</c><01:10:33.040><c> fit</c>

01:10:33.350 --> 01:10:33.360 align:start position:0%
and the file system operations must fit
 

01:10:33.360 --> 01:10:41.270 align:start position:0%
and the file system operations must fit
in<01:10:33.600><c> log</c>

01:10:41.270 --> 01:10:41.280 align:start position:0%
 
 

01:10:41.280 --> 01:10:42.790 align:start position:0%
 
you<01:10:41.360><c> know</c><01:10:41.600><c> if</c><01:10:41.679><c> you</c><01:10:41.920><c> see</c><01:10:42.080><c> if</c><01:10:42.239><c> we</c><01:10:42.320><c> go</c><01:10:42.480><c> back</c><01:10:42.560><c> to</c><01:10:42.719><c> our</c>

01:10:42.790 --> 01:10:42.800 align:start position:0%
you know if you see if we go back to our
 

01:10:42.800 --> 01:10:44.630 align:start position:0%
you know if you see if we go back to our
picture<01:10:43.199><c> here</c><01:10:43.520><c> or</c><01:10:43.760><c> actually</c><01:10:44.080><c> maybe</c><01:10:44.400><c> this</c><01:10:44.560><c> is</c>

01:10:44.630 --> 01:10:44.640 align:start position:0%
picture here or actually maybe this is
 

01:10:44.640 --> 01:10:46.149 align:start position:0%
picture here or actually maybe this is
the<01:10:44.719><c> better</c><01:10:44.960><c> picture</c>

01:10:46.149 --> 01:10:46.159 align:start position:0%
the better picture
 

01:10:46.159 --> 01:10:53.430 align:start position:0%
the better picture
how<01:10:46.320><c> big</c><01:10:46.480><c> is</c><01:10:46.640><c> the</c><01:10:46.719><c> log</c><01:10:47.040><c> in</c><01:10:47.280><c> xv6</c>

01:10:53.430 --> 01:10:53.440 align:start position:0%
 
 

01:10:53.440 --> 01:10:57.110 align:start position:0%
 
30<01:10:53.840><c> blocks</c><01:10:54.560><c> yeah</c><01:10:54.719><c> 30</c><01:10:55.040><c> blocks</c><01:10:55.360><c> 42-2</c>

01:10:57.110 --> 01:10:57.120 align:start position:0%
30 blocks yeah 30 blocks 42-2
 

01:10:57.120 --> 01:11:00.709 align:start position:0%
30 blocks yeah 30 blocks 42-2
so<01:10:57.440><c> you</c><01:10:57.600><c> know</c><01:10:57.760><c> the</c><01:10:57.920><c> max</c><01:10:58.159><c> size</c><01:10:59.360><c> max</c><01:10:59.760><c> log</c><01:11:00.000><c> size</c><01:11:00.480><c> is</c>

01:11:00.709 --> 01:11:00.719 align:start position:0%
so you know the max size max log size is
 

01:11:00.719 --> 01:11:03.830 align:start position:0%
so you know the max size max log size is
30.

01:11:03.830 --> 01:11:03.840 align:start position:0%
 
 

01:11:03.840 --> 01:11:05.669 align:start position:0%
 
of<01:11:03.920><c> course</c><01:11:04.080><c> we</c><01:11:04.320><c> could</c><01:11:04.480><c> bump</c><01:11:04.719><c> it</c><01:11:04.880><c> up</c><01:11:05.280><c> and</c><01:11:05.520><c> you</c>

01:11:05.669 --> 01:11:05.679 align:start position:0%
of course we could bump it up and you
 

01:11:05.679 --> 01:11:07.510 align:start position:0%
of course we could bump it up and you
know<01:11:06.159><c> real</c><01:11:06.400><c> file</c><01:11:06.560><c> system</c><01:11:06.880><c> runs</c><01:11:07.040><c> with</c><01:11:07.199><c> a</c><01:11:07.280><c> much</c>

01:11:07.510 --> 01:11:07.520 align:start position:0%
know real file system runs with a much
 

01:11:07.520 --> 01:11:08.229 align:start position:0%
know real file system runs with a much
bigger<01:11:07.760><c> log</c>

01:11:08.229 --> 01:11:08.239 align:start position:0%
bigger log
 

01:11:08.239 --> 01:11:10.070 align:start position:0%
bigger log
but<01:11:08.400><c> it</c><01:11:08.480><c> doesn't</c><01:11:08.640><c> really</c><01:11:08.880><c> matter</c><01:11:09.679><c> no</c><01:11:09.840><c> matter</c>

01:11:10.070 --> 01:11:10.080 align:start position:0%
but it doesn't really matter no matter
 

01:11:10.080 --> 01:11:12.070 align:start position:0%
but it doesn't really matter no matter
what<01:11:10.640><c> it</c><01:11:10.800><c> has</c><01:11:11.040><c> to</c><01:11:11.199><c> be</c><01:11:11.280><c> the</c><01:11:11.440><c> case</c><01:11:11.679><c> correct</c><01:11:11.920><c> that</c>

01:11:12.070 --> 01:11:12.080 align:start position:0%
what it has to be the case correct that
 

01:11:12.080 --> 01:11:14.470 align:start position:0%
what it has to be the case correct that
the<01:11:12.159><c> file</c><01:11:12.320><c> system</c><01:11:12.640><c> operation</c><01:11:13.120><c> must</c><01:11:13.360><c> fit</c><01:11:13.679><c> in</c><01:11:13.840><c> 30</c>

01:11:14.470 --> 01:11:14.480 align:start position:0%
the file system operation must fit in 30
 

01:11:14.480 --> 01:11:16.870 align:start position:0%
the file system operation must fit in 30
blocks<01:11:15.920><c> because</c><01:11:16.159><c> if</c><01:11:16.320><c> a</c><01:11:16.400><c> file</c><01:11:16.560><c> system</c>

01:11:16.870 --> 01:11:16.880 align:start position:0%
blocks because if a file system
 

01:11:16.880 --> 01:11:18.470 align:start position:0%
blocks because if a file system
operation<01:11:17.280><c> would</c><01:11:17.440><c> try</c><01:11:17.600><c> to</c><01:11:17.679><c> write</c><01:11:17.920><c> more</c><01:11:18.080><c> to</c><01:11:18.159><c> 30</c>

01:11:18.470 --> 01:11:18.480 align:start position:0%
operation would try to write more to 30
 

01:11:18.480 --> 01:11:19.270 align:start position:0%
operation would try to write more to 30
blocks

01:11:19.270 --> 01:11:19.280 align:start position:0%
blocks
 

01:11:19.280 --> 01:11:20.709 align:start position:0%
blocks
that<01:11:19.440><c> means</c><01:11:19.679><c> we</c><01:11:19.840><c> would</c><01:11:20.080><c> have</c><01:11:20.159><c> to</c><01:11:20.320><c> spill</c>

01:11:20.709 --> 01:11:20.719 align:start position:0%
that means we would have to spill
 

01:11:20.719 --> 01:11:22.390 align:start position:0%
that means we would have to spill
something<01:11:21.120><c> to</c><01:11:21.280><c> the</c><01:11:21.360><c> on</c><01:11:21.600><c> disk</c><01:11:21.840><c> location</c><01:11:22.320><c> and</c>

01:11:22.390 --> 01:11:22.400 align:start position:0%
something to the on disk location and
 

01:11:22.400 --> 01:11:23.590 align:start position:0%
something to the on disk location and
we're<01:11:22.560><c> not</c><01:11:22.719><c> allowed</c><01:11:22.960><c> to</c><01:11:23.040><c> do</c><01:11:23.120><c> that</c><01:11:23.360><c> right</c>

01:11:23.590 --> 01:11:23.600 align:start position:0%
we're not allowed to do that right
 

01:11:23.600 --> 01:11:24.709 align:start position:0%
we're not allowed to do that right
because<01:11:23.840><c> that</c><01:11:24.000><c> would</c><01:11:24.080><c> violate</c><01:11:24.480><c> the</c><01:11:24.560><c> right</c>

01:11:24.709 --> 01:11:24.719 align:start position:0%
because that would violate the right
 

01:11:24.719 --> 01:11:26.149 align:start position:0%
because that would violate the right
ahead<01:11:25.040><c> rule</c><01:11:25.280><c> again</c>

01:11:26.149 --> 01:11:26.159 align:start position:0%
ahead rule again
 

01:11:26.159 --> 01:11:27.750 align:start position:0%
ahead rule again
so<01:11:26.320><c> it</c><01:11:26.480><c> has</c><01:11:26.640><c> to</c><01:11:26.719><c> be</c><01:11:26.880><c> the</c><01:11:26.960><c> case</c><01:11:27.199><c> that</c><01:11:27.360><c> every</c><01:11:27.520><c> file</c>

01:11:27.750 --> 01:11:27.760 align:start position:0%
so it has to be the case that every file
 

01:11:27.760 --> 01:11:31.189 align:start position:0%
so it has to be the case that every file
system<01:11:28.080><c> operation</c><01:11:28.480><c> fits</c><01:11:28.719><c> into</c><01:11:28.960><c> the</c><01:11:29.120><c> log</c>

01:11:31.189 --> 01:11:31.199 align:start position:0%
system operation fits into the log
 

01:11:31.199 --> 01:11:34.870 align:start position:0%
system operation fits into the log
does<01:11:31.440><c> that</c><01:11:31.520><c> make</c><01:11:31.760><c> sense</c>

01:11:34.870 --> 01:11:34.880 align:start position:0%
 
 

01:11:34.880 --> 01:11:36.790 align:start position:0%
 
and<01:11:35.120><c> in</c><01:11:35.280><c> fact</c><01:11:35.520><c> you</c><01:11:35.679><c> know</c><01:11:36.159><c> how</c><01:11:36.320><c> do</c><01:11:36.400><c> you</c><01:11:36.480><c> think</c><01:11:36.640><c> we</c>

01:11:36.790 --> 01:11:36.800 align:start position:0%
and in fact you know how do you think we
 

01:11:36.800 --> 01:11:38.310 align:start position:0%
and in fact you know how do you think we
got<01:11:36.960><c> to</c><01:11:37.120><c> 32</c>

01:11:38.310 --> 01:11:38.320 align:start position:0%
got to 32
 

01:11:38.320 --> 01:11:50.550 align:start position:0%
got to 32
or<01:11:38.840><c> 30.</c>

01:11:50.550 --> 01:11:50.560 align:start position:0%
 
 

01:11:50.560 --> 01:11:52.070 align:start position:0%
 
does<01:11:50.880><c> it</c><01:11:50.960><c> have</c><01:11:51.120><c> to</c><01:11:51.199><c> do</c><01:11:51.440><c> anything</c><01:11:51.760><c> with</c><01:11:51.920><c> how</c>

01:11:52.070 --> 01:11:52.080 align:start position:0%
does it have to do anything with how
 

01:11:52.080 --> 01:11:54.950 align:start position:0%
does it have to do anything with how
many<01:11:52.400><c> blocks</c><01:11:52.880><c> actually</c><01:11:53.360><c> fit</c>

01:11:54.950 --> 01:11:54.960 align:start position:0%
many blocks actually fit
 

01:11:54.960 --> 01:11:55.910 align:start position:0%
many blocks actually fit
you<01:11:55.120><c> know</c><01:11:55.199><c> we're</c><01:11:55.360><c> another</c><01:11:55.600><c> way</c><01:11:55.679><c> to</c><01:11:55.760><c> find</c>

01:11:55.910 --> 01:11:55.920 align:start position:0%
you know we're another way to find
 

01:11:55.920 --> 01:11:58.070 align:start position:0%
you know we're another way to find
because<01:11:56.800><c> basically</c>

01:11:58.070 --> 01:11:58.080 align:start position:0%
because basically
 

01:11:58.080 --> 01:12:00.550 align:start position:0%
because basically
how<01:11:58.239><c> many</c><01:11:58.719><c> blocks</c><01:11:59.120><c> does</c><01:11:59.760><c> what</c><01:12:00.000><c> is</c><01:12:00.080><c> the</c><01:12:00.159><c> maximum</c>

01:12:00.550 --> 01:12:00.560 align:start position:0%
how many blocks does what is the maximum
 

01:12:00.560 --> 01:12:01.750 align:start position:0%
how many blocks does what is the maximum
number<01:12:00.800><c> of</c><01:12:00.880><c> blocks</c><01:12:01.120><c> correct</c><01:12:01.360><c> that</c><01:12:01.520><c> the</c><01:12:01.600><c> file</c>

01:12:01.750 --> 01:12:01.760 align:start position:0%
number of blocks correct that the file
 

01:12:01.760 --> 01:12:04.149 align:start position:0%
number of blocks correct that the file
system<01:12:02.159><c> operation</c><01:12:02.480><c> could</c><01:12:02.719><c> write</c>

01:12:04.149 --> 01:12:04.159 align:start position:0%
system operation could write
 

01:12:04.159 --> 01:12:06.149 align:start position:0%
system operation could write
and<01:12:04.320><c> that</c><01:12:04.560><c> is</c><01:12:04.640><c> really</c><01:12:04.880><c> what</c><01:12:05.040><c> the</c><01:12:05.679><c> this</c><01:12:05.840><c> number</c>

01:12:06.149 --> 01:12:06.159 align:start position:0%
and that is really what the this number
 

01:12:06.159 --> 01:12:08.790 align:start position:0%
and that is really what the this number
30<01:12:07.120><c> has</c><01:12:07.360><c> to</c><01:12:07.440><c> be</c><01:12:07.920><c> definitely</c><01:12:08.320><c> bigger</c>

01:12:08.790 --> 01:12:08.800 align:start position:0%
30 has to be definitely bigger
 

01:12:08.800 --> 01:12:11.270 align:start position:0%
30 has to be definitely bigger
than<01:12:09.040><c> any</c><01:12:10.000><c> you</c><01:12:10.080><c> know</c><01:12:10.239><c> the</c><01:12:10.400><c> max</c><01:12:10.880><c> number</c><01:12:11.120><c> of</c>

01:12:11.270 --> 01:12:11.280 align:start position:0%
than any you know the max number of
 

01:12:11.280 --> 01:12:14.790 align:start position:0%
than any you know the max number of
blocks

01:12:14.790 --> 01:12:14.800 align:start position:0%
 
 

01:12:14.800 --> 01:12:20.830 align:start position:0%
 
the<01:12:15.040><c> file</c><01:12:15.360><c> system</c><01:12:15.920><c> operation</c>

01:12:20.830 --> 01:12:20.840 align:start position:0%
 
 

01:12:20.840 --> 01:12:26.470 align:start position:0%
 
right

01:12:26.470 --> 01:12:26.480 align:start position:0%
 
 

01:12:26.480 --> 01:12:28.550 align:start position:0%
 
and<01:12:26.640><c> so</c><01:12:26.880><c> in</c><01:12:26.960><c> fact</c><01:12:27.199><c> we</c><01:12:27.280><c> know</c><01:12:27.920><c> robert</c><01:12:28.159><c> and</c><01:12:28.239><c> i</c><01:12:28.400><c> did</c>

01:12:28.550 --> 01:12:28.560 align:start position:0%
and so in fact we know robert and i did
 

01:12:28.560 --> 01:12:29.669 align:start position:0%
and so in fact we know robert and i did
because<01:12:28.719><c> we</c><01:12:28.960><c> went</c><01:12:29.120><c> through</c><01:12:29.280><c> all</c><01:12:29.360><c> the</c><01:12:29.440><c> file</c>

01:12:29.669 --> 01:12:29.679 align:start position:0%
because we went through all the file
 

01:12:29.679 --> 01:12:31.430 align:start position:0%
because we went through all the file
system<01:12:29.920><c> operations</c><01:12:30.400><c> looked</c><01:12:30.640><c> at</c><01:12:30.719><c> them</c><01:12:31.040><c> and</c><01:12:31.280><c> you</c>

01:12:31.430 --> 01:12:31.440 align:start position:0%
system operations looked at them and you
 

01:12:31.440 --> 01:12:32.709 align:start position:0%
system operations looked at them and you
know<01:12:31.520><c> decided</c><01:12:32.000><c> whether</c>

01:12:32.709 --> 01:12:32.719 align:start position:0%
know decided whether
 

01:12:32.719 --> 01:12:34.390 align:start position:0%
know decided whether
uh<01:12:32.960><c> what</c><01:12:33.199><c> sort</c><01:12:33.360><c> of</c><01:12:33.440><c> the</c><01:12:33.600><c> maximum</c><01:12:33.920><c> number</c><01:12:34.159><c> is</c>

01:12:34.390 --> 01:12:34.400 align:start position:0%
uh what sort of the maximum number is
 

01:12:34.400 --> 01:12:35.669 align:start position:0%
uh what sort of the maximum number is
and<01:12:34.560><c> it</c><01:12:34.640><c> turns</c><01:12:34.880><c> out</c><01:12:34.960><c> the</c><01:12:35.199><c> action</c><01:12:35.440><c> number</c><01:12:35.600><c> is</c>

01:12:35.669 --> 01:12:35.679 align:start position:0%
and it turns out the action number is
 

01:12:35.679 --> 01:12:37.350 align:start position:0%
and it turns out the action number is
much<01:12:35.920><c> lower</c><01:12:36.239><c> than</c><01:12:36.400><c> the</c><01:12:36.560><c> 30</c>

01:12:37.350 --> 01:12:37.360 align:start position:0%
much lower than the 30
 

01:12:37.360 --> 01:12:39.110 align:start position:0%
much lower than the 30
uh<01:12:37.679><c> but</c><01:12:37.840><c> you</c><01:12:38.000><c> know</c><01:12:38.159><c> there</c><01:12:38.320><c> we'll</c><01:12:38.560><c> see</c><01:12:38.880><c> in</c><01:12:39.040><c> a</c>

01:12:39.110 --> 01:12:39.120 align:start position:0%
uh but you know there we'll see in a
 

01:12:39.120 --> 01:12:40.310 align:start position:0%
uh but you know there we'll see in a
second<01:12:39.360><c> there's</c><01:12:39.600><c> a</c><01:12:39.679><c> couple</c><01:12:39.920><c> interesting</c>

01:12:40.310 --> 01:12:40.320 align:start position:0%
second there's a couple interesting
 

01:12:40.320 --> 01:12:41.590 align:start position:0%
second there's a couple interesting
complications

01:12:41.590 --> 01:12:41.600 align:start position:0%
complications
 

01:12:41.600 --> 01:12:43.910 align:start position:0%
complications
um<01:12:42.719><c> like</c><01:12:42.960><c> for</c><01:12:43.040><c> example</c><01:12:43.360><c> the</c><01:12:43.440><c> operation</c><01:12:43.840><c> that</c>

01:12:43.910 --> 01:12:43.920 align:start position:0%
um like for example the operation that
 

01:12:43.920 --> 01:12:45.590 align:start position:0%
um like for example the operation that
we<01:12:44.080><c> look</c><01:12:44.239><c> so</c><01:12:44.400><c> far</c><01:12:44.719><c> like</c><01:12:44.960><c> creating</c><01:12:45.199><c> a</c><01:12:45.360><c> file</c>

01:12:45.590 --> 01:12:45.600 align:start position:0%
we look so far like creating a file
 

01:12:45.600 --> 01:12:47.189 align:start position:0%
we look so far like creating a file
correct<01:12:45.920><c> is</c><01:12:46.000><c> only</c><01:12:46.159><c> a</c><01:12:46.239><c> handful</c><01:12:46.560><c> of</c><01:12:46.719><c> blocks</c>

01:12:47.189 --> 01:12:47.199 align:start position:0%
correct is only a handful of blocks
 

01:12:47.199 --> 01:12:48.630 align:start position:0%
correct is only a handful of blocks
you<01:12:47.280><c> know</c><01:12:47.440><c> the</c><01:12:47.520><c> file</c><01:12:47.760><c> system</c><01:12:48.080><c> operation</c><01:12:48.480><c> is</c>

01:12:48.630 --> 01:12:48.640 align:start position:0%
you know the file system operation is
 

01:12:48.640 --> 01:12:51.350 align:start position:0%
you know the file system operation is
like<01:12:48.800><c> five</c><01:12:49.040><c> blocks</c><01:12:49.840><c> in</c><01:12:50.080><c> fact</c><01:12:50.320><c> most</c>

01:12:51.350 --> 01:12:51.360 align:start position:0%
like five blocks in fact most
 

01:12:51.360 --> 01:12:53.430 align:start position:0%
like five blocks in fact most
operations<01:12:52.000><c> are</c><01:12:52.640><c> you</c><01:12:52.719><c> know</c><01:12:52.880><c> a</c><01:12:52.960><c> handful</c><01:12:53.280><c> of</c>

01:12:53.430 --> 01:12:53.440 align:start position:0%
operations are you know a handful of
 

01:12:53.440 --> 01:12:54.709 align:start position:0%
operations are you know a handful of
blocks<01:12:53.760><c> not</c><01:12:54.000><c> that</c><01:12:54.159><c> many</c>

01:12:54.709 --> 01:12:54.719 align:start position:0%
blocks not that many
 

01:12:54.719 --> 01:12:56.149 align:start position:0%
blocks not that many
can<01:12:54.880><c> you</c><01:12:54.960><c> think</c><01:12:55.120><c> of</c><01:12:55.280><c> any</c><01:12:55.440><c> operations</c><01:12:55.920><c> that</c>

01:12:56.149 --> 01:12:56.159 align:start position:0%
can you think of any operations that
 

01:12:56.159 --> 01:13:13.830 align:start position:0%
can you think of any operations that
might<01:12:56.480><c> write</c><01:12:56.719><c> many</c><01:12:57.040><c> many</c><01:12:57.280><c> many</c><01:13:02.840><c> blocks</c>

01:13:13.830 --> 01:13:13.840 align:start position:0%
 
 

01:13:13.840 --> 01:13:16.229 align:start position:0%
 
right<01:13:14.080><c> on</c><01:13:14.239><c> a</c><01:13:14.320><c> huge</c><01:13:14.640><c> file</c><01:13:15.520><c> yeah</c><01:13:15.760><c> write</c><01:13:15.920><c> a</c><01:13:16.000><c> huge</c>

01:13:16.229 --> 01:13:16.239 align:start position:0%
right on a huge file yeah write a huge
 

01:13:16.239 --> 01:13:18.950 align:start position:0%
right on a huge file yeah write a huge
file<01:13:16.640><c> right</c><01:13:16.840><c> so</c><01:13:17.760><c> uh</c><01:13:18.000><c> what</c><01:13:18.239><c> what</c><01:13:18.400><c> if</c><01:13:18.560><c> we</c>

01:13:18.950 --> 01:13:18.960 align:start position:0%
file right so uh what what if we
 

01:13:18.960 --> 01:13:21.110 align:start position:0%
file right so uh what what if we
you<01:13:19.120><c> know</c><01:13:19.440><c> uh</c><01:13:19.920><c> called</c><01:13:20.159><c> the</c><01:13:20.239><c> right</c><01:13:20.400><c> system</c><01:13:20.800><c> call</c>

01:13:21.110 --> 01:13:21.120 align:start position:0%
you know uh called the right system call
 

01:13:21.120 --> 01:13:22.709 align:start position:0%
you know uh called the right system call
and<01:13:21.280><c> we</c><01:13:21.440><c> pass</c><01:13:21.679><c> it</c><01:13:21.760><c> to</c><01:13:21.840><c> buffer</c><01:13:22.239><c> with</c><01:13:22.480><c> like</c><01:13:22.640><c> a</c>

01:13:22.709 --> 01:13:22.719 align:start position:0%
and we pass it to buffer with like a
 

01:13:22.719 --> 01:13:24.790 align:start position:0%
and we pass it to buffer with like a
megabyte<01:13:23.199><c> of</c><01:13:23.280><c> data</c>

01:13:24.790 --> 01:13:24.800 align:start position:0%
megabyte of data
 

01:13:24.800 --> 01:13:27.350 align:start position:0%
megabyte of data
like<01:13:24.960><c> a</c><01:13:25.040><c> thousand</c><01:13:25.440><c> blocks</c><01:13:26.880><c> it</c><01:13:27.040><c> seems</c><01:13:27.199><c> like</c>

01:13:27.350 --> 01:13:27.360 align:start position:0%
like a thousand blocks it seems like
 

01:13:27.360 --> 01:13:29.030 align:start position:0%
like a thousand blocks it seems like
we're<01:13:27.520><c> being</c><01:13:27.760><c> serious</c><01:13:28.159><c> trouble</c><01:13:28.480><c> right</c>

01:13:29.030 --> 01:13:29.040 align:start position:0%
we're being serious trouble right
 

01:13:29.040 --> 01:13:31.030 align:start position:0%
we're being serious trouble right
it<01:13:29.280><c> would</c><01:13:29.440><c> violate</c><01:13:30.000><c> you</c><01:13:30.159><c> know</c><01:13:30.320><c> this</c><01:13:30.840><c> maximum</c>

01:13:31.030 --> 01:13:31.040 align:start position:0%
it would violate you know this maximum
 

01:13:31.040 --> 01:13:33.430 align:start position:0%
it would violate you know this maximum
rule<01:13:31.920><c> and</c><01:13:32.080><c> so</c>

01:13:33.430 --> 01:13:33.440 align:start position:0%
rule and so
 

01:13:33.440 --> 01:13:43.430 align:start position:0%
rule and so
let's<01:13:33.679><c> look</c><01:13:33.920><c> at</c><01:13:35.679><c> right</c>

01:13:43.430 --> 01:13:43.440 align:start position:0%
 
 

01:13:43.440 --> 01:13:47.910 align:start position:0%
 
it's<01:13:43.600><c> just</c><01:13:44.840><c> right</c>

01:13:47.910 --> 01:13:47.920 align:start position:0%
 
 

01:13:47.920 --> 01:13:50.390 align:start position:0%
 
this<01:13:48.159><c> is</c><01:13:48.320><c> right</c><01:13:48.560><c> it</c><01:13:48.640><c> calls</c><01:13:48.960><c> file</c><01:13:49.280><c> right</c><01:13:50.080><c> so</c>

01:13:50.390 --> 01:13:50.400 align:start position:0%
this is right it calls file right so
 

01:13:50.400 --> 01:13:52.229 align:start position:0%
this is right it calls file right so
let's<01:13:50.640><c> see</c><01:13:50.880><c> it's</c><01:13:51.120><c> a</c><01:13:51.199><c> file</c><01:13:51.520><c> right</c>

01:13:52.229 --> 01:13:52.239 align:start position:0%
let's see it's a file right
 

01:13:52.239 --> 01:13:55.669 align:start position:0%
let's see it's a file right
so<01:13:52.400><c> here's</c><01:13:52.640><c> file</c><01:13:52.960><c> right</c><01:13:54.159><c> um</c><01:13:54.800><c> okay</c><01:13:55.040><c> so</c><01:13:55.199><c> here's</c><01:13:55.440><c> a</c>

01:13:55.669 --> 01:13:55.679 align:start position:0%
so here's file right um okay so here's a
 

01:13:55.679 --> 01:13:57.350 align:start position:0%
so here's file right um okay so here's a
there's<01:13:55.920><c> an</c><01:13:56.080><c> eye</c><01:13:56.159><c> node</c><01:13:56.480><c> a</c><01:13:56.560><c> file</c><01:13:56.719><c> descriptor</c><01:13:57.199><c> i</c>

01:13:57.350 --> 01:13:57.360 align:start position:0%
there's an eye node a file descriptor i
 

01:13:57.360 --> 01:13:58.950 align:start position:0%
there's an eye node a file descriptor i
note<01:13:57.679><c> everything</c><01:13:58.080><c> you</c><01:13:58.159><c> see</c><01:13:58.320><c> my</c><01:13:58.480><c> code</c>

01:13:58.950 --> 01:13:58.960 align:start position:0%
note everything you see my code
 

01:13:58.960 --> 01:14:01.110 align:start position:0%
note everything you see my code
or<01:13:59.120><c> the</c><01:13:59.199><c> code</c><01:13:59.440><c> that</c><01:13:59.600><c> i</c><01:13:59.679><c> have</c><01:13:59.840><c> on</c><01:13:59.920><c> the</c><01:14:00.080><c> display</c>

01:14:01.110 --> 01:14:01.120 align:start position:0%
or the code that i have on the display
 

01:14:01.120 --> 01:14:02.310 align:start position:0%
or the code that i have on the display
and

01:14:02.310 --> 01:14:02.320 align:start position:0%
and
 

01:14:02.320 --> 01:14:09.270 align:start position:0%
and
notice<01:14:02.719><c> that</c><01:14:03.040><c> what</c><01:14:03.199><c> does</c><01:14:03.440><c> this</c><01:14:03.760><c> code</c><01:14:03.920><c> do</c>

01:14:09.270 --> 01:14:09.280 align:start position:0%
 
 

01:14:09.280 --> 01:14:10.790 align:start position:0%
 
now<01:14:09.520><c> you</c><01:14:09.600><c> can</c><01:14:09.679><c> read</c><01:14:09.840><c> the</c><01:14:10.000><c> comment</c><01:14:10.480><c> right</c><01:14:10.719><c> on</c>

01:14:10.790 --> 01:14:10.800 align:start position:0%
now you can read the comment right on
 

01:14:10.800 --> 01:14:12.550 align:start position:0%
now you can read the comment right on
top<01:14:11.199><c> you</c><01:14:11.360><c> know</c><01:14:11.520><c> here</c><01:14:11.679><c> and</c><01:14:11.920><c> that</c><01:14:12.159><c> basically</c>

01:14:12.550 --> 01:14:12.560 align:start position:0%
top you know here and that basically
 

01:14:12.560 --> 01:14:13.830 align:start position:0%
top you know here and that basically
explains<01:14:12.880><c> it</c><01:14:12.960><c> but</c><01:14:13.120><c> this</c><01:14:13.199><c> is</c><01:14:13.360><c> what</c><01:14:13.520><c> happens</c>

01:14:13.830 --> 01:14:13.840 align:start position:0%
explains it but this is what happens
 

01:14:13.840 --> 01:14:15.590 align:start position:0%
explains it but this is what happens
because<01:14:14.080><c> the</c><01:14:14.239><c> right</c><01:14:14.560><c> is</c><01:14:14.719><c> split</c>

01:14:15.590 --> 01:14:15.600 align:start position:0%
because the right is split
 

01:14:15.600 --> 01:14:18.950 align:start position:0%
because the right is split
in<01:14:15.760><c> many</c><01:14:16.080><c> number</c><01:14:16.400><c> smaller</c><01:14:16.800><c> rights</c>

01:14:18.950 --> 01:14:18.960 align:start position:0%
in many number smaller rights
 

01:14:18.960 --> 01:14:21.430 align:start position:0%
in many number smaller rights
so<01:14:19.920><c> what</c><01:14:20.080><c> really</c><01:14:20.400><c> is</c><01:14:20.480><c> going</c><01:14:20.719><c> on</c><01:14:20.880><c> here</c><01:14:21.120><c> correct</c>

01:14:21.430 --> 01:14:21.440 align:start position:0%
so what really is going on here correct
 

01:14:21.440 --> 01:14:25.110 align:start position:0%
so what really is going on here correct
is<01:14:21.520><c> we're</c><01:14:21.679><c> ensuring</c><01:14:22.320><c> that</c><01:14:22.640><c> the</c>

01:14:25.110 --> 01:14:25.120 align:start position:0%
 
 

01:14:25.120 --> 01:14:28.070 align:start position:0%
 
whole<01:14:25.360><c> right</c><01:14:25.600><c> as</c><01:14:25.760><c> a</c><01:14:25.840><c> whole</c><01:14:26.239><c> is</c><01:14:26.480><c> not</c><01:14:27.120><c> uh</c><01:14:27.440><c> atomic</c>

01:14:28.070 --> 01:14:28.080 align:start position:0%
whole right as a whole is not uh atomic
 

01:14:28.080 --> 01:14:28.870 align:start position:0%
whole right as a whole is not uh atomic
but<01:14:28.239><c> that's</c><01:14:28.480><c> okay</c>

01:14:28.870 --> 01:14:28.880 align:start position:0%
but that's okay
 

01:14:28.880 --> 01:14:30.470 align:start position:0%
but that's okay
you<01:14:29.040><c> know</c><01:14:29.360><c> the</c><01:14:29.520><c> right</c><01:14:29.760><c> unix</c><01:14:30.080><c> system</c><01:14:30.320><c> called</c>

01:14:30.470 --> 01:14:30.480 align:start position:0%
you know the right unix system called
 

01:14:30.480 --> 01:14:32.550 align:start position:0%
you know the right unix system called
semantics<01:14:30.960><c> don't</c><01:14:31.440><c> require</c><01:14:31.920><c> that</c><01:14:32.159><c> actually</c>

01:14:32.550 --> 01:14:32.560 align:start position:0%
semantics don't require that actually
 

01:14:32.560 --> 01:14:33.590 align:start position:0%
semantics don't require that actually
all<01:14:32.800><c> the</c>

01:14:33.590 --> 01:14:33.600 align:start position:0%
all the
 

01:14:33.600 --> 01:14:35.430 align:start position:0%
all the
thousand<01:14:34.080><c> blocks</c><01:14:34.480><c> you</c><01:14:34.560><c> know</c><01:14:34.719><c> of</c><01:14:34.880><c> our</c><01:14:34.960><c> megabyte</c>

01:14:35.430 --> 01:14:35.440 align:start position:0%
thousand blocks you know of our megabyte
 

01:14:35.440 --> 01:14:37.189 align:start position:0%
thousand blocks you know of our megabyte
are<01:14:35.600><c> actually</c><01:14:36.080><c> written</c><01:14:36.400><c> atomically</c>

01:14:37.189 --> 01:14:37.199 align:start position:0%
are actually written atomically
 

01:14:37.199 --> 01:14:39.110 align:start position:0%
are actually written atomically
and<01:14:37.360><c> this</c><01:14:37.600><c> requires</c><01:14:38.159><c> that</c><01:14:38.320><c> we</c><01:14:38.400><c> don't</c><01:14:38.640><c> corrupt</c>

01:14:39.110 --> 01:14:39.120 align:start position:0%
and this requires that we don't corrupt
 

01:14:39.120 --> 01:14:40.950 align:start position:0%
and this requires that we don't corrupt
the<01:14:39.199><c> file</c><01:14:39.440><c> system</c><01:14:40.000><c> you</c><01:14:40.080><c> know</c><01:14:40.239><c> between</c>

01:14:40.950 --> 01:14:40.960 align:start position:0%
the file system you know between
 

01:14:40.960 --> 01:14:43.110 align:start position:0%
the file system you know between
uh<01:14:41.840><c> don't</c><01:14:42.000><c> corrupt</c><01:14:42.320><c> the</c><01:14:42.400><c> file</c><01:14:42.560><c> system</c><01:14:42.880><c> while</c>

01:14:43.110 --> 01:14:43.120 align:start position:0%
uh don't corrupt the file system while
 

01:14:43.120 --> 01:14:44.070 align:start position:0%
uh don't corrupt the file system while
doing<01:14:43.360><c> it</c>

01:14:44.070 --> 01:14:44.080 align:start position:0%
doing it
 

01:14:44.080 --> 01:14:47.110 align:start position:0%
doing it
and<01:14:44.159><c> so</c><01:14:44.400><c> basically</c><01:14:44.880><c> we</c><01:14:45.520><c> uh</c><01:14:45.840><c> you</c><01:14:46.000><c> know</c><01:14:46.159><c> xv6</c>

01:14:47.110 --> 01:14:47.120 align:start position:0%
and so basically we uh you know xv6
 

01:14:47.120 --> 01:14:49.110 align:start position:0%
and so basically we uh you know xv6
uh<01:14:47.440><c> splits</c><01:14:47.920><c> a</c><01:14:48.000><c> big</c><01:14:48.239><c> write</c><01:14:48.480><c> in</c><01:14:48.640><c> a</c><01:14:48.719><c> number</c><01:14:48.960><c> of</c>

01:14:49.110 --> 01:14:49.120 align:start position:0%
uh splits a big write in a number of
 

01:14:49.120 --> 01:14:50.630 align:start position:0%
uh splits a big write in a number of
smaller<01:14:49.520><c> writes</c><01:14:49.760><c> and</c><01:14:49.920><c> writes</c><01:14:50.239><c> them</c><01:14:50.480><c> as</c>

01:14:50.630 --> 01:14:50.640 align:start position:0%
smaller writes and writes them as
 

01:14:50.640 --> 01:14:53.030 align:start position:0%
smaller writes and writes them as
individual<01:14:51.120><c> transactions</c>

01:14:53.030 --> 01:14:53.040 align:start position:0%
individual transactions
 

01:14:53.040 --> 01:14:54.470 align:start position:0%
individual transactions
and<01:14:53.199><c> this</c><01:14:53.360><c> one</c><01:14:53.520><c> basically</c><01:14:53.840><c> ensures</c><01:14:54.239><c> that</c><01:14:54.400><c> in</c>

01:14:54.470 --> 01:14:54.480 align:start position:0%
and this one basically ensures that in
 

01:14:54.480 --> 01:14:55.990 align:start position:0%
and this one basically ensures that in
our<01:14:54.719><c> example</c><01:14:54.960><c> if</c><01:14:55.120><c> a</c><01:14:55.199><c> transaction</c><01:14:55.600><c> allocates</c>

01:14:55.990 --> 01:14:56.000 align:start position:0%
our example if a transaction allocates
 

01:14:56.000 --> 01:14:57.669 align:start position:0%
our example if a transaction allocates
an<01:14:56.239><c> a</c><01:14:56.560><c> block</c><01:14:56.880><c> number</c><01:14:57.280><c> because</c>

01:14:57.669 --> 01:14:57.679 align:start position:0%
an a block number because
 

01:14:57.679 --> 01:14:58.870 align:start position:0%
an a block number because
we<01:14:57.760><c> need</c><01:14:57.920><c> a</c><01:14:58.000><c> new</c><01:14:58.159><c> block</c><01:14:58.480><c> for</c><01:14:58.640><c> us</c><01:14:58.719><c> an</c>

01:14:58.870 --> 01:14:58.880 align:start position:0%
we need a new block for us an
 

01:14:58.880 --> 01:15:00.470 align:start position:0%
we need a new block for us an
intermediate<01:14:59.360><c> block</c><01:14:59.679><c> or</c><01:14:59.920><c> because</c><01:15:00.159><c> we</c><01:15:00.239><c> need</c><01:15:00.400><c> a</c>

01:15:00.470 --> 01:15:00.480 align:start position:0%
intermediate block or because we need a
 

01:15:00.480 --> 01:15:01.590 align:start position:0%
intermediate block or because we need a
new<01:15:00.640><c> block</c><01:15:00.880><c> because</c><01:15:01.040><c> we're</c><01:15:01.199><c> going</c><01:15:01.280><c> to</c><01:15:01.440><c> write</c>

01:15:01.590 --> 01:15:01.600 align:start position:0%
new block because we're going to write
 

01:15:01.600 --> 01:15:02.310 align:start position:0%
new block because we're going to write
to<01:15:01.760><c> it</c>

01:15:02.310 --> 01:15:02.320 align:start position:0%
to it
 

01:15:02.320 --> 01:15:04.229 align:start position:0%
to it
at<01:15:02.480><c> least</c><01:15:02.719><c> that</c><01:15:02.960><c> part</c><01:15:03.280><c> is</c><01:15:03.360><c> completely</c><01:15:03.760><c> atomic</c>

01:15:04.229 --> 01:15:04.239 align:start position:0%
at least that part is completely atomic
 

01:15:04.239 --> 01:15:06.070 align:start position:0%
at least that part is completely atomic
and<01:15:04.480><c> the</c><01:15:04.640><c> file</c><01:15:04.800><c> system</c><01:15:05.120><c> will</c><01:15:05.280><c> be</c><01:15:05.440><c> never</c><01:15:05.679><c> left</c>

01:15:06.070 --> 01:15:06.080 align:start position:0%
and the file system will be never left
 

01:15:06.080 --> 01:15:08.310 align:start position:0%
and the file system will be never left
in<01:15:06.159><c> an</c><01:15:06.320><c> incorrect</c><01:15:06.719><c> state</c><01:15:07.520><c> violating</c><01:15:08.080><c> any</c><01:15:08.239><c> of</c>

01:15:08.310 --> 01:15:08.320 align:start position:0%
in an incorrect state violating any of
 

01:15:08.320 --> 01:15:10.390 align:start position:0%
in an incorrect state violating any of
the<01:15:08.640><c> file</c><01:15:08.880><c> system</c><01:15:09.280><c> invariants</c>

01:15:10.390 --> 01:15:10.400 align:start position:0%
the file system invariants
 

01:15:10.400 --> 01:15:11.830 align:start position:0%
the file system invariants
and<01:15:10.480><c> so</c><01:15:10.640><c> the</c><01:15:10.800><c> right</c><01:15:11.040><c> is</c><01:15:11.120><c> to</c><01:15:11.280><c> split</c><01:15:11.520><c> in</c><01:15:11.600><c> many</c>

01:15:11.830 --> 01:15:11.840 align:start position:0%
and so the right is to split in many
 

01:15:11.840 --> 01:15:15.030 align:start position:0%
and so the right is to split in many
many<01:15:12.880><c> uh</c>

01:15:15.030 --> 01:15:15.040 align:start position:0%
many uh
 

01:15:15.040 --> 01:15:17.110 align:start position:0%
many uh
many<01:15:15.360><c> systems</c><01:15:15.920><c> in</c><01:15:16.000><c> many</c><01:15:16.320><c> smaller</c><01:15:16.719><c> rights</c><01:15:16.960><c> or</c>

01:15:17.110 --> 01:15:17.120 align:start position:0%
many systems in many smaller rights or
 

01:15:17.120 --> 01:15:19.430 align:start position:0%
many systems in many smaller rights or
many<01:15:17.360><c> transactions</c>

01:15:19.430 --> 01:15:19.440 align:start position:0%
many transactions
 

01:15:19.440 --> 01:15:21.990 align:start position:0%
many transactions
okay<01:15:20.480><c> in</c><01:15:20.560><c> fact</c><01:15:20.719><c> that's</c><01:15:20.960><c> the</c><01:15:21.120><c> main</c><01:15:21.440><c> one</c><01:15:21.760><c> that</c>

01:15:21.990 --> 01:15:22.000 align:start position:0%
okay in fact that's the main one that
 

01:15:22.000 --> 01:15:26.070 align:start position:0%
okay in fact that's the main one that
actually<01:15:22.400><c> is</c>

01:15:26.070 --> 01:15:26.080 align:start position:0%
 
 

01:15:26.080 --> 01:15:29.910 align:start position:0%
 
right<01:15:26.560><c> fs</c><01:15:28.000><c> split</c><01:15:28.400><c> in</c><01:15:28.560><c> many</c>

01:15:29.910 --> 01:15:29.920 align:start position:0%
right fs split in many
 

01:15:29.920 --> 01:15:37.350 align:start position:0%
right fs split in many
many<01:15:30.159><c> transactions</c>

01:15:37.350 --> 01:15:37.360 align:start position:0%
 
 

01:15:37.360 --> 01:15:43.510 align:start position:0%
 
any<01:15:37.600><c> questions</c><01:15:37.920><c> about</c><01:15:38.159><c> this</c>

01:15:43.510 --> 01:15:43.520 align:start position:0%
 
 

01:15:43.520 --> 01:15:45.350 align:start position:0%
 
and<01:15:43.679><c> note</c><01:15:44.000><c> because</c><01:15:44.239><c> you</c><01:15:44.400><c> know</c><01:15:44.560><c> things</c><01:15:44.800><c> are</c>

01:15:45.350 --> 01:15:45.360 align:start position:0%
and note because you know things are
 

01:15:45.360 --> 01:15:47.030 align:start position:0%
and note because you know things are
pinned<01:15:45.679><c> correct</c><01:15:46.000><c> in</c><01:15:46.159><c> cash</c><01:15:46.400><c> that</c><01:15:46.560><c> means</c><01:15:46.800><c> also</c>

01:15:47.030 --> 01:15:47.040 align:start position:0%
pinned correct in cash that means also
 

01:15:47.040 --> 01:15:48.070 align:start position:0%
pinned correct in cash that means also
that<01:15:47.280><c> the</c>

01:15:48.070 --> 01:15:48.080 align:start position:0%
that the
 

01:15:48.080 --> 01:15:51.270 align:start position:0%
that the
block<01:15:48.400><c> cache</c><01:15:48.880><c> was</c><01:15:49.120><c> me</c><01:15:49.280><c> bigger</c><01:15:49.600><c> than</c>

01:15:51.270 --> 01:15:51.280 align:start position:0%
block cache was me bigger than
 

01:15:51.280 --> 01:15:57.910 align:start position:0%
block cache was me bigger than
bigger<01:15:51.600><c> reader</c><01:15:52.080><c> to</c><01:15:52.239><c> the</c><01:15:52.400><c> lock</c><01:15:52.640><c> size</c>

01:15:57.910 --> 01:15:57.920 align:start position:0%
 
 

01:15:57.920 --> 01:16:01.430 align:start position:0%
 
okay<01:15:59.199><c> uh</c><01:15:59.840><c> so</c><01:16:00.080><c> now</c><01:16:00.400><c> the</c><01:16:00.719><c> final</c><01:16:01.120><c> challenge</c><01:16:01.360><c> that</c>

01:16:01.430 --> 01:16:01.440 align:start position:0%
okay uh so now the final challenge that
 

01:16:01.440 --> 01:16:03.910 align:start position:0%
okay uh so now the final challenge that
i<01:16:01.520><c> want</c><01:16:01.679><c> to</c><01:16:01.760><c> talk</c><01:16:01.920><c> about</c>

01:16:03.910 --> 01:16:03.920 align:start position:0%
i want to talk about
 

01:16:03.920 --> 01:16:07.590 align:start position:0%
i want to talk about
is<01:16:05.679><c> concurrent</c>

01:16:07.590 --> 01:16:07.600 align:start position:0%
is concurrent
 

01:16:07.600 --> 01:16:18.070 align:start position:0%
is concurrent
file<01:16:07.840><c> system</c><01:16:08.159><c> calls</c>

01:16:18.070 --> 01:16:18.080 align:start position:0%
 
 

01:16:18.080 --> 01:16:20.149 align:start position:0%
 
and<01:16:18.400><c> the</c><01:16:18.560><c> issue</c><01:16:18.800><c> is</c><01:16:18.960><c> as</c><01:16:19.040><c> follows</c><01:16:19.520><c> you</c><01:16:19.679><c> know</c><01:16:20.000><c> let</c>

01:16:20.149 --> 01:16:20.159 align:start position:0%
and the issue is as follows you know let
 

01:16:20.159 --> 01:16:21.590 align:start position:0%
and the issue is as follows you know let
me<01:16:20.320><c> first</c><01:16:20.480><c> try</c><01:16:20.719><c> to</c><01:16:20.800><c> explain</c><01:16:21.040><c> what</c><01:16:21.199><c> the</c><01:16:21.280><c> problem</c>

01:16:21.590 --> 01:16:21.600 align:start position:0%
me first try to explain what the problem
 

01:16:21.600 --> 01:16:21.910 align:start position:0%
me first try to explain what the problem
is

01:16:21.910 --> 01:16:21.920 align:start position:0%
is
 

01:16:21.920 --> 01:16:24.550 align:start position:0%
is
and<01:16:22.159><c> then</c><01:16:22.560><c> we'll</c><01:16:22.719><c> see</c><01:16:22.880><c> what</c><01:16:23.040><c> the</c><01:16:23.199><c> solution</c><01:16:23.600><c> is</c>

01:16:24.550 --> 01:16:24.560 align:start position:0%
and then we'll see what the solution is
 

01:16:24.560 --> 01:16:25.669 align:start position:0%
and then we'll see what the solution is
um

01:16:25.669 --> 01:16:25.679 align:start position:0%
um
 

01:16:25.679 --> 01:16:29.270 align:start position:0%
um
so<01:16:26.080><c> let's</c><01:16:26.239><c> say</c><01:16:26.480><c> we</c><01:16:26.719><c> have</c><01:16:26.880><c> our</c><01:16:27.040><c> log</c>

01:16:29.270 --> 01:16:29.280 align:start position:0%
so let's say we have our log
 

01:16:29.280 --> 01:16:32.630 align:start position:0%
so let's say we have our log
and<01:16:30.000><c> uh</c><01:16:31.120><c> and</c><01:16:31.360><c> we're</c><01:16:31.520><c> writing</c><01:16:32.000><c> and</c><01:16:32.239><c> maybe</c><01:16:32.560><c> there</c>

01:16:32.630 --> 01:16:32.640 align:start position:0%
and uh and we're writing and maybe there
 

01:16:32.640 --> 01:16:33.669 align:start position:0%
and uh and we're writing and maybe there
are<01:16:32.719><c> two</c><01:16:32.960><c> transactions</c>

01:16:33.669 --> 01:16:33.679 align:start position:0%
are two transactions
 

01:16:33.679 --> 01:16:36.709 align:start position:0%
are two transactions
executing<01:16:34.080><c> concurrently</c><01:16:36.000><c> and</c>

01:16:36.709 --> 01:16:36.719 align:start position:0%
executing concurrently and
 

01:16:36.719 --> 01:16:38.310 align:start position:0%
executing concurrently and
you<01:16:36.800><c> just</c><01:16:37.280><c> imagine</c><01:16:37.600><c> for</c><01:16:37.679><c> a</c><01:16:37.760><c> second</c><01:16:38.000><c> that</c><01:16:38.239><c> you</c>

01:16:38.310 --> 01:16:38.320 align:start position:0%
you just imagine for a second that you
 

01:16:38.320 --> 01:16:40.550 align:start position:0%
you just imagine for a second that you
know<01:16:38.480><c> they</c><01:16:39.040><c> uh</c>

01:16:40.550 --> 01:16:40.560 align:start position:0%
know they uh
 

01:16:40.560 --> 01:16:42.709 align:start position:0%
know they uh
they<01:16:40.960><c> uh</c><01:16:41.360><c> write</c><01:16:41.600><c> a</c><01:16:41.679><c> lot</c><01:16:41.840><c> of</c><01:16:41.920><c> blocks</c><01:16:42.480><c> so</c>

01:16:42.709 --> 01:16:42.719 align:start position:0%
they uh write a lot of blocks so
 

01:16:42.719 --> 01:16:44.070 align:start position:0%
they uh write a lot of blocks so
basically<01:16:43.280><c> t</c><01:16:43.520><c> zero</c>

01:16:44.070 --> 01:16:44.080 align:start position:0%
basically t zero
 

01:16:44.080 --> 01:16:46.229 align:start position:0%
basically t zero
is<01:16:44.239><c> executing</c><01:16:44.800><c> t</c><01:16:45.040><c> zero</c><01:16:45.360><c> is</c><01:16:45.520><c> executing</c><01:16:46.159><c> you</c>

01:16:46.229 --> 01:16:46.239 align:start position:0%
is executing t zero is executing you
 

01:16:46.239 --> 01:16:47.510 align:start position:0%
is executing t zero is executing you
know<01:16:46.400><c> they're</c><01:16:46.640><c> all</c><01:16:46.800><c> false</c><01:16:47.120><c> so</c><01:16:47.199><c> here's</c><01:16:47.440><c> the</c>

01:16:47.510 --> 01:16:47.520 align:start position:0%
know they're all false so here's the
 

01:16:47.520 --> 01:16:49.510 align:start position:0%
know they're all false so here's the
beginning<01:16:47.760><c> of</c><01:16:47.840><c> the</c><01:16:48.000><c> log</c><01:16:48.320><c> here's</c><01:16:48.560><c> the</c>

01:16:49.510 --> 01:16:49.520 align:start position:0%
beginning of the log here's the
 

01:16:49.520 --> 01:16:53.189 align:start position:0%
beginning of the log here's the
uh<01:16:49.920><c> end</c><01:16:50.080><c> of</c><01:16:50.239><c> the</c><01:16:50.320><c> log</c><01:16:51.440><c> and</c><01:16:52.480><c> uh</c>

01:16:53.189 --> 01:16:53.199 align:start position:0%
uh end of the log and uh
 

01:16:53.199 --> 01:16:55.110 align:start position:0%
uh end of the log and uh
you<01:16:53.280><c> know</c><01:16:53.520><c> t</c><01:16:53.840><c> one</c><01:16:54.159><c> executes</c><01:16:54.560><c> signals</c><01:16:55.040><c> and</c>

01:16:55.110 --> 01:16:55.120 align:start position:0%
you know t one executes signals and
 

01:16:55.120 --> 01:16:56.550 align:start position:0%
you know t one executes signals and
blocks<01:16:55.600><c> and</c><01:16:56.159><c> etc</c>

01:16:56.550 --> 01:16:56.560 align:start position:0%
blocks and etc
 

01:16:56.560 --> 01:16:58.709 align:start position:0%
blocks and etc
etc<01:16:57.280><c> and</c><01:16:57.440><c> by</c><01:16:57.600><c> the</c><01:16:57.679><c> time</c><01:16:57.840><c> we</c><01:16:58.000><c> run</c><01:16:58.239><c> to</c><01:16:58.400><c> the</c><01:16:58.480><c> end</c><01:16:58.640><c> of</c>

01:16:58.709 --> 01:16:58.719 align:start position:0%
etc and by the time we run to the end of
 

01:16:58.719 --> 01:17:00.870 align:start position:0%
etc and by the time we run to the end of
the<01:16:58.800><c> log</c><01:16:59.520><c> neither</c><01:16:59.760><c> one</c><01:17:00.000><c> is</c><01:17:00.080><c> complete</c><01:17:00.480><c> yet</c><01:17:00.719><c> you</c>

01:17:00.870 --> 01:17:00.880 align:start position:0%
the log neither one is complete yet you
 

01:17:00.880 --> 01:17:01.350 align:start position:0%
the log neither one is complete yet you
know<01:17:00.960><c> so</c>

01:17:01.350 --> 01:17:01.360 align:start position:0%
know so
 

01:17:01.360 --> 01:17:04.630 align:start position:0%
know so
both<01:17:01.679><c> have</c><01:17:01.840><c> still</c><01:17:02.400><c> more</c><01:17:02.640><c> rights</c><01:17:02.960><c> to</c><01:17:03.120><c> do</c>

01:17:04.630 --> 01:17:04.640 align:start position:0%
both have still more rights to do
 

01:17:04.640 --> 01:17:08.229 align:start position:0%
both have still more rights to do
and<01:17:06.000><c> uh</c><01:17:06.960><c> at</c><01:17:07.040><c> this</c><01:17:07.280><c> point</c>

01:17:08.229 --> 01:17:08.239 align:start position:0%
and uh at this point
 

01:17:08.239 --> 01:17:10.070 align:start position:0%
and uh at this point
can<01:17:08.400><c> we</c><01:17:08.560><c> commit</c><01:17:09.280><c> any</c><01:17:09.679><c> of</c><01:17:09.840><c> the</c><01:17:09.920><c> two</c>

01:17:10.070 --> 01:17:10.080 align:start position:0%
can we commit any of the two
 

01:17:10.080 --> 01:17:14.790 align:start position:0%
can we commit any of the two
transactions

01:17:14.790 --> 01:17:14.800 align:start position:0%
 
 

01:17:14.800 --> 01:17:16.790 align:start position:0%
 
no<01:17:14.960><c> we</c><01:17:15.120><c> can't</c><01:17:15.440><c> correct</c><01:17:15.840><c> because</c><01:17:16.080><c> if</c><01:17:16.239><c> we</c><01:17:16.400><c> would</c>

01:17:16.790 --> 01:17:16.800 align:start position:0%
no we can't correct because if we would
 

01:17:16.800 --> 01:17:17.910 align:start position:0%
no we can't correct because if we would
uh<01:17:17.199><c> commit</c>

01:17:17.910 --> 01:17:17.920 align:start position:0%
uh commit
 

01:17:17.920 --> 01:17:20.709 align:start position:0%
uh commit
a<01:17:18.320><c> transaction</c><01:17:18.800><c> that</c><01:17:19.040><c> is</c><01:17:19.199><c> partially</c><01:17:19.679><c> done</c>

01:17:20.709 --> 01:17:20.719 align:start position:0%
a transaction that is partially done
 

01:17:20.719 --> 01:17:21.350 align:start position:0%
a transaction that is partially done
then

01:17:21.350 --> 01:17:21.360 align:start position:0%
then
 

01:17:21.360 --> 01:17:24.390 align:start position:0%
then
we<01:17:22.400><c> uh</c><01:17:22.800><c> violate</c><01:17:23.199><c> the</c><01:17:23.280><c> right</c><01:17:23.440><c> ahead</c><01:17:23.679><c> rule</c><01:17:24.000><c> again</c>

01:17:24.390 --> 01:17:24.400 align:start position:0%
we uh violate the right ahead rule again
 

01:17:24.400 --> 01:17:26.470 align:start position:0%
we uh violate the right ahead rule again
and<01:17:24.880><c> you</c><01:17:25.040><c> know</c><01:17:25.440><c> the</c><01:17:25.520><c> whole</c><01:17:25.679><c> purpose</c><01:17:26.080><c> of</c><01:17:26.239><c> action</c>

01:17:26.470 --> 01:17:26.480 align:start position:0%
and you know the whole purpose of action
 

01:17:26.480 --> 01:17:28.390 align:start position:0%
and you know the whole purpose of action
login<01:17:26.719><c> doesn't</c><01:17:26.960><c> work</c><01:17:27.199><c> out</c>

01:17:28.390 --> 01:17:28.400 align:start position:0%
login doesn't work out
 

01:17:28.400 --> 01:17:30.950 align:start position:0%
login doesn't work out
uh<01:17:29.120><c> so</c><01:17:29.600><c> it</c><01:17:29.760><c> has</c><01:17:29.920><c> to</c><01:17:30.080><c> be</c><01:17:30.239><c> the</c><01:17:30.400><c> case</c><01:17:30.719><c> that</c>

01:17:30.950 --> 01:17:30.960 align:start position:0%
uh so it has to be the case that
 

01:17:30.960 --> 01:17:31.510 align:start position:0%
uh so it has to be the case that
basically

01:17:31.510 --> 01:17:31.520 align:start position:0%
basically
 

01:17:31.520 --> 01:17:34.229 align:start position:0%
basically
a<01:17:31.760><c> number</c><01:17:32.080><c> of</c><01:17:32.239><c> concurrent</c><01:17:32.640><c> transactions</c><01:17:33.840><c> must</c>

01:17:34.229 --> 01:17:34.239 align:start position:0%
a number of concurrent transactions must
 

01:17:34.239 --> 01:17:34.790 align:start position:0%
a number of concurrent transactions must
fit

01:17:34.790 --> 01:17:34.800 align:start position:0%
fit
 

01:17:34.800 --> 01:17:37.990 align:start position:0%
fit
in<01:17:34.960><c> the</c><01:17:35.199><c> lock</c><01:17:36.640><c> in</c><01:17:36.800><c> fact</c><01:17:37.280><c> all</c><01:17:37.520><c> concurrent</c>

01:17:37.990 --> 01:17:38.000 align:start position:0%
in the lock in fact all concurrent
 

01:17:38.000 --> 01:17:54.870 align:start position:0%
in the lock in fact all concurrent
operations

01:17:54.870 --> 01:17:54.880 align:start position:0%
 
 

01:17:54.880 --> 01:17:58.390 align:start position:0%
 
was<01:17:55.120><c> fit</c><01:17:55.679><c> and</c><01:17:55.840><c> so</c><01:17:57.120><c> in</c><01:17:57.199><c> the</c><01:17:57.360><c> way</c>

01:17:58.390 --> 01:17:58.400 align:start position:0%
was fit and so in the way
 

01:17:58.400 --> 01:18:01.270 align:start position:0%
was fit and so in the way
um<01:18:00.239><c> so</c><01:18:00.400><c> this</c><01:18:00.560><c> is</c><01:18:00.640><c> sort</c><01:18:00.800><c> of</c><01:18:00.880><c> a</c><01:18:00.960><c> challenge</c>

01:18:01.270 --> 01:18:01.280 align:start position:0%
um so this is sort of a challenge
 

01:18:01.280 --> 01:18:02.790 align:start position:0%
um so this is sort of a challenge
correct<01:18:01.520><c> we</c><01:18:01.679><c> have</c><01:18:02.000><c> you</c><01:18:02.159><c> know</c><01:18:02.239><c> a</c><01:18:02.320><c> file</c><01:18:02.560><c> system</c>

01:18:02.790 --> 01:18:02.800 align:start position:0%
correct we have you know a file system
 

01:18:02.800 --> 01:18:04.310 align:start position:0%
correct we have you know a file system
called<01:18:03.040><c> starting</c><01:18:03.520><c> and</c>

01:18:04.310 --> 01:18:04.320 align:start position:0%
called starting and
 

01:18:04.320 --> 01:18:06.229 align:start position:0%
called starting and
uh<01:18:04.800><c> you</c><01:18:04.960><c> know</c><01:18:05.040><c> we</c><01:18:05.120><c> gotta</c><01:18:05.360><c> sort</c><01:18:05.520><c> of</c><01:18:05.760><c> arrange</c>

01:18:06.229 --> 01:18:06.239 align:start position:0%
uh you know we gotta sort of arrange
 

01:18:06.239 --> 01:18:07.750 align:start position:0%
uh you know we gotta sort of arrange
that<01:18:06.480><c> basically</c><01:18:06.960><c> the</c>

01:18:07.750 --> 01:18:07.760 align:start position:0%
that basically the
 

01:18:07.760 --> 01:18:11.430 align:start position:0%
that basically the
uh<01:18:08.560><c> that</c><01:18:08.719><c> we</c><01:18:10.320><c> that</c><01:18:10.560><c> we</c><01:18:10.719><c> basically</c><01:18:11.040><c> do</c><01:18:11.199><c> a</c><01:18:11.280><c> sort</c>

01:18:11.430 --> 01:18:11.440 align:start position:0%
uh that we that we basically do a sort
 

01:18:11.440 --> 01:18:12.630 align:start position:0%
uh that we that we basically do a sort
of<01:18:11.600><c> a</c>

01:18:12.630 --> 01:18:12.640 align:start position:0%
of a
 

01:18:12.640 --> 01:18:14.390 align:start position:0%
of a
an<01:18:12.880><c> entrance</c><01:18:13.520><c> you</c><01:18:13.600><c> know</c><01:18:13.840><c> check</c><01:18:14.159><c> you</c><01:18:14.239><c> know</c>

01:18:14.390 --> 01:18:14.400 align:start position:0%
an entrance you know check you know
 

01:18:14.400 --> 01:18:16.550 align:start position:0%
an entrance you know check you know
before<01:18:14.719><c> we</c><01:18:14.880><c> actually</c><01:18:15.199><c> let</c><01:18:15.360><c> the</c><01:18:15.520><c> file</c><01:18:15.840><c> system</c>

01:18:16.550 --> 01:18:16.560 align:start position:0%
before we actually let the file system
 

01:18:16.560 --> 01:18:18.709 align:start position:0%
before we actually let the file system
operation<01:18:17.040><c> go</c><01:18:17.600><c> we</c><01:18:17.760><c> must</c><01:18:18.080><c> check</c><01:18:18.320><c> whether</c><01:18:18.560><c> it</c>

01:18:18.709 --> 01:18:18.719 align:start position:0%
operation go we must check whether it
 

01:18:18.719 --> 01:18:20.229 align:start position:0%
operation go we must check whether it
actually<01:18:18.960><c> is</c><01:18:19.120><c> not</c><01:18:19.440><c> blocked</c><01:18:19.760><c> still</c>

01:18:20.229 --> 01:18:20.239 align:start position:0%
actually is not blocked still
 

01:18:20.239 --> 01:18:22.229 align:start position:0%
actually is not blocked still
you<01:18:20.400><c> know</c><01:18:20.800><c> if</c><01:18:21.040><c> we</c><01:18:21.120><c> have</c><01:18:21.280><c> like</c><01:18:21.440><c> end</c><01:18:21.679><c> file</c><01:18:21.920><c> system</c>

01:18:22.229 --> 01:18:22.239 align:start position:0%
you know if we have like end file system
 

01:18:22.239 --> 01:18:23.669 align:start position:0%
you know if we have like end file system
operations<01:18:22.640><c> already</c><01:18:22.960><c> in</c><01:18:23.040><c> progress</c>

01:18:23.669 --> 01:18:23.679 align:start position:0%
operations already in progress
 

01:18:23.679 --> 01:18:25.750 align:start position:0%
operations already in progress
we<01:18:23.840><c> have</c><01:18:24.000><c> to</c><01:18:24.159><c> make</c><01:18:24.320><c> sure</c><01:18:24.560><c> that</c><01:18:24.800><c> if</c><01:18:24.960><c> we</c><01:18:25.199><c> add</c><01:18:25.440><c> like</c>

01:18:25.750 --> 01:18:25.760 align:start position:0%
we have to make sure that if we add like
 

01:18:25.760 --> 01:18:27.590 align:start position:0%
we have to make sure that if we add like
allow<01:18:26.159><c> one</c><01:18:26.400><c> more</c><01:18:26.640><c> guy</c><01:18:26.880><c> to</c><01:18:27.120><c> start</c>

01:18:27.590 --> 01:18:27.600 align:start position:0%
allow one more guy to start
 

01:18:27.600 --> 01:18:29.350 align:start position:0%
allow one more guy to start
that<01:18:27.840><c> actually</c><01:18:28.080><c> the</c><01:18:28.239><c> total</c><01:18:28.800><c> number</c><01:18:29.040><c> of</c><01:18:29.120><c> blocks</c>

01:18:29.350 --> 01:18:29.360 align:start position:0%
that actually the total number of blocks
 

01:18:29.360 --> 01:18:30.870 align:start position:0%
that actually the total number of blocks
that<01:18:29.520><c> right</c><01:18:29.840><c> they</c><01:18:30.000><c> could</c><01:18:30.239><c> write</c><01:18:30.480><c> together</c>

01:18:30.870 --> 01:18:30.880 align:start position:0%
that right they could write together
 

01:18:30.880 --> 01:18:32.950 align:start position:0%
that right they could write together
actually<01:18:31.120><c> fits</c><01:18:31.360><c> in</c><01:18:31.440><c> the</c><01:18:31.520><c> log</c>

01:18:32.950 --> 01:18:32.960 align:start position:0%
actually fits in the log
 

01:18:32.960 --> 01:18:35.110 align:start position:0%
actually fits in the log
and<01:18:33.440><c> the</c><01:18:33.520><c> way</c><01:18:33.920><c> you</c><01:18:34.000><c> know</c><01:18:34.159><c> basically</c><01:18:34.480><c> xc6</c><01:18:34.960><c> sort</c>

01:18:35.110 --> 01:18:35.120 align:start position:0%
and the way you know basically xc6 sort
 

01:18:35.120 --> 01:18:36.470 align:start position:0%
and the way you know basically xc6 sort
of<01:18:35.280><c> gets</c><01:18:35.520><c> around</c><01:18:35.840><c> this</c>

01:18:36.470 --> 01:18:36.480 align:start position:0%
of gets around this
 

01:18:36.480 --> 01:18:38.229 align:start position:0%
of gets around this
is<01:18:36.640><c> it</c><01:18:36.880><c> basically</c><01:18:37.280><c> limits</c><01:18:37.679><c> the</c><01:18:37.840><c> number</c><01:18:38.159><c> of</c>

01:18:38.229 --> 01:18:38.239 align:start position:0%
is it basically limits the number of
 

01:18:38.239 --> 01:18:49.270 align:start position:0%
is it basically limits the number of
concurrent<01:18:38.640><c> file</c><01:18:38.880><c> system</c><01:18:39.120><c> calls</c>

01:18:49.270 --> 01:18:49.280 align:start position:0%
 
 

01:18:49.280 --> 01:18:54.470 align:start position:0%
 
and<01:18:49.679><c> the</c><01:18:49.760><c> way</c><01:18:50.000><c> it</c><01:18:50.080><c> basically</c><01:18:50.400><c> works</c><01:18:50.800><c> is</c><01:18:52.840><c> that</c>

01:18:54.470 --> 01:18:54.480 align:start position:0%
and the way it basically works is that
 

01:18:54.480 --> 01:18:56.790 align:start position:0%
and the way it basically works is that
uh<01:18:55.120><c> in</c><01:18:55.199><c> begin</c><01:18:55.520><c> op</c><01:18:55.840><c> you</c><01:18:56.000><c> know</c><01:18:56.080><c> we</c><01:18:56.239><c> just</c><01:18:56.400><c> see</c><01:18:56.640><c> how</c>

01:18:56.790 --> 01:18:56.800 align:start position:0%
uh in begin op you know we just see how
 

01:18:56.800 --> 01:18:57.750 align:start position:0%
uh in begin op you know we just see how
many<01:18:57.040><c> outstanding</c>

01:18:57.750 --> 01:18:57.760 align:start position:0%
many outstanding
 

01:18:57.760 --> 01:18:59.669 align:start position:0%
many outstanding
uh<01:18:58.239><c> concurrent</c><01:18:58.640><c> file</c><01:18:58.800><c> system</c><01:18:59.120><c> operations</c><01:18:59.520><c> are</c>

01:18:59.669 --> 01:18:59.679 align:start position:0%
uh concurrent file system operations are
 

01:18:59.679 --> 01:19:01.750 align:start position:0%
uh concurrent file system operations are
in<01:18:59.760><c> progress</c><01:19:00.640><c> if</c><01:19:00.800><c> there</c><01:19:00.960><c> are</c><01:19:01.120><c> too</c><01:19:01.280><c> many</c>

01:19:01.750 --> 01:19:01.760 align:start position:0%
in progress if there are too many
 

01:19:01.760 --> 01:19:03.830 align:start position:0%
in progress if there are too many
in<01:19:01.920><c> progress</c><01:19:02.480><c> we</c><01:19:02.640><c> just</c><01:19:02.960><c> stop</c><01:19:03.440><c> the</c><01:19:03.520><c> current</c>

01:19:03.830 --> 01:19:03.840 align:start position:0%
in progress we just stop the current
 

01:19:03.840 --> 01:19:05.910 align:start position:0%
in progress we just stop the current
file<01:19:04.000><c> system</c><01:19:04.320><c> operation</c><01:19:04.719><c> it</c><01:19:04.960><c> goes</c><01:19:05.120><c> to</c><01:19:05.280><c> sleep</c>

01:19:05.910 --> 01:19:05.920 align:start position:0%
file system operation it goes to sleep
 

01:19:05.920 --> 01:19:07.750 align:start position:0%
file system operation it goes to sleep
and<01:19:06.080><c> it</c><01:19:06.239><c> will</c><01:19:06.400><c> wait</c><01:19:06.880><c> until</c><01:19:07.199><c> all</c><01:19:07.360><c> the</c><01:19:07.520><c> other</c>

01:19:07.750 --> 01:19:07.760 align:start position:0%
and it will wait until all the other
 

01:19:07.760 --> 01:19:11.030 align:start position:0%
and it will wait until all the other
guys<01:19:08.080><c> are</c><01:19:08.239><c> done</c><01:19:08.560><c> and</c><01:19:08.719><c> have</c><01:19:08.880><c> committed</c>

01:19:11.030 --> 01:19:11.040 align:start position:0%
guys are done and have committed
 

01:19:11.040 --> 01:19:12.390 align:start position:0%
guys are done and have committed
and<01:19:11.199><c> all</c><01:19:11.280><c> the</c><01:19:11.440><c> other</c><01:19:11.600><c> guys</c><01:19:11.840><c> will</c><01:19:12.000><c> commit</c>

01:19:12.390 --> 01:19:12.400 align:start position:0%
and all the other guys will commit
 

01:19:12.400 --> 01:19:13.990 align:start position:0%
and all the other guys will commit
together<01:19:12.960><c> in</c><01:19:13.120><c> fact</c><01:19:13.360><c> like</c><01:19:13.520><c> you</c><01:19:13.600><c> know</c><01:19:13.760><c> at</c><01:19:13.840><c> some</c>

01:19:13.990 --> 01:19:14.000 align:start position:0%
together in fact like you know at some
 

01:19:14.000 --> 01:19:16.310 align:start position:0%
together in fact like you know at some
point<01:19:14.239><c> that</c><01:19:14.400><c> t122</c><01:19:15.120><c> they're</c><01:19:15.280><c> basically</c><01:19:15.679><c> done</c>

01:19:16.310 --> 01:19:16.320 align:start position:0%
point that t122 they're basically done
 

01:19:16.320 --> 01:19:18.550 align:start position:0%
point that t122 they're basically done
you<01:19:16.400><c> know</c><01:19:16.480><c> maybe</c><01:19:16.800><c> t3</c><01:19:17.120><c> is</c><01:19:17.280><c> in</c><01:19:17.360><c> the</c><01:19:17.520><c> two</c><01:19:18.239><c> they</c>

01:19:18.550 --> 01:19:18.560 align:start position:0%
you know maybe t3 is in the two they
 

01:19:18.560 --> 01:19:19.910 align:start position:0%
you know maybe t3 is in the two they
finish<01:19:19.120><c> and</c><01:19:19.280><c> then</c><01:19:19.440><c> basically</c>

01:19:19.910 --> 01:19:19.920 align:start position:0%
finish and then basically
 

01:19:19.920 --> 01:19:22.550 align:start position:0%
finish and then basically
in<01:19:20.960><c> all</c><01:19:21.120><c> these</c><01:19:21.360><c> transactions</c><01:19:22.080><c> and</c><01:19:22.239><c> in</c><01:19:22.400><c> a</c>

01:19:22.550 --> 01:19:22.560 align:start position:0%
in all these transactions and in a
 

01:19:22.560 --> 01:19:24.070 align:start position:0%
in all these transactions and in a
single<01:19:22.880><c> time</c><01:19:23.120><c> in</c><01:19:23.199><c> a</c><01:19:23.280><c> single</c><01:19:23.679><c> or</c>

01:19:24.070 --> 01:19:24.080 align:start position:0%
single time in a single or
 

01:19:24.080 --> 01:19:27.830 align:start position:0%
single time in a single or
basically<01:19:24.400><c> are</c><01:19:24.480><c> committed</c><01:19:24.800><c> together</c>

01:19:27.830 --> 01:19:27.840 align:start position:0%
 
 

01:19:27.840 --> 01:19:29.990 align:start position:0%
 
this<01:19:28.000><c> is</c><01:19:28.080><c> sometimes</c><01:19:28.480><c> called</c><01:19:28.719><c> group</c><01:19:28.880><c> commit</c>

01:19:29.990 --> 01:19:30.000 align:start position:0%
this is sometimes called group commit
 

01:19:30.000 --> 01:19:31.270 align:start position:0%
this is sometimes called group commit
because<01:19:30.239><c> you're</c><01:19:30.480><c> committing</c><01:19:30.960><c> multiple</c>

01:19:31.270 --> 01:19:31.280 align:start position:0%
because you're committing multiple
 

01:19:31.280 --> 01:19:32.229 align:start position:0%
because you're committing multiple
system<01:19:31.679><c> calls</c>

01:19:32.229 --> 01:19:32.239 align:start position:0%
system calls
 

01:19:32.239 --> 01:19:33.189 align:start position:0%
system calls
you<01:19:32.400><c> know</c><01:19:32.560><c> all</c><01:19:32.640><c> the</c><01:19:32.719><c> ones</c><01:19:32.960><c> that</c><01:19:33.040><c> were</c>

01:19:33.189 --> 01:19:33.199 align:start position:0%
you know all the ones that were
 

01:19:33.199 --> 01:19:35.350 align:start position:0%
you know all the ones that were
concurrent<01:19:33.600><c> in</c><01:19:33.840><c> action</c><01:19:34.560><c> uh</c>

01:19:35.350 --> 01:19:35.360 align:start position:0%
concurrent in action uh
 

01:19:35.360 --> 01:19:36.870 align:start position:0%
concurrent in action uh
you<01:19:35.440><c> committed</c><01:19:35.840><c> this</c><01:19:36.159><c> together</c><01:19:36.480><c> as</c><01:19:36.640><c> a</c><01:19:36.719><c> sort</c><01:19:36.800><c> of</c>

01:19:36.870 --> 01:19:36.880 align:start position:0%
you committed this together as a sort of
 

01:19:36.880 --> 01:19:39.030 align:start position:0%
you committed this together as a sort of
a<01:19:36.960><c> single</c><01:19:37.280><c> big</c><01:19:37.840><c> transaction</c><01:19:38.400><c> so</c><01:19:38.560><c> that</c><01:19:38.880><c> all</c>

01:19:39.030 --> 01:19:39.040 align:start position:0%
a single big transaction so that all
 

01:19:39.040 --> 01:19:40.310 align:start position:0%
a single big transaction so that all
their<01:19:39.199><c> updates</c><01:19:39.760><c> are</c>

01:19:40.310 --> 01:19:40.320 align:start position:0%
their updates are
 

01:19:40.320 --> 01:19:43.189 align:start position:0%
their updates are
visible<01:19:41.760><c> so</c><01:19:41.920><c> that</c><01:19:42.159><c> all</c><01:19:42.239><c> their</c><01:19:42.480><c> updates</c><01:19:42.960><c> all</c>

01:19:43.189 --> 01:19:43.199 align:start position:0%
visible so that all their updates all
 

01:19:43.199 --> 01:19:43.990 align:start position:0%
visible so that all their updates all
place<01:19:43.600><c> all</c><01:19:43.760><c> the</c>

01:19:43.990 --> 01:19:44.000 align:start position:0%
place all the
 

01:19:44.000 --> 01:19:47.270 align:start position:0%
place all the
uh<01:19:45.360><c> so</c><01:19:45.520><c> that</c><01:19:45.679><c> all</c><01:19:45.920><c> their</c><01:19:46.159><c> updates</c><01:19:46.480><c> all</c>

01:19:47.270 --> 01:19:47.280 align:start position:0%
uh so that all their updates all
 

01:19:47.280 --> 01:19:50.390 align:start position:0%
uh so that all their updates all
take<01:19:47.520><c> place</c><01:19:47.760><c> or</c><01:19:47.920><c> none</c><01:19:48.159><c> of</c><01:19:48.239><c> them</c><01:19:48.480><c> take</c><01:19:48.840><c> place</c>

01:19:50.390 --> 01:19:50.400 align:start position:0%
take place or none of them take place
 

01:19:50.400 --> 01:19:55.030 align:start position:0%
take place or none of them take place
okay<01:19:52.960><c> uh</c><01:19:53.360><c> and</c><01:19:53.600><c> we</c><01:19:54.000><c> can</c>

01:19:55.030 --> 01:19:55.040 align:start position:0%
okay uh and we can
 

01:19:55.040 --> 01:19:56.950 align:start position:0%
okay uh and we can
see<01:19:55.280><c> that</c><01:19:55.679><c> you</c><01:19:55.760><c> know</c><01:19:55.920><c> if</c><01:19:56.000><c> we</c><01:19:56.159><c> go</c><01:19:56.320><c> to</c><01:19:56.560><c> a</c><01:19:56.719><c> quick</c>

01:19:56.950 --> 01:19:56.960 align:start position:0%
see that you know if we go to a quick
 

01:19:56.960 --> 01:19:58.709 align:start position:0%
see that you know if we go to a quick
question

01:19:58.709 --> 01:19:58.719 align:start position:0%
question
 

01:19:58.719 --> 01:20:02.070 align:start position:0%
question
uh<01:19:59.040><c> is</c><01:19:59.199><c> that</c><01:19:59.600><c> is</c><01:19:59.760><c> the</c><01:19:59.920><c> group</c><01:20:00.239><c> commit</c><01:20:01.520><c> um</c>

01:20:02.070 --> 01:20:02.080 align:start position:0%
uh is that is the group commit um
 

01:20:02.080 --> 01:20:05.110 align:start position:0%
uh is that is the group commit um
is<01:20:02.320><c> grouping</c><01:20:02.560><c> the</c><01:20:02.840><c> commits</c><01:20:03.760><c> necessary</c>

01:20:05.110 --> 01:20:05.120 align:start position:0%
is grouping the commits necessary
 

01:20:05.120 --> 01:20:08.070 align:start position:0%
is grouping the commits necessary
like<01:20:05.360><c> could</c><01:20:05.600><c> you</c><01:20:06.880><c> um</c><01:20:07.440><c> say</c><01:20:07.600><c> if</c><01:20:07.679><c> one</c><01:20:07.840><c> system</c>

01:20:08.070 --> 01:20:08.080 align:start position:0%
like could you um say if one system
 

01:20:08.080 --> 01:20:09.350 align:start position:0%
like could you um say if one system
calls<01:20:08.320><c> finish</c><01:20:08.639><c> first</c><01:20:08.960><c> just</c>

01:20:09.350 --> 01:20:09.360 align:start position:0%
calls finish first just
 

01:20:09.360 --> 01:20:12.790 align:start position:0%
calls finish first just
commit<01:20:09.840><c> its</c><01:20:10.320><c> trade</c><01:20:10.880><c> it's</c><01:20:11.120><c> um</c><01:20:12.080><c> transaction</c><01:20:12.719><c> and</c>

01:20:12.790 --> 01:20:12.800 align:start position:0%
commit its trade it's um transaction and
 

01:20:12.800 --> 01:20:13.189 align:start position:0%
commit its trade it's um transaction and
then

01:20:13.189 --> 01:20:13.199 align:start position:0%
then
 

01:20:13.199 --> 01:20:14.790 align:start position:0%
then
commit<01:20:13.520><c> the</c><01:20:13.600><c> other</c><01:20:13.760><c> ones</c><01:20:14.000><c> later</c><01:20:14.239><c> or</c><01:20:14.560><c> is</c><01:20:14.719><c> it</c>

01:20:14.790 --> 01:20:14.800 align:start position:0%
commit the other ones later or is it
 

01:20:14.800 --> 01:20:17.030 align:start position:0%
commit the other ones later or is it
like<01:20:14.960><c> a</c><01:20:15.040><c> necessary</c><01:20:15.520><c> property</c><01:20:16.159><c> ah</c>

01:20:17.030 --> 01:20:17.040 align:start position:0%
like a necessary property ah
 

01:20:17.040 --> 01:20:18.870 align:start position:0%
like a necessary property ah
you<01:20:17.120><c> got</c><01:20:17.280><c> to</c><01:20:17.360><c> be</c><01:20:17.679><c> very</c><01:20:17.920><c> very</c><01:20:18.080><c> careful</c><01:20:18.560><c> because</c>

01:20:18.870 --> 01:20:18.880 align:start position:0%
you got to be very very careful because
 

01:20:18.880 --> 01:20:20.390 align:start position:0%
you got to be very very careful because
you<01:20:19.040><c> remember</c><01:20:19.440><c> one</c><01:20:19.600><c> thing</c><01:20:19.840><c> i</c><01:20:19.920><c> didn't</c><01:20:20.159><c> really</c>

01:20:20.390 --> 01:20:20.400 align:start position:0%
you remember one thing i didn't really
 

01:20:20.400 --> 01:20:22.149 align:start position:0%
you remember one thing i didn't really
state<01:20:20.560><c> this</c><01:20:20.719><c> explicitly</c><01:20:21.199><c> as</c><01:20:21.280><c> a</c><01:20:21.360><c> goal</c><01:20:21.600><c> early</c><01:20:21.920><c> on</c>

01:20:22.149 --> 01:20:22.159 align:start position:0%
state this explicitly as a goal early on
 

01:20:22.159 --> 01:20:23.830 align:start position:0%
state this explicitly as a goal early on
is<01:20:22.239><c> that</c><01:20:22.400><c> we</c><01:20:22.560><c> basically</c><01:20:22.960><c> execute</c><01:20:23.360><c> the</c><01:20:23.520><c> system</c>

01:20:23.830 --> 01:20:23.840 align:start position:0%
is that we basically execute the system
 

01:20:23.840 --> 01:20:25.910 align:start position:0%
is that we basically execute the system
called<01:20:24.080><c> still</c><01:20:24.320><c> in</c><01:20:24.400><c> the</c><01:20:24.480><c> right</c><01:20:24.719><c> order</c>

01:20:25.910 --> 01:20:25.920 align:start position:0%
called still in the right order
 

01:20:25.920 --> 01:20:28.950 align:start position:0%
called still in the right order
right<01:20:26.239><c> if</c><01:20:26.800><c> uh</c><01:20:28.080><c> the</c>

01:20:28.950 --> 01:20:28.960 align:start position:0%
right if uh the
 

01:20:28.960 --> 01:20:31.590 align:start position:0%
right if uh the
if<01:20:29.199><c> a</c><01:20:29.360><c> write</c><01:20:29.760><c> or</c><01:20:29.920><c> if</c><01:20:30.080><c> a</c><01:20:30.159><c> read</c><01:20:30.480><c> observes</c><01:20:30.960><c> a</c><01:20:31.120><c> write</c>

01:20:31.590 --> 01:20:31.600 align:start position:0%
if a write or if a read observes a write
 

01:20:31.600 --> 01:20:32.870 align:start position:0%
if a write or if a read observes a write
and<01:20:31.679><c> then</c><01:20:31.840><c> does</c><01:20:32.080><c> it</c><01:20:32.159><c> right</c>

01:20:32.870 --> 01:20:32.880 align:start position:0%
and then does it right
 

01:20:32.880 --> 01:20:34.229 align:start position:0%
and then does it right
then<01:20:33.040><c> it</c><01:20:33.120><c> has</c><01:20:33.280><c> to</c><01:20:33.440><c> be</c><01:20:33.520><c> the</c><01:20:33.600><c> case</c><01:20:33.920><c> that</c><01:20:34.000><c> that</c>

01:20:34.229 --> 01:20:34.239 align:start position:0%
then it has to be the case that that
 

01:20:34.239 --> 01:20:35.669 align:start position:0%
then it has to be the case that that
second<01:20:34.480><c> right</c><01:20:34.800><c> happens</c><01:20:35.120><c> later</c><01:20:35.440><c> than</c><01:20:35.600><c> the</c>

01:20:35.669 --> 01:20:35.679 align:start position:0%
second right happens later than the
 

01:20:35.679 --> 01:20:37.030 align:start position:0%
second right happens later than the
first<01:20:36.000><c> right</c>

01:20:37.030 --> 01:20:37.040 align:start position:0%
first right
 

01:20:37.040 --> 01:20:39.270 align:start position:0%
first right
and<01:20:37.360><c> the</c><01:20:37.440><c> reason</c><01:20:37.760><c> that</c><01:20:38.000><c> this</c><01:20:38.159><c> is</c><01:20:38.320><c> a</c><01:20:38.480><c> log</c>

01:20:39.270 --> 01:20:39.280 align:start position:0%
and the reason that this is a log
 

01:20:39.280 --> 01:20:40.470 align:start position:0%
and the reason that this is a log
correct<01:20:39.600><c> is</c><01:20:39.760><c> because</c><01:20:39.920><c> that</c><01:20:40.080><c> basically</c>

01:20:40.470 --> 01:20:40.480 align:start position:0%
correct is because that basically
 

01:20:40.480 --> 01:20:42.149 align:start position:0%
correct is because that basically
reflects<01:20:40.960><c> the</c><01:20:41.120><c> order</c><01:20:41.440><c> in</c><01:20:41.520><c> which</c><01:20:41.760><c> the</c><01:20:41.920><c> rights</c>

01:20:42.149 --> 01:20:42.159 align:start position:0%
reflects the order in which the rights
 

01:20:42.159 --> 01:20:44.070 align:start position:0%
reflects the order in which the rights
haven't<01:20:42.480><c> happened</c>

01:20:44.070 --> 01:20:44.080 align:start position:0%
haven't happened
 

01:20:44.080 --> 01:20:47.590 align:start position:0%
haven't happened
and<01:20:44.880><c> so</c><01:20:45.040><c> you</c><01:20:45.199><c> can't</c><01:20:45.440><c> really</c><01:20:46.560><c> uh</c><01:20:46.880><c> really</c><01:20:47.199><c> nearly</c>

01:20:47.590 --> 01:20:47.600 align:start position:0%
and so you can't really uh really nearly
 

01:20:47.600 --> 01:20:49.189 align:start position:0%
and so you can't really uh really nearly
change<01:20:47.920><c> the</c><01:20:48.159><c> order</c><01:20:48.480><c> of</c><01:20:48.560><c> the</c><01:20:48.639><c> writes</c><01:20:48.960><c> in</c><01:20:49.040><c> the</c>

01:20:49.189 --> 01:20:49.199 align:start position:0%
change the order of the writes in the
 

01:20:49.199 --> 01:20:49.830 align:start position:0%
change the order of the writes in the
log

01:20:49.830 --> 01:20:49.840 align:start position:0%
log
 

01:20:49.840 --> 01:20:51.990 align:start position:0%
log
because<01:20:50.080><c> that</c><01:20:50.239><c> may</c><01:20:50.560><c> actually</c><01:20:51.440><c> result</c><01:20:51.760><c> into</c>

01:20:51.990 --> 01:20:52.000 align:start position:0%
because that may actually result into
 

01:20:52.000 --> 01:20:53.669 align:start position:0%
because that may actually result into
bizarre<01:20:52.560><c> uh</c>

01:20:53.669 --> 01:20:53.679 align:start position:0%
bizarre uh
 

01:20:53.679 --> 01:20:56.310 align:start position:0%
bizarre uh
bizarre<01:20:54.080><c> behavior</c><01:20:54.960><c> observable</c><01:20:55.520><c> by</c><01:20:55.679><c> user</c>

01:20:56.310 --> 01:20:56.320 align:start position:0%
bizarre behavior observable by user
 

01:20:56.320 --> 01:20:57.990 align:start position:0%
bizarre behavior observable by user
programs

01:20:57.990 --> 01:20:58.000 align:start position:0%
programs
 

01:20:58.000 --> 01:20:59.030 align:start position:0%
programs
and<01:20:58.080><c> so</c><01:20:58.239><c> it</c><01:20:58.400><c> has</c><01:20:58.560><c> to</c><01:20:58.639><c> be</c><01:20:58.719><c> the</c><01:20:58.800><c> case</c><01:20:58.960><c> that</c>

01:20:59.030 --> 01:20:59.040 align:start position:0%
and so it has to be the case that
 

01:20:59.040 --> 01:21:01.430 align:start position:0%
and so it has to be the case that
basically<01:20:59.360><c> you</c><01:20:59.600><c> commit</c><01:21:00.159><c> you</c><01:21:00.239><c> know</c><01:21:00.400><c> the</c>

01:21:01.430 --> 01:21:01.440 align:start position:0%
basically you commit you know the
 

01:21:01.440 --> 01:21:03.030 align:start position:0%
basically you commit you know the
operations<01:21:02.080><c> transactions</c><01:21:02.639><c> in</c><01:21:02.719><c> the</c><01:21:02.800><c> order</c>

01:21:03.030 --> 01:21:03.040 align:start position:0%
operations transactions in the order
 

01:21:03.040 --> 01:21:05.030 align:start position:0%
operations transactions in the order
they<01:21:03.280><c> happened</c>

01:21:05.030 --> 01:21:05.040 align:start position:0%
they happened
 

01:21:05.040 --> 01:21:06.470 align:start position:0%
they happened
and<01:21:05.360><c> also</c><01:21:05.520><c> performed</c><01:21:05.840><c> their</c><01:21:06.000><c> rights</c><01:21:06.239><c> in</c><01:21:06.400><c> the</c>

01:21:06.470 --> 01:21:06.480 align:start position:0%
and also performed their rights in the
 

01:21:06.480 --> 01:21:09.189 align:start position:0%
and also performed their rights in the
order<01:21:06.719><c> they</c><01:21:06.960><c> happened</c>

01:21:09.189 --> 01:21:09.199 align:start position:0%
order they happened
 

01:21:09.199 --> 01:21:13.510 align:start position:0%
order they happened
and<01:21:09.360><c> so</c><01:21:09.600><c> in</c><01:21:09.679><c> general</c><01:21:10.080><c> you</c><01:21:10.159><c> know</c>

01:21:13.510 --> 01:21:13.520 align:start position:0%
 
 

01:21:13.520 --> 01:21:15.270 align:start position:0%
 
it's<01:21:13.600><c> safe</c><01:21:14.000><c> you</c><01:21:14.159><c> know</c><01:21:14.639><c> it's</c><01:21:14.880><c> safe</c><01:21:15.120><c> to</c>

01:21:15.270 --> 01:21:15.280 align:start position:0%
it's safe you know it's safe to
 

01:21:15.280 --> 01:21:16.550 align:start position:0%
it's safe you know it's safe to
basically<01:21:15.520><c> commit</c><01:21:15.760><c> them</c><01:21:15.920><c> all</c><01:21:16.000><c> together</c>

01:21:16.550 --> 01:21:16.560 align:start position:0%
basically commit them all together
 

01:21:16.560 --> 01:21:19.750 align:start position:0%
basically commit them all together
you're<01:21:16.719><c> always</c><01:21:16.960><c> in</c><01:21:17.040><c> a</c><01:21:17.120><c> good</c><01:21:17.280><c> shape</c><01:21:18.560><c> okay</c>

01:21:19.750 --> 01:21:19.760 align:start position:0%
you're always in a good shape okay
 

01:21:19.760 --> 01:21:23.750 align:start position:0%
you're always in a good shape okay
good<01:21:20.000><c> question</c><01:21:20.239><c> though</c>

01:21:23.750 --> 01:21:23.760 align:start position:0%
 
 

01:21:23.760 --> 01:21:26.790 align:start position:0%
 
um<01:21:24.400><c> okay</c><01:21:24.719><c> i</c><01:21:24.800><c> just</c><01:21:24.960><c> want</c><01:21:25.120><c> to</c><01:21:25.520><c> go</c><01:21:25.679><c> back</c><01:21:26.080><c> to</c><01:21:26.560><c> one</c>

01:21:26.790 --> 01:21:26.800 align:start position:0%
um okay i just want to go back to one
 

01:21:26.800 --> 01:21:27.669 align:start position:0%
um okay i just want to go back to one
more<01:21:27.040><c> thing</c>

01:21:27.669 --> 01:21:27.679 align:start position:0%
more thing
 

01:21:27.679 --> 01:21:29.910 align:start position:0%
more thing
and<01:21:28.080><c> look</c><01:21:28.320><c> at</c><01:21:28.400><c> the</c><01:21:28.480><c> beginner</c><01:21:28.880><c> up</c><01:21:29.360><c> i</c><01:21:29.600><c> talked</c><01:21:29.840><c> a</c>

01:21:29.910 --> 01:21:29.920 align:start position:0%
and look at the beginner up i talked a
 

01:21:29.920 --> 01:21:31.110 align:start position:0%
and look at the beginner up i talked a
little<01:21:30.080><c> bit</c><01:21:30.239><c> because</c><01:21:30.560><c> i</c><01:21:30.560><c> said</c><01:21:30.719><c> like</c><01:21:30.880><c> oh</c>

01:21:31.110 --> 01:21:31.120 align:start position:0%
little bit because i said like oh
 

01:21:31.120 --> 01:21:32.229 align:start position:0%
little bit because i said like oh
nothing<01:21:31.440><c> i</c><01:21:31.520><c> don't</c><01:21:31.679><c> really</c><01:21:31.840><c> want</c><01:21:32.000><c> to</c><01:21:32.080><c> talk</c>

01:21:32.229 --> 01:21:32.239 align:start position:0%
nothing i don't really want to talk
 

01:21:32.239 --> 01:21:35.830 align:start position:0%
nothing i don't really want to talk
about<01:21:32.400><c> it</c><01:21:32.480><c> right</c><01:21:32.639><c> now</c>

01:21:35.830 --> 01:21:35.840 align:start position:0%
 
 

01:21:35.840 --> 01:21:40.950 align:start position:0%
 
but<01:21:38.000><c> there</c><01:21:38.239><c> we</c><01:21:38.400><c> can</c><01:21:38.560><c> see</c>

01:21:40.950 --> 01:21:40.960 align:start position:0%
 
 

01:21:40.960 --> 01:21:44.629 align:start position:0%
 
so<01:21:41.120><c> here's</c><01:21:41.360><c> the</c><01:21:41.520><c> game</c><01:21:41.840><c> up</c><01:21:43.120><c> uh</c><01:21:43.520><c> first</c><01:21:43.679><c> of</c><01:21:43.840><c> all</c>

01:21:44.629 --> 01:21:44.639 align:start position:0%
so here's the game up uh first of all
 

01:21:44.639 --> 01:21:46.950 align:start position:0%
so here's the game up uh first of all
if<01:21:45.600><c> we're</c><01:21:45.760><c> already</c><01:21:46.000><c> in</c><01:21:46.159><c> committing</c><01:21:46.560><c> the</c><01:21:46.719><c> log</c>

01:21:46.950 --> 01:21:46.960 align:start position:0%
if we're already in committing the log
 

01:21:46.960 --> 01:21:48.229 align:start position:0%
if we're already in committing the log
we're<01:21:47.120><c> just</c><01:21:47.280><c> going</c><01:21:47.360><c> to</c><01:21:47.440><c> wait</c><01:21:47.679><c> until</c><01:21:47.920><c> the</c><01:21:48.000><c> log</c>

01:21:48.229 --> 01:21:48.239 align:start position:0%
we're just going to wait until the log
 

01:21:48.239 --> 01:21:48.950 align:start position:0%
we're just going to wait until the log
has<01:21:48.400><c> committed</c>

01:21:48.950 --> 01:21:48.960 align:start position:0%
has committed
 

01:21:48.960 --> 01:21:51.110 align:start position:0%
has committed
because<01:21:49.360><c> you</c><01:21:49.440><c> know</c><01:21:49.760><c> we</c><01:21:49.920><c> can't</c><01:21:50.639><c> write</c><01:21:50.880><c> to</c><01:21:50.960><c> the</c>

01:21:51.110 --> 01:21:51.120 align:start position:0%
because you know we can't write to the
 

01:21:51.120 --> 01:21:52.550 align:start position:0%
because you know we can't write to the
log<01:21:51.360><c> while</c><01:21:51.520><c> the</c><01:21:51.679><c> log</c><01:21:51.920><c> actually</c><01:21:52.320><c> being</c>

01:21:52.550 --> 01:21:52.560 align:start position:0%
log while the log actually being
 

01:21:52.560 --> 01:21:53.910 align:start position:0%
log while the log actually being
installed

01:21:53.910 --> 01:21:53.920 align:start position:0%
installed
 

01:21:53.920 --> 01:21:57.830 align:start position:0%
installed
um<01:21:55.040><c> if</c><01:21:56.159><c> uh</c><01:21:56.560><c> we're</c><01:21:56.880><c> the</c>

01:21:57.830 --> 01:21:57.840 align:start position:0%
um if uh we're the
 

01:21:57.840 --> 01:22:00.310 align:start position:0%
um if uh we're the
end<01:21:58.400><c> concurrent</c><01:21:58.880><c> operation</c><01:21:59.360><c> that</c><01:21:59.520><c> basically</c>

01:22:00.310 --> 01:22:00.320 align:start position:0%
end concurrent operation that basically
 

01:22:00.320 --> 01:22:02.470 align:start position:0%
end concurrent operation that basically
makes<01:22:00.639><c> us</c><01:22:00.800><c> go</c><01:22:01.040><c> across</c><01:22:01.520><c> that</c><01:22:01.760><c> lock</c><01:22:02.000><c> size</c><01:22:02.320><c> we</c>

01:22:02.470 --> 01:22:02.480 align:start position:0%
makes us go across that lock size we
 

01:22:02.480 --> 01:22:05.110 align:start position:0%
makes us go across that lock size we
could<01:22:02.639><c> just</c><01:22:02.800><c> go</c><01:22:02.960><c> to</c><01:22:03.120><c> sleep</c>

01:22:05.110 --> 01:22:05.120 align:start position:0%
could just go to sleep
 

01:22:05.120 --> 01:22:07.669 align:start position:0%
could just go to sleep
and<01:22:06.000><c> wait</c><01:22:06.400><c> until</c><01:22:06.719><c> basically</c><01:22:07.280><c> all</c><01:22:07.440><c> the</c>

01:22:07.669 --> 01:22:07.679 align:start position:0%
and wait until basically all the
 

01:22:07.679 --> 01:22:09.189 align:start position:0%
and wait until basically all the
preceding<01:22:08.159><c> concurrent</c><01:22:08.560><c> transactions</c><01:22:09.040><c> are</c>

01:22:09.189 --> 01:22:09.199 align:start position:0%
preceding concurrent transactions are
 

01:22:09.199 --> 01:22:10.470 align:start position:0%
preceding concurrent transactions are
done

01:22:10.470 --> 01:22:10.480 align:start position:0%
done
 

01:22:10.480 --> 01:22:12.870 align:start position:0%
done
and<01:22:10.719><c> if</c><01:22:11.520><c> we're</c><01:22:11.760><c> allowed</c><01:22:12.080><c> to</c><01:22:12.159><c> proceed</c><01:22:12.639><c> you</c><01:22:12.719><c> know</c>

01:22:12.870 --> 01:22:12.880 align:start position:0%
and if we're allowed to proceed you know
 

01:22:12.880 --> 01:22:14.390 align:start position:0%
and if we're allowed to proceed you know
basically<01:22:13.280><c> our</c><01:22:13.440><c> entrance</c>

01:22:14.390 --> 01:22:14.400 align:start position:0%
basically our entrance
 

01:22:14.400 --> 01:22:16.390 align:start position:0%
basically our entrance
is<01:22:14.560><c> allowed</c><01:22:15.120><c> you</c><01:22:15.280><c> know</c><01:22:15.360><c> we</c><01:22:15.520><c> increase</c><01:22:15.920><c> lockout</c>

01:22:16.390 --> 01:22:16.400 align:start position:0%
is allowed you know we increase lockout
 

01:22:16.400 --> 01:22:17.590 align:start position:0%
is allowed you know we increase lockout
standing<01:22:16.800><c> by</c><01:22:17.040><c> one</c>

01:22:17.590 --> 01:22:17.600 align:start position:0%
standing by one
 

01:22:17.600 --> 01:22:19.110 align:start position:0%
standing by one
because<01:22:17.840><c> that</c><01:22:18.080><c> reflect</c><01:22:18.480><c> our</c><01:22:18.639><c> thing</c><01:22:18.880><c> and</c><01:22:18.960><c> then</c>

01:22:19.110 --> 01:22:19.120 align:start position:0%
because that reflect our thing and then
 

01:22:19.120 --> 01:22:20.550 align:start position:0%
because that reflect our thing and then
we<01:22:19.280><c> basically</c><01:22:19.600><c> proceed</c><01:22:20.080><c> and</c><01:22:20.159><c> start</c><01:22:20.320><c> doing</c>

01:22:20.550 --> 01:22:20.560 align:start position:0%
we basically proceed and start doing
 

01:22:20.560 --> 01:22:22.790 align:start position:0%
we basically proceed and start doing
file<01:22:20.800><c> system</c><01:22:21.040><c> operations</c>

01:22:22.790 --> 01:22:22.800 align:start position:0%
file system operations
 

01:22:22.800 --> 01:22:26.550 align:start position:0%
file system operations
and<01:22:22.960><c> if</c><01:22:23.120><c> you</c><01:22:23.360><c> look</c><01:22:23.600><c> at</c><01:22:24.320><c> and</c><01:22:24.560><c> off</c><01:22:24.719><c> again</c><01:22:25.199><c> just</c><01:22:25.440><c> to</c>

01:22:26.550 --> 01:22:26.560 align:start position:0%
and if you look at and off again just to
 

01:22:26.560 --> 01:22:28.390 align:start position:0%
and if you look at and off again just to
see<01:22:26.800><c> you</c><01:22:26.880><c> see</c><01:22:27.040><c> that</c><01:22:27.280><c> end</c><01:22:27.440><c> up</c><01:22:27.760><c> basically</c>

01:22:28.390 --> 01:22:28.400 align:start position:0%
see you see that end up basically
 

01:22:28.400 --> 01:22:30.310 align:start position:0%
see you see that end up basically
decreases<01:22:29.040><c> lock</c><01:22:29.280><c> outstanding</c><01:22:29.840><c> by</c><01:22:30.000><c> one</c>

01:22:30.310 --> 01:22:30.320 align:start position:0%
decreases lock outstanding by one
 

01:22:30.320 --> 01:22:32.550 align:start position:0%
decreases lock outstanding by one
because<01:22:30.560><c> one</c><01:22:30.800><c> transaction</c><01:22:31.280><c> has</c><01:22:31.440><c> finished</c>

01:22:32.550 --> 01:22:32.560 align:start position:0%
because one transaction has finished
 

01:22:32.560 --> 01:22:35.430 align:start position:0%
because one transaction has finished
uh<01:22:33.280><c> it</c><01:22:33.920><c> certainly</c><01:22:34.320><c> would</c><01:22:34.480><c> be</c><01:22:34.800><c> an</c><01:22:34.960><c> error</c><01:22:35.199><c> if</c><01:22:35.360><c> we</c>

01:22:35.430 --> 01:22:35.440 align:start position:0%
uh it certainly would be an error if we
 

01:22:35.440 --> 01:22:37.030 align:start position:0%
uh it certainly would be an error if we
were<01:22:35.600><c> in</c><01:22:35.679><c> creating</c><01:22:36.080><c> states</c><01:22:36.320><c> we</c><01:22:36.480><c> panic</c><01:22:36.800><c> in</c><01:22:36.880><c> that</c>

01:22:37.030 --> 01:22:37.040 align:start position:0%
were in creating states we panic in that
 

01:22:37.040 --> 01:22:37.669 align:start position:0%
were in creating states we panic in that
case

01:22:37.669 --> 01:22:37.679 align:start position:0%
case
 

01:22:37.679 --> 01:22:39.750 align:start position:0%
case
and<01:22:37.840><c> we</c><01:22:38.080><c> actually</c><01:22:38.639><c> are</c><01:22:38.880><c> the</c><01:22:39.040><c> last</c><01:22:39.360><c> one</c><01:22:39.600><c> from</c>

01:22:39.750 --> 01:22:39.760 align:start position:0%
and we actually are the last one from
 

01:22:39.760 --> 01:22:41.830 align:start position:0%
and we actually are the last one from
that<01:22:39.920><c> set</c><01:22:40.080><c> of</c><01:22:40.159><c> concurrent</c><01:22:40.560><c> transactions</c>

01:22:41.830 --> 01:22:41.840 align:start position:0%
that set of concurrent transactions
 

01:22:41.840 --> 01:22:43.830 align:start position:0%
that set of concurrent transactions
then<01:22:42.159><c> actually</c><01:22:42.639><c> uh</c><01:22:43.040><c> and</c><01:22:43.280><c> lockouts</c><01:22:43.679><c> and</c><01:22:43.760><c> it</c>

01:22:43.830 --> 01:22:43.840 align:start position:0%
then actually uh and lockouts and it
 

01:22:43.840 --> 01:22:45.110 align:start position:0%
then actually uh and lockouts and it
goes<01:22:44.000><c> to</c><01:22:44.159><c> zero</c><01:22:44.480><c> we</c><01:22:44.560><c> immediately</c><01:22:44.960><c> start</c>

01:22:45.110 --> 01:22:45.120 align:start position:0%
goes to zero we immediately start
 

01:22:45.120 --> 01:22:46.790 align:start position:0%
goes to zero we immediately start
committing

01:22:46.790 --> 01:22:46.800 align:start position:0%
committing
 

01:22:46.800 --> 01:22:49.910 align:start position:0%
committing
and<01:22:46.960><c> then</c><01:22:47.199><c> when</c><01:22:47.440><c> we're</c><01:22:47.600><c> done</c><01:22:48.639><c> uh</c><01:22:49.120><c> or</c><01:22:49.520><c> when</c>

01:22:49.910 --> 01:22:49.920 align:start position:0%
and then when we're done uh or when
 

01:22:49.920 --> 01:22:52.950 align:start position:0%
and then when we're done uh or when
actually<01:22:50.320><c> uh</c><01:22:50.960><c> uh</c><01:22:51.280><c> if</c><01:22:51.440><c> we're</c><01:22:51.600><c> not</c><01:22:51.840><c> the</c><01:22:51.920><c> lie</c><01:22:52.480><c> uh</c>

01:22:52.950 --> 01:22:52.960 align:start position:0%
actually uh uh if we're not the lie uh
 

01:22:52.960 --> 01:22:56.149 align:start position:0%
actually uh uh if we're not the lie uh
yeah<01:22:54.719><c> um</c>

01:22:56.149 --> 01:22:56.159 align:start position:0%
yeah um
 

01:22:56.159 --> 01:22:59.510 align:start position:0%
yeah um
yeah<01:22:56.320><c> we</c><01:22:56.480><c> commit</c>

01:22:59.510 --> 01:22:59.520 align:start position:0%
 
 

01:22:59.520 --> 01:23:01.990 align:start position:0%
 
uh<01:22:59.760><c> and</c><01:22:59.920><c> if</c><01:23:00.000><c> there's</c><01:23:00.239><c> space</c><01:23:00.560><c> you</c><01:23:00.639><c> know</c><01:23:01.280><c> uh</c><01:23:01.760><c> left</c>

01:23:01.990 --> 01:23:02.000 align:start position:0%
uh and if there's space you know uh left
 

01:23:02.000 --> 01:23:03.510 align:start position:0%
uh and if there's space you know uh left
you<01:23:02.159><c> know</c><01:23:02.239><c> we</c><01:23:02.400><c> wake</c><01:23:02.639><c> up</c><01:23:02.719><c> a</c><01:23:02.800><c> guy</c><01:23:03.040><c> so</c><01:23:03.199><c> that</c><01:23:03.360><c> they</c>

01:23:03.510 --> 01:23:03.520 align:start position:0%
you know we wake up a guy so that they
 

01:23:03.520 --> 01:23:06.310 align:start position:0%
you know we wake up a guy so that they
can<01:23:03.679><c> actually</c><01:23:03.920><c> start</c><01:23:04.840><c> running</c>

01:23:06.310 --> 01:23:06.320 align:start position:0%
can actually start running
 

01:23:06.320 --> 01:23:09.270 align:start position:0%
can actually start running
okay<01:23:07.520><c> so</c><01:23:07.840><c> even</c><01:23:08.159><c> though</c><01:23:08.400><c> this</c><01:23:08.639><c> dirt</c><01:23:08.960><c> simple</c>

01:23:09.270 --> 01:23:09.280 align:start position:0%
okay so even though this dirt simple
 

01:23:09.280 --> 01:23:10.629 align:start position:0%
okay so even though this dirt simple
file<01:23:09.520><c> system</c><01:23:09.920><c> that</c><01:23:10.159><c> uh</c>

01:23:10.629 --> 01:23:10.639 align:start position:0%
file system that uh
 

01:23:10.639 --> 01:23:12.470 align:start position:0%
file system that uh
or<01:23:10.800><c> this</c><01:23:11.040><c> very</c><01:23:11.280><c> simple</c><01:23:11.600><c> logging</c><01:23:11.920><c> system</c><01:23:12.239><c> that</c>

01:23:12.470 --> 01:23:12.480 align:start position:0%
or this very simple logging system that
 

01:23:12.480 --> 01:23:14.310 align:start position:0%
or this very simple logging system that
xv6<01:23:13.120><c> actually</c><01:23:13.679><c> has</c><01:23:13.920><c> a</c><01:23:14.000><c> bunch</c><01:23:14.239><c> of</c>

01:23:14.310 --> 01:23:14.320 align:start position:0%
xv6 actually has a bunch of
 

01:23:14.320 --> 01:23:18.070 align:start position:0%
xv6 actually has a bunch of
complications

01:23:18.070 --> 01:23:18.080 align:start position:0%
 
 

01:23:18.080 --> 01:23:19.990 align:start position:0%
 
so<01:23:18.320><c> i'm</c><01:23:18.639><c> starting</c><01:23:18.880><c> to</c><01:23:19.040><c> run</c><01:23:19.199><c> out</c><01:23:19.360><c> of</c><01:23:19.440><c> time</c><01:23:19.679><c> so</c>

01:23:19.990 --> 01:23:20.000 align:start position:0%
so i'm starting to run out of time so
 

01:23:20.000 --> 01:23:22.229 align:start position:0%
so i'm starting to run out of time so
let<01:23:20.159><c> me</c><01:23:20.639><c> wrap</c><01:23:20.880><c> up</c><01:23:21.040><c> here</c>

01:23:22.229 --> 01:23:22.239 align:start position:0%
let me wrap up here
 

01:23:22.239 --> 01:23:25.830 align:start position:0%
let me wrap up here
so<01:23:22.639><c> in</c><01:23:22.800><c> summary</c>

01:23:25.830 --> 01:23:25.840 align:start position:0%
 
 

01:23:25.840 --> 01:23:28.229 align:start position:0%
 
you<01:23:26.000><c> know</c><01:23:26.239><c> what</c><01:23:26.480><c> we</c><01:23:26.719><c> uh</c><01:23:27.199><c> what</c><01:23:27.440><c> we</c><01:23:27.520><c> talked</c><01:23:27.760><c> about</c>

01:23:28.229 --> 01:23:28.239 align:start position:0%
you know what we uh what we talked about
 

01:23:28.239 --> 01:23:30.550 align:start position:0%
you know what we uh what we talked about
is<01:23:28.639><c> basically</c><01:23:29.120><c> logging</c>

01:23:30.550 --> 01:23:30.560 align:start position:0%
is basically logging
 

01:23:30.560 --> 01:23:35.830 align:start position:0%
is basically logging
as<01:23:30.719><c> a</c><01:23:30.880><c> solution</c><01:23:32.840><c> for</c><01:23:33.920><c> for</c><01:23:34.159><c> crash</c><01:23:34.480><c> safety</c>

01:23:35.830 --> 01:23:35.840 align:start position:0%
as a solution for for crash safety
 

01:23:35.840 --> 01:23:39.669 align:start position:0%
as a solution for for crash safety
or<01:23:36.000><c> really</c><01:23:36.400><c> for</c><01:23:36.880><c> multi-step</c>

01:23:39.669 --> 01:23:39.679 align:start position:0%
 
 

01:23:39.679 --> 01:23:43.669 align:start position:0%
 
file<01:23:39.920><c> system</c><01:23:40.239><c> operations</c>

01:23:43.669 --> 01:23:43.679 align:start position:0%
 
 

01:23:43.679 --> 01:23:46.310 align:start position:0%
 
and<01:23:44.800><c> you</c><01:23:44.880><c> know</c><01:23:45.040><c> what</c><01:23:45.120><c> have</c><01:23:45.280><c> you</c><01:23:45.360><c> seen</c><01:23:45.600><c> so</c><01:23:45.760><c> far</c>

01:23:46.310 --> 01:23:46.320 align:start position:0%
and you know what have you seen so far
 

01:23:46.320 --> 01:23:48.149 align:start position:0%
and you know what have you seen so far
you<01:23:46.480><c> know</c><01:23:46.639><c> it</c><01:23:46.719><c> works</c><01:23:47.040><c> great</c><01:23:47.280><c> for</c><01:23:47.440><c> crash</c><01:23:47.679><c> safety</c>

01:23:48.149 --> 01:23:48.159 align:start position:0%
you know it works great for crash safety
 

01:23:48.159 --> 01:23:51.590 align:start position:0%
you know it works great for crash safety
but<01:23:48.480><c> you</c><01:23:48.560><c> know</c><01:23:48.719><c> performance</c><01:23:50.239><c> and</c>

01:23:51.590 --> 01:23:51.600 align:start position:0%
but you know performance and
 

01:23:51.600 --> 01:23:53.350 align:start position:0%
but you know performance and
that's<01:23:51.840><c> going</c><01:23:51.920><c> to</c><01:23:52.000><c> be</c><01:23:52.159><c> the</c><01:23:52.239><c> topic</c><01:23:52.560><c> for</c><01:23:52.719><c> monday</c>

01:23:53.350 --> 01:23:53.360 align:start position:0%
that's going to be the topic for monday
 

01:23:53.360 --> 01:23:55.110 align:start position:0%
that's going to be the topic for monday
and<01:23:54.159><c> as</c><01:23:54.400><c> you</c><01:23:54.560><c> read</c>

01:23:55.110 --> 01:23:55.120 align:start position:0%
and as you read
 

01:23:55.120 --> 01:23:58.070 align:start position:0%
and as you read
that<01:23:55.760><c> hd3</c><01:23:56.400><c> file</c><01:23:56.639><c> system</c><01:23:56.880><c> paper</c><01:23:57.199><c> for</c><01:23:57.360><c> monday</c>

01:23:58.070 --> 01:23:58.080 align:start position:0%
that hd3 file system paper for monday
 

01:23:58.080 --> 01:23:59.350 align:start position:0%
that hd3 file system paper for monday
you<01:23:58.239><c> know</c><01:23:58.480><c> that's</c><01:23:58.719><c> the</c><01:23:58.800><c> thing</c><01:23:58.960><c> you</c><01:23:59.120><c> should</c><01:23:59.280><c> be</c>

01:23:59.350 --> 01:23:59.360 align:start position:0%
you know that's the thing you should be
 

01:23:59.360 --> 01:24:02.070 align:start position:0%
you know that's the thing you should be
thinking<01:24:00.840><c> about</c>

01:24:02.070 --> 01:24:02.080 align:start position:0%
thinking about
 

01:24:02.080 --> 01:24:04.310 align:start position:0%
thinking about
any<01:24:02.480><c> more</c><01:24:02.639><c> final</c><01:24:03.120><c> questions</c><01:24:03.840><c> and</c><01:24:04.000><c> in</c><01:24:04.080><c> fact</c>

01:24:04.310 --> 01:24:04.320 align:start position:0%
any more final questions and in fact
 

01:24:04.320 --> 01:24:05.910 align:start position:0%
any more final questions and in fact
anybody<01:24:04.639><c> who</c><01:24:04.880><c> has</c><01:24:04.960><c> to</c><01:24:05.120><c> leave</c><01:24:05.360><c> you</c><01:24:05.440><c> know</c><01:24:05.600><c> please</c>

01:24:05.910 --> 01:24:05.920 align:start position:0%
anybody who has to leave you know please
 

01:24:05.920 --> 01:24:07.669 align:start position:0%
anybody who has to leave you know please
you<01:24:06.000><c> know</c><01:24:06.159><c> feel</c><01:24:06.320><c> free</c><01:24:06.480><c> to</c><01:24:06.880><c> leave</c><01:24:07.120><c> but</c><01:24:07.360><c> if</c><01:24:07.440><c> you</c>

01:24:07.669 --> 01:24:07.679 align:start position:0%
you know feel free to leave but if you
 

01:24:07.679 --> 01:24:08.229 align:start position:0%
you know feel free to leave but if you
uh

01:24:08.229 --> 01:24:08.239 align:start position:0%
uh
 

01:24:08.239 --> 01:24:09.510 align:start position:0%
uh
i<01:24:08.320><c> want</c><01:24:08.480><c> to</c><01:24:08.560><c> hang</c><01:24:08.719><c> around</c><01:24:09.040><c> and</c><01:24:09.199><c> ask</c><01:24:09.360><c> more</c>

01:24:09.510 --> 01:24:09.520 align:start position:0%
i want to hang around and ask more
 

01:24:09.520 --> 01:24:14.470 align:start position:0%
i want to hang around and ask more
questions<01:24:10.000><c> uh</c><01:24:10.239><c> you</c><01:24:10.320><c> know</c><01:24:10.480><c> please</c><01:24:10.800><c> do</c><01:24:10.960><c> so</c>

01:24:14.470 --> 01:24:14.480 align:start position:0%
 
 

01:24:14.480 --> 01:24:17.590 align:start position:0%
 
oh<01:24:14.719><c> i</c><01:24:14.800><c> have</c><01:24:15.040><c> a</c><01:24:15.120><c> question</c><01:24:15.440><c> regarding</c><01:24:16.560><c> um</c><01:24:17.120><c> cache</c>

01:24:17.590 --> 01:24:17.600 align:start position:0%
oh i have a question regarding um cache
 

01:24:17.600 --> 01:24:18.070 align:start position:0%
oh i have a question regarding um cache
size

01:24:18.070 --> 01:24:18.080 align:start position:0%
size
 

01:24:18.080 --> 01:24:21.110 align:start position:0%
size
and<01:24:18.239><c> the</c><01:24:18.719><c> log</c><01:24:19.040><c> size</c><01:24:19.840><c> so</c><01:24:20.400><c> you</c><01:24:20.560><c> said</c><01:24:20.719><c> that</c><01:24:20.960><c> the</c>

01:24:21.110 --> 01:24:21.120 align:start position:0%
and the log size so you said that the
 

01:24:21.120 --> 01:24:23.189 align:start position:0%
and the log size so you said that the
cache<01:24:21.440><c> size</c><01:24:21.679><c> has</c><01:24:21.840><c> to</c><01:24:21.920><c> be</c><01:24:22.080><c> at</c><01:24:22.239><c> least</c><01:24:22.480><c> as</c><01:24:22.639><c> big</c><01:24:22.880><c> as</c>

01:24:23.189 --> 01:24:23.199 align:start position:0%
cache size has to be at least as big as
 

01:24:23.199 --> 01:24:25.830 align:start position:0%
cache size has to be at least as big as
the<01:24:23.360><c> log</c><01:24:23.760><c> size</c><01:24:24.719><c> but</c><01:24:25.040><c> they</c><01:24:25.199><c> seem</c><01:24:25.440><c> to</c><01:24:25.520><c> be</c><01:24:25.679><c> the</c>

01:24:25.830 --> 01:24:25.840 align:start position:0%
the log size but they seem to be the
 

01:24:25.840 --> 01:24:27.189 align:start position:0%
the log size but they seem to be the
same<01:24:26.159><c> size</c><01:24:26.560><c> for</c>

01:24:27.189 --> 01:24:27.199 align:start position:0%
same size for
 

01:24:27.199 --> 01:24:30.149 align:start position:0%
same size for
this<01:24:27.520><c> case</c><01:24:28.239><c> so</c><01:24:28.480><c> would</c><01:24:28.639><c> that</c><01:24:28.800><c> mean</c><01:24:29.040><c> that</c><01:24:29.600><c> if</c><01:24:29.920><c> the</c>

01:24:30.149 --> 01:24:30.159 align:start position:0%
this case so would that mean that if the
 

01:24:30.159 --> 01:24:30.790 align:start position:0%
this case so would that mean that if the
log

01:24:30.790 --> 01:24:30.800 align:start position:0%
log
 

01:24:30.800 --> 01:24:34.629 align:start position:0%
log
pins<01:24:32.560><c> 30</c><01:24:33.600><c> um</c>

01:24:34.629 --> 01:24:34.639 align:start position:0%
pins 30 um
 

01:24:34.639 --> 01:24:37.590 align:start position:0%
pins 30 um
buffers<01:24:36.000><c> and</c><01:24:36.080><c> then</c><01:24:36.560><c> some</c><01:24:36.800><c> other</c><01:24:37.040><c> operation</c>

01:24:37.590 --> 01:24:37.600 align:start position:0%
buffers and then some other operation
 

01:24:37.600 --> 01:24:39.669 align:start position:0%
buffers and then some other operation
tries<01:24:37.920><c> to</c><01:24:38.000><c> do</c><01:24:38.159><c> something</c>

01:24:39.669 --> 01:24:39.679 align:start position:0%
tries to do something
 

01:24:39.679 --> 01:24:43.590 align:start position:0%
tries to do something
it<01:24:39.840><c> just</c><01:24:40.080><c> fails</c><01:24:40.560><c> because</c><01:24:40.880><c> it</c><01:24:41.679><c> it</c><01:24:41.840><c> runs</c><01:24:42.159><c> out</c><01:24:42.639><c> of</c>

01:24:43.590 --> 01:24:43.600 align:start position:0%
it just fails because it it runs out of
 

01:24:43.600 --> 01:24:47.430 align:start position:0%
it just fails because it it runs out of
free<01:24:46.080><c> spots</c><01:24:46.480><c> in</c><01:24:46.560><c> the</c><01:24:46.719><c> buffer</c>

01:24:47.430 --> 01:24:47.440 align:start position:0%
free spots in the buffer
 

01:24:47.440 --> 01:24:50.629 align:start position:0%
free spots in the buffer
no<01:24:49.520><c> maybe</c><01:24:49.920><c> let's</c><01:24:50.239><c> let's</c>

01:24:50.629 --> 01:24:50.639 align:start position:0%
no maybe let's let's
 

01:24:50.639 --> 01:24:56.470 align:start position:0%
no maybe let's let's
look<01:24:50.880><c> at</c><01:24:50.960><c> the</c><01:24:52.800><c> uh</c><01:24:53.199><c> okay</c><01:24:53.520><c> so</c>

01:24:56.470 --> 01:24:56.480 align:start position:0%
 
 

01:24:56.480 --> 01:25:02.470 align:start position:0%
 
let<01:24:56.639><c> me</c><01:24:56.719><c> first</c><01:24:56.960><c> actually</c><01:24:57.199><c> check</c><01:24:57.520><c> one</c><01:24:57.679><c> thing</c><01:24:59.280><c> uh</c>

01:25:02.470 --> 01:25:02.480 align:start position:0%
 
 

01:25:02.480 --> 01:25:07.189 align:start position:0%
 
okay<01:25:02.960><c> let's</c><01:25:03.199><c> go</c><01:25:03.440><c> through</c><01:25:03.600><c> bio</c>

01:25:07.189 --> 01:25:07.199 align:start position:0%
 
 

01:25:07.199 --> 01:25:10.390 align:start position:0%
 
uh<01:25:07.520><c> okay</c><01:25:10.080><c> let's</c>

01:25:10.390 --> 01:25:10.400 align:start position:0%
uh okay let's
 

01:25:10.400 --> 01:25:11.990 align:start position:0%
uh okay let's
actually<01:25:10.639><c> first</c><01:25:10.960><c> check</c><01:25:11.280><c> if</c><01:25:11.440><c> and</c><01:25:11.600><c> buff</c><01:25:11.840><c> is</c>

01:25:11.990 --> 01:25:12.000 align:start position:0%
actually first check if and buff is
 

01:25:12.000 --> 01:25:15.110 align:start position:0%
actually first check if and buff is
bigger<01:25:12.320><c> than</c>

01:25:15.110 --> 01:25:15.120 align:start position:0%
 
 

01:25:15.120 --> 01:25:16.950 align:start position:0%
 
okay<01:25:15.440><c> let's</c><01:25:15.600><c> set</c><01:25:15.760><c> some</c><01:25:16.000><c> matchbox</c><01:25:16.480><c> excited</c><01:25:16.800><c> to</c>

01:25:16.950 --> 01:25:16.960 align:start position:0%
okay let's set some matchbox excited to
 

01:25:16.960 --> 01:25:18.790 align:start position:0%
okay let's set some matchbox excited to
the<01:25:17.040><c> block</c><01:25:17.360><c> cache</c><01:25:17.760><c> okay</c><01:25:17.920><c> so</c><01:25:18.159><c> it's</c><01:25:18.239><c> set</c><01:25:18.480><c> up</c><01:25:18.639><c> to</c>

01:25:18.790 --> 01:25:18.800 align:start position:0%
the block cache okay so it's set up to
 

01:25:18.800 --> 01:25:20.550 align:start position:0%
the block cache okay so it's set up to
something<01:25:19.120><c> big</c>

01:25:20.550 --> 01:25:20.560 align:start position:0%
something big
 

01:25:20.560 --> 01:25:23.030 align:start position:0%
something big
uh<01:25:20.960><c> so</c><01:25:21.120><c> what</c><01:25:21.360><c> happens</c><01:25:21.679><c> actually</c><01:25:22.159><c> if</c><01:25:22.560><c> we</c><01:25:22.719><c> can't</c>

01:25:23.030 --> 01:25:23.040 align:start position:0%
uh so what happens actually if we can't
 

01:25:23.040 --> 01:25:25.510 align:start position:0%
uh so what happens actually if we can't
find<01:25:23.360><c> bkt</c><01:25:23.840><c> and</c><01:25:24.159><c> find</c><01:25:24.400><c> a</c><01:25:24.480><c> buffer</c>

01:25:25.510 --> 01:25:25.520 align:start position:0%
find bkt and find a buffer
 

01:25:25.520 --> 01:25:28.790 align:start position:0%
find bkt and find a buffer
and<01:25:25.679><c> actually</c><01:25:25.920><c> use</c><01:25:26.159><c> panics</c>

01:25:28.790 --> 01:25:28.800 align:start position:0%
 
 

01:25:28.800 --> 01:25:32.070 align:start position:0%
 
and

01:25:32.070 --> 01:25:32.080 align:start position:0%
 
 

01:25:32.080 --> 01:25:34.709 align:start position:0%
 
so<01:25:32.320><c> we</c><01:25:33.440><c> if</c><01:25:33.600><c> there's</c><01:25:33.760><c> no</c><01:25:34.000><c> free</c><01:25:34.239><c> slot</c><01:25:34.560><c> in</c><01:25:34.639><c> the</c>

01:25:34.709 --> 01:25:34.719 align:start position:0%
so we if there's no free slot in the
 

01:25:34.719 --> 01:25:36.709 align:start position:0%
so we if there's no free slot in the
buffer<01:25:35.040><c> cache</c><01:25:35.360><c> you</c><01:25:35.520><c> know</c><01:25:35.679><c> xv6</c><01:25:36.159><c> panic</c><01:25:36.480><c> so</c><01:25:36.639><c> it's</c>

01:25:36.709 --> 01:25:36.719 align:start position:0%
buffer cache you know xv6 panic so it's
 

01:25:36.719 --> 01:25:37.830 align:start position:0%
buffer cache you know xv6 panic so it's
not<01:25:36.880><c> particularly</c><01:25:37.280><c> ideal</c>

01:25:37.830 --> 01:25:37.840 align:start position:0%
not particularly ideal
 

01:25:37.840 --> 01:25:40.790 align:start position:0%
not particularly ideal
in<01:25:37.920><c> fact</c><01:25:38.159><c> to</c><01:25:38.320><c> be</c><01:25:38.719><c> it's</c><01:25:39.120><c> terrible</c><01:25:40.080><c> uh</c><01:25:40.320><c> and</c><01:25:40.480><c> so</c>

01:25:40.790 --> 01:25:40.800 align:start position:0%
in fact to be it's terrible uh and so
 

01:25:40.800 --> 01:25:42.149 align:start position:0%
in fact to be it's terrible uh and so
you<01:25:40.880><c> hope</c><01:25:41.040><c> never</c><01:25:41.280><c> to</c><01:25:41.360><c> be</c><01:25:41.520><c> in</c><01:25:41.600><c> this</c><01:25:41.679><c> situation</c>

01:25:42.149 --> 01:25:42.159 align:start position:0%
you hope never to be in this situation
 

01:25:42.159 --> 01:25:43.189 align:start position:0%
you hope never to be in this situation
and<01:25:42.239><c> hopefully</c><01:25:42.480><c> we</c><01:25:42.639><c> picked</c><01:25:42.800><c> our</c><01:25:42.880><c> numbers</c>

01:25:43.189 --> 01:25:43.199 align:start position:0%
and hopefully we picked our numbers
 

01:25:43.199 --> 01:25:44.310 align:start position:0%
and hopefully we picked our numbers
correctly<01:25:43.600><c> that</c><01:25:43.760><c> basically</c><01:25:44.080><c> this</c><01:25:44.159><c> is</c>

01:25:44.310 --> 01:25:44.320 align:start position:0%
correctly that basically this is
 

01:25:44.320 --> 01:25:45.990 align:start position:0%
correctly that basically this is
unlikely<01:25:44.800><c> to</c><01:25:44.960><c> happen</c>

01:25:45.990 --> 01:25:46.000 align:start position:0%
unlikely to happen
 

01:25:46.000 --> 01:25:49.350 align:start position:0%
unlikely to happen
uh<01:25:46.159><c> but</c><01:25:46.400><c> why</c><01:25:46.639><c> can't</c><01:25:46.800><c> we</c><01:25:46.960><c> return</c><01:25:47.280><c> an</c><01:25:47.440><c> error</c>

01:25:49.350 --> 01:25:49.360 align:start position:0%
uh but why can't we return an error
 

01:25:49.360 --> 01:25:50.550 align:start position:0%
uh but why can't we return an error
because<01:25:49.679><c> that</c><01:25:49.760><c> seems</c><01:25:50.000><c> like</c><01:25:50.080><c> the</c><01:25:50.239><c> obvious</c>

01:25:50.550 --> 01:25:50.560 align:start position:0%
because that seems like the obvious
 

01:25:50.560 --> 01:26:05.510 align:start position:0%
because that seems like the obvious
thing<01:25:50.719><c> to</c><01:25:50.800><c> do</c><01:25:51.040><c> like</c><01:25:51.199><c> you</c><01:25:52.840><c> know</c>

01:26:05.510 --> 01:26:05.520 align:start position:0%
 
 

01:26:05.520 --> 01:26:07.110 align:start position:0%
 
you<01:26:05.679><c> just</c><01:26:05.840><c> return</c><01:26:06.159><c> an</c><01:26:06.320><c> error</c><01:26:06.480><c> to</c><01:26:06.639><c> the</c><01:26:07.040><c> the</c>

01:26:07.110 --> 01:26:07.120 align:start position:0%
you just return an error to the the
 

01:26:07.120 --> 01:26:08.629 align:start position:0%
you just return an error to the the
caller<01:26:07.440><c> and</c><01:26:07.520><c> then</c><01:26:07.600><c> the</c><01:26:07.760><c> caller</c>

01:26:08.629 --> 01:26:08.639 align:start position:0%
caller and then the caller
 

01:26:08.639 --> 01:26:10.550 align:start position:0%
caller and then the caller
maybe<01:26:08.960><c> returns</c><01:26:09.360><c> uh</c><01:26:09.760><c> back</c><01:26:10.000><c> up</c><01:26:10.080><c> to</c><01:26:10.239><c> the</c><01:26:10.320><c> file</c>

01:26:10.550 --> 01:26:10.560 align:start position:0%
maybe returns uh back up to the file
 

01:26:10.560 --> 01:26:12.390 align:start position:0%
maybe returns uh back up to the file
system<01:26:10.960><c> interface</c><01:26:11.360><c> and</c><01:26:11.520><c> just</c><01:26:11.679><c> returns</c><01:26:12.080><c> minus</c>

01:26:12.390 --> 01:26:12.400 align:start position:0%
system interface and just returns minus
 

01:26:12.400 --> 01:26:15.270 align:start position:0%
system interface and just returns minus
one<01:26:12.639><c> saying</c><01:26:12.800><c> like</c><01:26:12.960><c> oh</c><01:26:13.040><c> this</c><01:26:13.280><c> operation</c><01:26:13.679><c> failed</c>

01:26:15.270 --> 01:26:15.280 align:start position:0%
one saying like oh this operation failed
 

01:26:15.280 --> 01:26:20.950 align:start position:0%
one saying like oh this operation failed
why<01:26:15.520><c> is</c><01:26:15.600><c> that</c><01:26:15.920><c> a</c><01:26:16.960><c> problem</c>

01:26:20.950 --> 01:26:20.960 align:start position:0%
 
 

01:26:20.960 --> 01:26:22.790 align:start position:0%
 
so<01:26:21.120><c> ready</c><01:26:21.360><c> to</c><01:26:21.440><c> think</c><01:26:21.600><c> about</c><01:26:21.840><c> this</c><01:26:22.000><c> is</c><01:26:22.159><c> that</c><01:26:22.719><c> you</c>

01:26:22.790 --> 01:26:22.800 align:start position:0%
so ready to think about this is that you
 

01:26:22.800 --> 01:26:24.790 align:start position:0%
so ready to think about this is that you
know<01:26:23.600><c> many</c><01:26:23.840><c> file</c><01:26:24.000><c> system</c><01:26:24.320><c> operations</c><01:26:24.719><c> are</c>

01:26:24.790 --> 01:26:24.800 align:start position:0%
know many file system operations are
 

01:26:24.800 --> 01:26:26.950 align:start position:0%
know many file system operations are
multi-step<01:26:25.440><c> operations</c><01:26:25.920><c> correct</c>

01:26:26.950 --> 01:26:26.960 align:start position:0%
multi-step operations correct
 

01:26:26.960 --> 01:26:29.270 align:start position:0%
multi-step operations correct
uh<01:26:27.280><c> as</c><01:26:27.440><c> we</c><01:26:27.600><c> have</c><01:26:27.679><c> seen</c><01:26:27.920><c> now</c><01:26:28.560><c> uh</c><01:26:28.960><c> in</c><01:26:29.040><c> this</c>

01:26:29.270 --> 01:26:29.280 align:start position:0%
uh as we have seen now uh in this
 

01:26:29.280 --> 01:26:30.070 align:start position:0%
uh as we have seen now uh in this
lecture

01:26:30.070 --> 01:26:30.080 align:start position:0%
lecture
 

01:26:30.080 --> 01:26:32.550 align:start position:0%
lecture
and<01:26:30.320><c> in</c><01:26:30.400><c> the</c><01:26:30.480><c> previous</c><01:26:30.880><c> lecture</c><01:26:31.760><c> and</c><01:26:32.320><c> let's</c>

01:26:32.550 --> 01:26:32.560 align:start position:0%
and in the previous lecture and let's
 

01:26:32.560 --> 01:26:33.510 align:start position:0%
and in the previous lecture and let's
say

01:26:33.510 --> 01:26:33.520 align:start position:0%
say
 

01:26:33.520 --> 01:26:36.550 align:start position:0%
say
uh<01:26:34.159><c> we</c><01:26:34.320><c> did</c><01:26:34.560><c> two</c><01:26:34.800><c> writes</c><01:26:35.440><c> and</c><01:26:35.520><c> then</c><01:26:35.679><c> the</c><01:26:35.840><c> third</c>

01:26:36.550 --> 01:26:36.560 align:start position:0%
uh we did two writes and then the third
 

01:26:36.560 --> 01:26:39.510 align:start position:0%
uh we did two writes and then the third
right<01:26:37.040><c> we</c><01:26:37.199><c> run</c><01:26:37.360><c> into</c><01:26:37.600><c> this</c><01:26:37.760><c> case</c><01:26:38.800><c> where</c><01:26:39.360><c> we</c>

01:26:39.510 --> 01:26:39.520 align:start position:0%
right we run into this case where we
 

01:26:39.520 --> 01:26:40.870 align:start position:0%
right we run into this case where we
can't<01:26:39.760><c> actually</c><01:26:40.000><c> do</c><01:26:40.159><c> the</c><01:26:40.239><c> right</c><01:26:40.480><c> because</c><01:26:40.800><c> you</c>

01:26:40.870 --> 01:26:40.880 align:start position:0%
can't actually do the right because you
 

01:26:40.880 --> 01:26:44.390 align:start position:0%
can't actually do the right because you
know<01:26:41.040><c> there's</c><01:26:41.280><c> no</c><01:26:41.440><c> place</c><01:26:41.679><c> in</c><01:26:41.760><c> the</c><01:26:41.840><c> block</c><01:26:42.159><c> cache</c>

01:26:44.390 --> 01:26:44.400 align:start position:0%
know there's no place in the block cache
 

01:26:44.400 --> 01:26:47.510 align:start position:0%
know there's no place in the block cache
we<01:26:44.560><c> have</c><01:26:44.639><c> done</c><01:26:44.880><c> two</c><01:26:45.199><c> rights</c><01:26:45.840><c> right</c><01:26:47.280><c> can</c><01:26:47.440><c> we</c>

01:26:47.510 --> 01:26:47.520 align:start position:0%
we have done two rights right can we
 

01:26:47.520 --> 01:26:53.830 align:start position:0%
we have done two rights right can we
just<01:26:47.760><c> bail</c><01:26:48.000><c> out</c><01:26:48.159><c> of</c><01:26:48.239><c> the</c><01:26:48.400><c> file</c><01:26:48.560><c> system</c><01:26:48.880><c> call</c>

01:26:53.830 --> 01:26:53.840 align:start position:0%
 
 

01:26:53.840 --> 01:26:56.310 align:start position:0%
 
okay<01:26:54.159><c> i</c><01:26:54.400><c> see</c><01:26:54.800><c> right</c><01:26:55.440><c> we</c><01:26:55.600><c> cannot</c><01:26:56.080><c> correct</c>

01:26:56.310 --> 01:26:56.320 align:start position:0%
okay i see right we cannot correct
 

01:26:56.320 --> 01:26:58.070 align:start position:0%
okay i see right we cannot correct
because<01:26:56.560><c> we</c><01:26:56.719><c> might</c><01:26:56.880><c> have</c><01:26:57.040><c> updated</c><01:26:57.520><c> in</c>

01:26:58.070 --> 01:26:58.080 align:start position:0%
because we might have updated in
 

01:26:58.080 --> 01:27:00.470 align:start position:0%
because we might have updated in
the<01:26:58.320><c> in</c><01:26:58.400><c> the</c><01:26:59.280><c> the</c><01:26:59.440><c> directory</c><01:27:00.159><c> you</c><01:27:00.239><c> know</c><01:27:00.400><c> a</c>

01:27:00.470 --> 01:27:00.480 align:start position:0%
the in the the directory you know a
 

01:27:00.480 --> 01:27:02.390 align:start position:0%
the in the the directory you know a
directory<01:27:00.880><c> block</c><01:27:01.199><c> of</c><01:27:01.360><c> some</c>

01:27:02.390 --> 01:27:02.400 align:start position:0%
directory block of some
 

01:27:02.400 --> 01:27:05.030 align:start position:0%
directory block of some
uh<01:27:03.199><c> file</c><01:27:03.600><c> for</c><01:27:04.080><c> we</c><01:27:04.239><c> might</c><01:27:04.480><c> have</c><01:27:04.560><c> to</c><01:27:04.639><c> update</c><01:27:04.960><c> the</c>

01:27:05.030 --> 01:27:05.040 align:start position:0%
uh file for we might have to update the
 

01:27:05.040 --> 01:27:06.950 align:start position:0%
uh file for we might have to update the
directory<01:27:05.360><c> block</c><01:27:05.520><c> of</c><01:27:05.600><c> some</c><01:27:05.760><c> directory</c><01:27:06.320><c> and</c>

01:27:06.950 --> 01:27:06.960 align:start position:0%
directory block of some directory and
 

01:27:06.960 --> 01:27:09.270 align:start position:0%
directory block of some directory and
if<01:27:07.120><c> we</c><01:27:07.280><c> wanted</c><01:27:07.600><c> to</c><01:27:08.320><c> make</c><01:27:08.480><c> this</c><01:27:08.719><c> work</c><01:27:09.120><c> you</c><01:27:09.199><c> know</c>

01:27:09.270 --> 01:27:09.280 align:start position:0%
if we wanted to make this work you know
 

01:27:09.280 --> 01:27:10.709 align:start position:0%
if we wanted to make this work you know
what<01:27:09.440><c> we</c><01:27:09.600><c> would</c><01:27:09.760><c> have</c><01:27:09.920><c> to</c><01:27:10.000><c> do</c><01:27:10.159><c> is</c><01:27:10.320><c> basically</c>

01:27:10.709 --> 01:27:10.719 align:start position:0%
what we would have to do is basically
 

01:27:10.719 --> 01:27:11.830 align:start position:0%
what we would have to do is basically
undo<01:27:11.040><c> those</c><01:27:11.360><c> changes</c>

01:27:11.830 --> 01:27:11.840 align:start position:0%
undo those changes
 

01:27:11.840 --> 01:27:14.550 align:start position:0%
undo those changes
right<01:27:12.080><c> like</c><01:27:12.400><c> any</c><01:27:13.440><c> uh</c><01:27:13.840><c> rights</c><01:27:14.080><c> that</c><01:27:14.239><c> we</c><01:27:14.400><c> did</c>

01:27:14.550 --> 01:27:14.560 align:start position:0%
right like any uh rights that we did
 

01:27:14.560 --> 01:27:15.189 align:start position:0%
right like any uh rights that we did
before

01:27:15.189 --> 01:27:15.199 align:start position:0%
before
 

01:27:15.199 --> 01:27:16.830 align:start position:0%
before
as<01:27:15.360><c> part</c><01:27:15.600><c> of</c><01:27:15.679><c> that</c><01:27:15.840><c> system</c><01:27:16.080><c> call</c><01:27:16.320><c> we</c><01:27:16.480><c> have</c><01:27:16.560><c> to</c>

01:27:16.830 --> 01:27:16.840 align:start position:0%
as part of that system call we have to
 

01:27:16.840 --> 01:27:18.709 align:start position:0%
as part of that system call we have to
undo

01:27:18.709 --> 01:27:18.719 align:start position:0%
undo
 

01:27:18.719 --> 01:27:22.070 align:start position:0%
undo
right<01:27:19.280><c> and</c><01:27:19.760><c> you</c><01:27:19.840><c> know</c><01:27:20.080><c> that</c><01:27:20.239><c> is</c><01:27:20.400><c> painful</c>

01:27:22.070 --> 01:27:22.080 align:start position:0%
right and you know that is painful
 

01:27:22.080 --> 01:27:24.550 align:start position:0%
right and you know that is painful
right<01:27:22.400><c> so</c><01:27:22.560><c> we</c><01:27:22.719><c> don't</c><01:27:22.880><c> do</c><01:27:23.040><c> it</c><01:27:24.159><c> does</c><01:27:24.320><c> that</c><01:27:24.400><c> make</c>

01:27:24.550 --> 01:27:24.560 align:start position:0%
right so we don't do it does that make
 

01:27:24.560 --> 01:27:25.669 align:start position:0%
right so we don't do it does that make
sense

01:27:25.669 --> 01:27:25.679 align:start position:0%
sense
 

01:27:25.679 --> 01:27:29.110 align:start position:0%
sense
okay<01:27:25.920><c> so</c><01:27:26.080><c> it's</c><01:27:26.239><c> not</c><01:27:26.400><c> a</c><01:27:26.560><c> problem</c><01:27:26.960><c> if</c><01:27:28.480><c> they</c>

01:27:29.110 --> 01:27:29.120 align:start position:0%
okay so it's not a problem if they
 

01:27:29.120 --> 01:27:32.870 align:start position:0%
okay so it's not a problem if they
log<01:27:30.159><c> the</c><01:27:30.719><c> the</c><01:27:30.880><c> log</c><01:27:31.280><c> pins</c><01:27:31.679><c> everything</c>

01:27:32.870 --> 01:27:32.880 align:start position:0%
log the the log pins everything
 

01:27:32.880 --> 01:27:34.790 align:start position:0%
log the the log pins everything
and<01:27:32.960><c> there's</c><01:27:33.280><c> no</c><01:27:33.440><c> more</c><01:27:33.679><c> space</c><01:27:34.000><c> for</c><01:27:34.159><c> cash</c><01:27:34.480><c> but</c>

01:27:34.790 --> 01:27:34.800 align:start position:0%
and there's no more space for cash but
 

01:27:34.800 --> 01:27:36.149 align:start position:0%
and there's no more space for cash but
it<01:27:34.960><c> will</c><01:27:35.280><c> just</c><01:27:35.600><c> pat</c><01:27:35.840><c> it</c>

01:27:36.149 --> 01:27:36.159 align:start position:0%
it will just pat it
 

01:27:36.159 --> 01:27:38.950 align:start position:0%
it will just pat it
okay<01:27:37.280><c> yeah</c><01:27:38.159><c> yeah</c><01:27:38.320><c> of</c><01:27:38.400><c> course</c><01:27:38.639><c> this</c><01:27:38.719><c> banner</c>

01:27:38.950 --> 01:27:38.960 align:start position:0%
okay yeah yeah of course this banner
 

01:27:38.960 --> 01:27:39.910 align:start position:0%
okay yeah yeah of course this banner
should<01:27:39.120><c> never</c><01:27:39.360><c> really</c><01:27:39.600><c> happen</c>

01:27:39.910 --> 01:27:39.920 align:start position:0%
should never really happen
 

01:27:39.920 --> 01:27:41.830 align:start position:0%
should never really happen
right<01:27:40.080><c> like</c><01:27:40.239><c> there's</c><01:27:40.480><c> an</c><01:27:40.800><c> only</c><01:27:41.120><c> off</c><01:27:41.520><c> corner</c>

01:27:41.830 --> 01:27:41.840 align:start position:0%
right like there's an only off corner
 

01:27:41.840 --> 01:27:43.910 align:start position:0%
right like there's an only off corner
cases<01:27:42.159><c> where</c><01:27:42.320><c> that</c><01:27:42.639><c> hopefully</c><01:27:43.040><c> happens</c>

01:27:43.910 --> 01:27:43.920 align:start position:0%
cases where that hopefully happens
 

01:27:43.920 --> 01:27:47.590 align:start position:0%
cases where that hopefully happens
right<01:27:45.040><c> i</c><01:27:45.120><c> guess</c><01:27:45.360><c> if</c><01:27:45.440><c> you</c><01:27:45.600><c> just</c><01:27:46.800><c> okay</c><01:27:47.120><c> yeah</c>

01:27:47.590 --> 01:27:47.600 align:start position:0%
right i guess if you just okay yeah
 

01:27:47.600 --> 01:27:50.229 align:start position:0%
right i guess if you just okay yeah
that<01:27:47.920><c> makes</c><01:27:48.080><c> sense</c><01:27:48.400><c> okay</c><01:27:49.120><c> thank</c><01:27:49.360><c> you</c><01:27:50.080><c> you're</c>

01:27:50.229 --> 01:27:50.239 align:start position:0%
that makes sense okay thank you you're
 

01:27:50.239 --> 01:27:51.830 align:start position:0%
that makes sense okay thank you you're
welcome

01:27:51.830 --> 01:27:51.840 align:start position:0%
welcome
 

01:27:51.840 --> 01:27:54.950 align:start position:0%
welcome
any<01:27:52.080><c> more</c><01:27:52.320><c> questions</c><01:27:54.080><c> uh</c><01:27:54.320><c> i</c><01:27:54.400><c> have</c><01:27:54.560><c> a</c><01:27:54.639><c> question</c>

01:27:54.950 --> 01:27:54.960 align:start position:0%
any more questions uh i have a question
 

01:27:54.960 --> 01:27:55.430 align:start position:0%
any more questions uh i have a question
about

01:27:55.430 --> 01:27:55.440 align:start position:0%
about
 

01:27:55.440 --> 01:27:57.430 align:start position:0%
about
um<01:27:56.320><c> i</c><01:27:56.480><c> guess</c><01:27:56.639><c> following</c><01:27:56.960><c> up</c><01:27:57.040><c> on</c><01:27:57.199><c> my</c><01:27:57.280><c> earlier</c>

01:27:57.430 --> 01:27:57.440 align:start position:0%
um i guess following up on my earlier
 

01:27:57.440 --> 01:27:59.510 align:start position:0%
um i guess following up on my earlier
one<01:27:57.600><c> about</c><01:27:58.000><c> uh</c>

01:27:59.510 --> 01:27:59.520 align:start position:0%
one about uh
 

01:27:59.520 --> 01:28:02.550 align:start position:0%
one about uh
the<01:27:59.679><c> group</c><01:27:59.920><c> commits</c><01:28:01.120><c> um</c><01:28:02.080><c> i</c><01:28:02.239><c> was</c>

01:28:02.550 --> 01:28:02.560 align:start position:0%
the group commits um i was
 

01:28:02.560 --> 01:28:04.950 align:start position:0%
the group commits um i was
trying<01:28:02.800><c> to</c><01:28:02.880><c> think</c><01:28:03.120><c> of</c><01:28:03.840><c> like</c><01:28:04.080><c> i</c><01:28:04.320><c> think</c><01:28:04.719><c> i</c><01:28:04.800><c> kind</c>

01:28:04.950 --> 01:28:04.960 align:start position:0%
trying to think of like i think i kind
 

01:28:04.960 --> 01:28:06.149 align:start position:0%
trying to think of like i think i kind
of<01:28:05.120><c> understand</c><01:28:05.440><c> it</c><01:28:05.520><c> at</c><01:28:05.600><c> a</c><01:28:05.679><c> high</c><01:28:05.840><c> level</c><01:28:06.000><c> what</c><01:28:06.080><c> i</c>

01:28:06.149 --> 01:28:06.159 align:start position:0%
of understand it at a high level what i
 

01:28:06.159 --> 01:28:06.950 align:start position:0%
of understand it at a high level what i
was<01:28:06.239><c> trying</c><01:28:06.400><c> to</c><01:28:06.480><c> make</c><01:28:06.560><c> sure</c><01:28:06.719><c> like</c><01:28:06.880><c> i</c>

01:28:06.950 --> 01:28:06.960 align:start position:0%
was trying to make sure like i
 

01:28:06.960 --> 01:28:07.910 align:start position:0%
was trying to make sure like i
understand<01:28:07.280><c> like</c><01:28:07.440><c> a</c>

01:28:07.910 --> 01:28:07.920 align:start position:0%
understand like a
 

01:28:07.920 --> 01:28:10.550 align:start position:0%
understand like a
concrete<01:28:08.320><c> example</c><01:28:08.719><c> why</c><01:28:08.960><c> group</c><01:28:09.199><c> commits</c><01:28:09.679><c> is</c><01:28:10.159><c> is</c>

01:28:10.550 --> 01:28:10.560 align:start position:0%
concrete example why group commits is is
 

01:28:10.560 --> 01:28:11.110 align:start position:0%
concrete example why group commits is is
important

01:28:11.110 --> 01:28:11.120 align:start position:0%
important
 

01:28:11.120 --> 01:28:14.550 align:start position:0%
important
and<01:28:11.840><c> uh</c><01:28:13.120><c> is</c><01:28:13.280><c> this</c><01:28:13.520><c> an</c><01:28:13.600><c> example</c><01:28:13.920><c> that</c><01:28:14.080><c> kind</c><01:28:14.239><c> of</c>

01:28:14.550 --> 01:28:14.560 align:start position:0%
and uh is this an example that kind of
 

01:28:14.560 --> 01:28:16.629 align:start position:0%
and uh is this an example that kind of
demonstrates<01:28:15.199><c> it</c><01:28:15.360><c> it's</c><01:28:15.520><c> like</c><01:28:16.159><c> i</c><01:28:16.239><c> guess</c><01:28:16.480><c> i</c><01:28:16.560><c> was</c>

01:28:16.629 --> 01:28:16.639 align:start position:0%
demonstrates it it's like i guess i was
 

01:28:16.639 --> 01:28:18.229 align:start position:0%
demonstrates it it's like i guess i was
thinking<01:28:16.960><c> of</c><01:28:17.040><c> like</c><01:28:17.199><c> a</c><01:28:17.280><c> situation</c><01:28:17.920><c> where</c><01:28:18.080><c> you</c>

01:28:18.229 --> 01:28:18.239 align:start position:0%
thinking of like a situation where you
 

01:28:18.239 --> 01:28:19.110 align:start position:0%
thinking of like a situation where you
have

01:28:19.110 --> 01:28:19.120 align:start position:0%
have
 

01:28:19.120 --> 01:28:22.709 align:start position:0%
have
um<01:28:20.239><c> say</c><01:28:20.480><c> like</c><01:28:21.840><c> this</c><01:28:22.000><c> might</c><01:28:22.159><c> be</c><01:28:22.320><c> convoluted</c>

01:28:22.709 --> 01:28:22.719 align:start position:0%
um say like this might be convoluted
 

01:28:22.719 --> 01:28:23.750 align:start position:0%
um say like this might be convoluted
like<01:28:22.880><c> one</c><01:28:23.120><c> process</c>

01:28:23.750 --> 01:28:23.760 align:start position:0%
like one process
 

01:28:23.760 --> 01:28:26.390 align:start position:0%
like one process
generating<01:28:24.239><c> a</c><01:28:24.320><c> stream</c><01:28:25.120><c> of</c><01:28:25.440><c> like</c><01:28:25.679><c> numbers</c><01:28:26.000><c> like</c>

01:28:26.390 --> 01:28:26.400 align:start position:0%
generating a stream of like numbers like
 

01:28:26.400 --> 01:28:27.590 align:start position:0%
generating a stream of like numbers like
one<01:28:26.639><c> through</c><01:28:26.960><c> n</c>

01:28:27.590 --> 01:28:27.600 align:start position:0%
one through n
 

01:28:27.600 --> 01:28:31.030 align:start position:0%
one through n
and<01:28:27.679><c> then</c><01:28:27.920><c> two</c><01:28:28.239><c> processes</c><01:28:29.920><c> consuming</c>

01:28:31.030 --> 01:28:31.040 align:start position:0%
and then two processes consuming
 

01:28:31.040 --> 01:28:32.470 align:start position:0%
and then two processes consuming
uh<01:28:31.440><c> that</c><01:28:31.600><c> maybe</c><01:28:31.840><c> they're</c><01:28:32.000><c> listening</c><01:28:32.320><c> on</c><01:28:32.400><c> the</c>

01:28:32.470 --> 01:28:32.480 align:start position:0%
uh that maybe they're listening on the
 

01:28:32.480 --> 01:28:34.470 align:start position:0%
uh that maybe they're listening on the
same<01:28:32.719><c> pipe</c><01:28:33.520><c> um</c>

01:28:34.470 --> 01:28:34.480 align:start position:0%
same pipe um
 

01:28:34.480 --> 01:28:37.430 align:start position:0%
same pipe um
and<01:28:35.280><c> say</c><01:28:35.600><c> like</c><01:28:35.920><c> n</c><01:28:36.400><c> like</c><01:28:36.560><c> stops</c><01:28:36.960><c> on</c><01:28:37.040><c> an</c><01:28:37.199><c> even</c>

01:28:37.430 --> 01:28:37.440 align:start position:0%
and say like n like stops on an even
 

01:28:37.440 --> 01:28:37.990 align:start position:0%
and say like n like stops on an even
number

01:28:37.990 --> 01:28:38.000 align:start position:0%
number
 

01:28:38.000 --> 01:28:40.629 align:start position:0%
number
um<01:28:38.639><c> one</c><01:28:38.880><c> process</c><01:28:39.520><c> is</c><01:28:39.760><c> print</c><01:28:40.080><c> consuming</c><01:28:40.560><c> and</c>

01:28:40.629 --> 01:28:40.639 align:start position:0%
um one process is print consuming and
 

01:28:40.639 --> 01:28:42.629 align:start position:0%
um one process is print consuming and
printing<01:28:40.960><c> out</c><01:28:41.280><c> the</c><01:28:41.520><c> odd</c><01:28:41.679><c> numbers</c><01:28:42.080><c> one</c><01:28:42.239><c> process</c>

01:28:42.629 --> 01:28:42.639 align:start position:0%
printing out the odd numbers one process
 

01:28:42.639 --> 01:28:43.990 align:start position:0%
printing out the odd numbers one process
is<01:28:42.719><c> consuming</c>

01:28:43.990 --> 01:28:44.000 align:start position:0%
is consuming
 

01:28:44.000 --> 01:28:47.270 align:start position:0%
is consuming
the<01:28:44.080><c> even</c><01:28:44.320><c> numbers</c><01:28:45.360><c> um</c><01:28:46.000><c> and</c><01:28:46.800><c> if</c><01:28:46.880><c> you</c><01:28:47.040><c> didn't</c>

01:28:47.270 --> 01:28:47.280 align:start position:0%
the even numbers um and if you didn't
 

01:28:47.280 --> 01:28:48.149 align:start position:0%
the even numbers um and if you didn't
have<01:28:47.440><c> group</c><01:28:47.679><c> commits</c>

01:28:48.149 --> 01:28:48.159 align:start position:0%
have group commits
 

01:28:48.159 --> 01:28:50.390 align:start position:0%
have group commits
so<01:28:48.400><c> like</c><01:28:48.719><c> that</c><01:28:48.880><c> the</c><01:28:49.040><c> correct</c><01:28:49.440><c> behavior</c><01:28:49.840><c> is</c><01:28:50.000><c> and</c>

01:28:50.390 --> 01:28:50.400 align:start position:0%
so like that the correct behavior is and
 

01:28:50.400 --> 01:28:51.669 align:start position:0%
so like that the correct behavior is and
say<01:28:50.560><c> they're</c><01:28:50.880><c> they're</c><01:28:51.120><c> printing</c>

01:28:51.669 --> 01:28:51.679 align:start position:0%
say they're they're printing
 

01:28:51.679 --> 01:28:53.350 align:start position:0%
say they're they're printing
or<01:28:51.760><c> like</c><01:28:51.920><c> they're</c><01:28:52.560><c> they're</c><01:28:52.719><c> writing</c><01:28:53.040><c> these</c><01:28:53.199><c> to</c>

01:28:53.350 --> 01:28:53.360 align:start position:0%
or like they're they're writing these to
 

01:28:53.360 --> 01:28:54.830 align:start position:0%
or like they're they're writing these to
the<01:28:53.440><c> same</c><01:28:53.760><c> file</c>

01:28:54.830 --> 01:28:54.840 align:start position:0%
the same file
 

01:28:54.840 --> 01:28:57.830 align:start position:0%
the same file
um<01:28:56.080><c> and</c><01:28:56.239><c> so</c><01:28:56.400><c> the</c><01:28:56.639><c> correct</c><01:28:56.960><c> behavior</c><01:28:57.360><c> would</c><01:28:57.440><c> be</c>

01:28:57.830 --> 01:28:57.840 align:start position:0%
um and so the correct behavior would be
 

01:28:57.840 --> 01:28:59.990 align:start position:0%
um and so the correct behavior would be
at<01:28:58.000><c> the</c><01:28:58.159><c> end</c><01:28:58.320><c> of</c><01:28:58.800><c> at</c><01:28:58.960><c> the</c><01:28:59.120><c> end</c><01:28:59.360><c> of</c><01:28:59.520><c> all</c><01:28:59.679><c> this</c><01:28:59.920><c> you</c>

01:28:59.990 --> 01:29:00.000 align:start position:0%
at the end of at the end of all this you
 

01:29:00.000 --> 01:29:01.189 align:start position:0%
at the end of at the end of all this you
would<01:29:00.159><c> expect</c><01:29:00.400><c> the</c><01:29:00.480><c> file</c><01:29:00.719><c> to</c><01:29:00.800><c> have</c>

01:29:01.189 --> 01:29:01.199 align:start position:0%
would expect the file to have
 

01:29:01.199 --> 01:29:03.510 align:start position:0%
would expect the file to have
like<01:29:01.520><c> an</c><01:29:01.679><c> even</c><01:29:01.920><c> number</c><01:29:02.159><c> like</c><01:29:02.400><c> the</c><01:29:02.480><c> last</c><01:29:02.719><c> number</c>

01:29:03.510 --> 01:29:03.520 align:start position:0%
like an even number like the last number
 

01:29:03.520 --> 01:29:04.470 align:start position:0%
like an even number like the last number
um

01:29:04.470 --> 01:29:04.480 align:start position:0%
um
 

01:29:04.480 --> 01:29:06.390 align:start position:0%
um
but<01:29:05.199><c> if</c><01:29:05.360><c> you</c><01:29:05.440><c> didn't</c><01:29:05.679><c> have</c><01:29:05.840><c> group</c><01:29:06.000><c> commits</c>

01:29:06.390 --> 01:29:06.400 align:start position:0%
but if you didn't have group commits
 

01:29:06.400 --> 01:29:07.669 align:start position:0%
but if you didn't have group commits
it's<01:29:06.480><c> possible</c><01:29:06.880><c> that</c>

01:29:07.669 --> 01:29:07.679 align:start position:0%
it's possible that
 

01:29:07.679 --> 01:29:11.110 align:start position:0%
it's possible that
um<01:29:08.560><c> the</c><01:29:08.960><c> the</c><01:29:09.199><c> second</c><01:29:09.520><c> to</c><01:29:09.679><c> last</c><01:29:10.000><c> process</c>

01:29:11.110 --> 01:29:11.120 align:start position:0%
um the the second to last process
 

01:29:11.120 --> 01:29:13.350 align:start position:0%
um the the second to last process
actually<01:29:11.360><c> gets</c><01:29:11.520><c> committed</c><01:29:12.000><c> after</c><01:29:12.880><c> the</c><01:29:13.040><c> last</c>

01:29:13.350 --> 01:29:13.360 align:start position:0%
actually gets committed after the last
 

01:29:13.360 --> 01:29:14.629 align:start position:0%
actually gets committed after the last
one<01:29:13.760><c> and</c><01:29:13.920><c> so</c><01:29:14.000><c> you</c><01:29:14.080><c> actually</c><01:29:14.400><c> see</c>

01:29:14.629 --> 01:29:14.639 align:start position:0%
one and so you actually see
 

01:29:14.639 --> 01:29:16.950 align:start position:0%
one and so you actually see
nine<01:29:14.880><c> is</c><01:29:14.960><c> this</c><01:29:15.199><c> like</c><01:29:15.360><c> a</c><01:29:15.600><c> correct</c><01:29:16.320><c> example</c><01:29:16.800><c> of</c>

01:29:16.950 --> 01:29:16.960 align:start position:0%
nine is this like a correct example of
 

01:29:16.960 --> 01:29:18.709 align:start position:0%
nine is this like a correct example of
why<01:29:17.120><c> this</c><01:29:17.360><c> is</c><01:29:17.440><c> important</c><01:29:17.840><c> i</c><01:29:18.080><c> think</c>

01:29:18.709 --> 01:29:18.719 align:start position:0%
why this is important i think
 

01:29:18.719 --> 01:29:19.830 align:start position:0%
why this is important i think
i<01:29:18.880><c> have</c><01:29:18.960><c> to</c><01:29:19.120><c> think</c><01:29:19.360><c> a</c><01:29:19.440><c> little</c><01:29:19.600><c> bit</c><01:29:19.679><c> more</c>

01:29:19.830 --> 01:29:19.840 align:start position:0%
i have to think a little bit more
 

01:29:19.840 --> 01:29:21.430 align:start position:0%
i have to think a little bit more
carefully<01:29:20.239><c> about</c><01:29:20.480><c> it</c><01:29:20.719><c> uh</c><01:29:20.960><c> but</c><01:29:21.120><c> that</c><01:29:21.360><c> is</c>

01:29:21.430 --> 01:29:21.440 align:start position:0%
carefully about it uh but that is
 

01:29:21.440 --> 01:29:22.550 align:start position:0%
carefully about it uh but that is
definitely<01:29:21.760><c> the</c><01:29:21.840><c> flavor</c>

01:29:22.550 --> 01:29:22.560 align:start position:0%
definitely the flavor
 

01:29:22.560 --> 01:29:24.950 align:start position:0%
definitely the flavor
uh<01:29:23.040><c> of</c><01:29:23.760><c> the</c><01:29:24.080><c> problem</c><01:29:24.400><c> that</c><01:29:24.480><c> you</c><01:29:24.560><c> might</c><01:29:24.800><c> run</c>

01:29:24.950 --> 01:29:24.960 align:start position:0%
uh of the problem that you might run
 

01:29:24.960 --> 01:29:28.310 align:start position:0%
uh of the problem that you might run
into<01:29:25.360><c> if</c><01:29:25.440><c> you</c><01:29:25.679><c> reorder</c><01:29:26.159><c> system</c><01:29:26.480><c> calls</c>

01:29:28.310 --> 01:29:28.320 align:start position:0%
into if you reorder system calls
 

01:29:28.320 --> 01:29:31.669 align:start position:0%
into if you reorder system calls
okay<01:29:29.360><c> okay</c><01:29:30.639><c> uh</c><01:29:30.880><c> i</c><01:29:31.199><c> have</c><01:29:31.280><c> a</c>

01:29:31.669 --> 01:29:31.679 align:start position:0%
okay okay uh i have a
 

01:29:31.679 --> 01:29:35.270 align:start position:0%
okay okay uh i have a
concrete<01:29:32.080><c> example</c><01:29:32.480><c> in</c><01:29:32.560><c> the</c><01:29:32.639><c> lecture</c><01:29:32.960><c> notes</c><01:29:33.600><c> uh</c>

01:29:35.270 --> 01:29:35.280 align:start position:0%
concrete example in the lecture notes uh
 

01:29:35.280 --> 01:29:36.470 align:start position:0%
concrete example in the lecture notes uh
let<01:29:35.440><c> you</c><01:29:35.600><c> know</c><01:29:35.760><c> it's</c><01:29:35.840><c> you</c><01:29:36.000><c> know</c><01:29:36.080><c> of</c><01:29:36.239><c> a</c><01:29:36.320><c> shell</c>

01:29:36.470 --> 01:29:36.480 align:start position:0%
let you know it's you know of a shell
 

01:29:36.480 --> 01:29:38.550 align:start position:0%
let you know it's you know of a shell
command<01:29:36.800><c> that</c><01:29:37.040><c> really</c><01:29:37.360><c> you</c><01:29:37.520><c> know</c><01:29:37.679><c> behaves</c>

01:29:38.550 --> 01:29:38.560 align:start position:0%
command that really you know behaves
 

01:29:38.560 --> 01:29:41.030 align:start position:0%
command that really you know behaves
weirdly<01:29:38.960><c> if</c><01:29:39.120><c> you</c><01:29:39.199><c> didn't</c><01:29:39.360><c> commit</c><01:29:40.639><c> this</c><01:29:40.800><c> is</c><01:29:40.880><c> not</c>

01:29:41.030 --> 01:29:41.040 align:start position:0%
weirdly if you didn't commit this is not
 

01:29:41.040 --> 01:29:42.229 align:start position:0%
weirdly if you didn't commit this is not
really<01:29:41.199><c> an</c><01:29:41.360><c> issue</c><01:29:41.520><c> in</c><01:29:41.600><c> some</c><01:29:41.760><c> sense</c><01:29:42.000><c> from</c><01:29:42.080><c> group</c>

01:29:42.229 --> 01:29:42.239 align:start position:0%
really an issue in some sense from group
 

01:29:42.239 --> 01:29:43.430 align:start position:0%
really an issue in some sense from group
committee<01:29:42.560><c> that</c><01:29:42.639><c> is</c><01:29:42.719><c> really</c><01:29:42.960><c> an</c><01:29:43.040><c> issue</c><01:29:43.280><c> that</c>

01:29:43.430 --> 01:29:43.440 align:start position:0%
committee that is really an issue that
 

01:29:43.440 --> 01:29:44.149 align:start position:0%
committee that is really an issue that
like

01:29:44.149 --> 01:29:44.159 align:start position:0%
like
 

01:29:44.159 --> 01:29:45.430 align:start position:0%
like
transactions<01:29:44.639><c> need</c><01:29:44.800><c> to</c><01:29:44.880><c> be</c><01:29:44.960><c> committed</c><01:29:45.360><c> in</c>

01:29:45.430 --> 01:29:45.440 align:start position:0%
transactions need to be committed in
 

01:29:45.440 --> 01:29:47.510 align:start position:0%
transactions need to be committed in
order

01:29:47.510 --> 01:29:47.520 align:start position:0%
order
 

01:29:47.520 --> 01:29:50.709 align:start position:0%
order
um<01:29:48.960><c> i</c><01:29:49.120><c> see</c><01:29:49.520><c> and</c><01:29:49.679><c> grew</c><01:29:50.000><c> and</c><01:29:50.080><c> if</c><01:29:50.159><c> you</c><01:29:50.320><c> didn't</c><01:29:50.480><c> have</c>

01:29:50.709 --> 01:29:50.719 align:start position:0%
um i see and grew and if you didn't have
 

01:29:50.719 --> 01:29:52.070 align:start position:0%
um i see and grew and if you didn't have
group<01:29:50.880><c> commit</c><01:29:51.280><c> then</c>

01:29:52.070 --> 01:29:52.080 align:start position:0%
group commit then
 

01:29:52.080 --> 01:29:53.669 align:start position:0%
group commit then
yeah<01:29:52.560><c> that</c><01:29:52.719><c> just</c><01:29:52.880><c> might</c><01:29:53.040><c> not</c><01:29:53.199><c> be</c><01:29:53.280><c> some</c><01:29:53.440><c> people</c>

01:29:53.669 --> 01:29:53.679 align:start position:0%
yeah that just might not be some people
 

01:29:53.679 --> 01:29:55.030 align:start position:0%
yeah that just might not be some people
might<01:29:53.840><c> think</c><01:29:54.080><c> like</c><01:29:54.239><c> well</c><01:29:54.400><c> what</c><01:29:54.639><c> i</c><01:29:54.719><c> would</c><01:29:54.960><c> i</c>

01:29:55.030 --> 01:29:55.040 align:start position:0%
might think like well what i would i
 

01:29:55.040 --> 01:29:56.629 align:start position:0%
might think like well what i would i
should<01:29:55.280><c> if</c><01:29:55.520><c> i</c><01:29:55.679><c> uh</c><01:29:56.000><c> if</c><01:29:56.080><c> you</c><01:29:56.159><c> didn't</c><01:29:56.320><c> have</c><01:29:56.480><c> group</c>

01:29:56.629 --> 01:29:56.639 align:start position:0%
should if i uh if you didn't have group
 

01:29:56.639 --> 01:29:57.350 align:start position:0%
should if i uh if you didn't have group
commit<01:29:56.960><c> then</c>

01:29:57.350 --> 01:29:57.360 align:start position:0%
commit then
 

01:29:57.360 --> 01:29:58.870 align:start position:0%
commit then
there's<01:29:57.679><c> a</c><01:29:57.760><c> temptation</c><01:29:58.239><c> to</c><01:29:58.400><c> basically</c><01:29:58.800><c> you</c>

01:29:58.870 --> 01:29:58.880 align:start position:0%
there's a temptation to basically you
 

01:29:58.880 --> 01:30:00.310 align:start position:0%
there's a temptation to basically you
know<01:29:59.040><c> commit</c><01:29:59.280><c> some</c><01:29:59.600><c> later</c><01:29:59.840><c> transaction</c>

01:30:00.310 --> 01:30:00.320 align:start position:0%
know commit some later transaction
 

01:30:00.320 --> 01:30:01.590 align:start position:0%
know commit some later transaction
because<01:30:00.560><c> it's</c><01:30:00.719><c> already</c><01:30:01.040><c> finished</c><01:30:01.360><c> but</c><01:30:01.520><c> the</c>

01:30:01.590 --> 01:30:01.600 align:start position:0%
because it's already finished but the
 

01:30:01.600 --> 01:30:03.430 align:start position:0%
because it's already finished but the
first<01:30:01.840><c> one</c><01:30:02.000><c> isn't</c><01:30:02.239><c> finished</c><01:30:02.560><c> yet</c>

01:30:03.430 --> 01:30:03.440 align:start position:0%
first one isn't finished yet
 

01:30:03.440 --> 01:30:05.350 align:start position:0%
first one isn't finished yet
uh<01:30:03.920><c> to</c><01:30:04.080><c> create</c><01:30:04.320><c> space</c><01:30:04.719><c> but</c><01:30:04.880><c> that's</c><01:30:05.120><c> not</c><01:30:05.280><c> a</c>

01:30:05.350 --> 01:30:05.360 align:start position:0%
uh to create space but that's not a
 

01:30:05.360 --> 01:30:07.510 align:start position:0%
uh to create space but that's not a
solution

01:30:07.510 --> 01:30:07.520 align:start position:0%
solution
 

01:30:07.520 --> 01:30:10.310 align:start position:0%
solution
okay<01:30:08.480><c> that</c><01:30:08.639><c> makes</c><01:30:08.880><c> sense</c><01:30:09.280><c> uh</c><01:30:09.600><c> where</c><01:30:09.920><c> where</c><01:30:10.239><c> in</c>

01:30:10.310 --> 01:30:10.320 align:start position:0%
okay that makes sense uh where where in
 

01:30:10.320 --> 01:30:11.990 align:start position:0%
okay that makes sense uh where where in
the<01:30:10.480><c> lecture</c><01:30:10.719><c> notes</c><01:30:10.960><c> was</c><01:30:11.280><c> this</c><01:30:11.520><c> example</c><01:30:11.920><c> i</c>

01:30:11.990 --> 01:30:12.000 align:start position:0%
the lecture notes was this example i
 

01:30:12.000 --> 01:30:13.830 align:start position:0%
the lecture notes was this example i
think<01:30:12.159><c> you</c><01:30:12.239><c> have</c><01:30:12.400><c> a</c><01:30:12.480><c> shell</c><01:30:12.719><c> command</c>

01:30:13.830 --> 01:30:13.840 align:start position:0%
think you have a shell command
 

01:30:13.840 --> 01:30:15.350 align:start position:0%
think you have a shell command
where<01:30:14.000><c> it</c><01:30:14.080><c> sort</c><01:30:14.239><c> of</c><01:30:14.560><c> illustrates</c><01:30:15.040><c> that</c><01:30:15.120><c> like</c>

01:30:15.350 --> 01:30:15.360 align:start position:0%
where it sort of illustrates that like
 

01:30:15.360 --> 01:30:17.270 align:start position:0%
where it sort of illustrates that like
ordering<01:30:15.760><c> is</c><01:30:15.840><c> important</c>

01:30:17.270 --> 01:30:17.280 align:start position:0%
ordering is important
 

01:30:17.280 --> 01:30:20.470 align:start position:0%
ordering is important
okay<01:30:18.880><c> it</c><01:30:18.960><c> doesn't</c><01:30:19.280><c> tie</c><01:30:19.520><c> it</c><01:30:19.520><c> directly</c><01:30:20.080><c> to</c>

01:30:20.470 --> 01:30:20.480 align:start position:0%
okay it doesn't tie it directly to
 

01:30:20.480 --> 01:30:22.550 align:start position:0%
okay it doesn't tie it directly to
uh<01:30:20.800><c> group</c><01:30:21.120><c> commit</c><01:30:21.440><c> but</c><01:30:21.760><c> you</c><01:30:22.000><c> basically</c><01:30:22.320><c> makes</c>

01:30:22.550 --> 01:30:22.560 align:start position:0%
uh group commit but you basically makes
 

01:30:22.560 --> 01:30:24.229 align:start position:0%
uh group commit but you basically makes
the<01:30:22.639><c> point</c><01:30:22.880><c> that</c><01:30:23.120><c> ordering</c><01:30:23.600><c> system</c><01:30:23.840><c> calls</c><01:30:24.080><c> is</c>

01:30:24.229 --> 01:30:24.239 align:start position:0%
the point that ordering system calls is
 

01:30:24.239 --> 01:30:25.750 align:start position:0%
the point that ordering system calls is
important

01:30:25.750 --> 01:30:25.760 align:start position:0%
important
 

01:30:25.760 --> 01:30:28.310 align:start position:0%
important
i<01:30:25.920><c> see</c><01:30:26.480><c> is</c><01:30:26.639><c> this</c><01:30:26.880><c> in</c><01:30:26.960><c> the</c><01:30:27.199><c> the</c><01:30:27.520><c> like</c><01:30:27.760><c> um</c><01:30:28.080><c> the</c>

01:30:28.310 --> 01:30:28.320 align:start position:0%
i see is this in the the like um the
 

01:30:28.320 --> 01:30:31.600 align:start position:0%
i see is this in the the like um the
text<01:30:28.719><c> functions</c>

